{"ast":null,"code":"var _jsxFileName = \"C:\\\\local clones\\\\rubric-creation-app\\\\src\\\\components\\\\GradingTemplate.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useRef, useEffect } from 'react';\nimport { Download, Upload, FileText, Video, Plus, X, Save, FileDown, Bot, ChevronDown, ChevronUp } from 'lucide-react';\nimport { useAssessment } from './SharedContext';\n\n// Built-in Course Modules\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst courseModules = {\n  \"2d-animation\": {\n    courseType: \"2D Animation\",\n    version: \"1.0\",\n    gradingSettings: {\n      maxPoints: 100,\n      passingGrade: 70,\n      fileTypes: ['.mp4', '.mov', '.gif', '.jpg', '.png'],\n      submissionRequirements: ['Animation file', 'Process documentation'],\n      supportedVideoLinks: ['SyncSketch', 'Panopto', 'YouTube', 'Vimeo']\n    },\n    rubric: [{\n      criteria: 'Animation Principles',\n      maxPoints: 30,\n      score: 0,\n      comments: '',\n      description: 'Timing, spacing, squash & stretch, anticipation'\n    }, {\n      criteria: 'Technical Execution',\n      maxPoints: 25,\n      score: 0,\n      comments: '',\n      description: 'Frame rate, resolution, file quality'\n    }, {\n      criteria: 'Creativity & Storytelling',\n      maxPoints: 25,\n      score: 0,\n      comments: '',\n      description: 'Original concept, narrative clarity'\n    }, {\n      criteria: 'Process & Documentation',\n      maxPoints: 20,\n      score: 0,\n      comments: '',\n      description: 'Planning sketches, workflow organization'\n    }],\n    feedbackLibrary: {\n      strengths: ['Excellent timing and spacing throughout the animation', 'Strong understanding of squash and stretch principles', 'Creative and engaging storytelling approach', 'Professional frame-by-frame animation technique'],\n      improvements: ['Work on timing consistency in key sequences', 'Add more anticipation before major actions', 'Improve lip sync accuracy and mouth shapes', 'Consider adding more secondary animation'],\n      general: ['This shows strong progress in animation fundamentals', 'Consider studying reference footage for realistic motion', 'Excellent creative problem-solving in animation challenges']\n    }\n  }\n};\n\n// Sample comprehensive rubric from the PDF\nconst sampleRubric = {\n  assignmentInfo: {\n    title: \"Digital Portfolio Project - Final Showcase\",\n    description: \"Students will create a comprehensive digital portfolio showcasing their best work from the semester, including 5-7 completed projects with professional presentation, artist statements, and technical documentation. The portfolio must demonstrate growth, technical proficiency, and creative vision suitable for industry presentation.\",\n    weight: 30,\n    passingThreshold: 65,\n    totalPoints: 120\n  },\n  rubricLevels: [{\n    level: 'incomplete',\n    name: 'Incomplete',\n    description: 'No submission or unusable',\n    color: '#95a5a6',\n    multiplier: 0\n  }, {\n    level: 'unacceptable',\n    name: 'Unacceptable',\n    description: 'Below minimum standards',\n    color: '#e74c3c',\n    multiplier: 0.3\n  }, {\n    level: 'developing',\n    name: 'Developing',\n    description: 'Approaching standards',\n    color: '#f39c12',\n    multiplier: 0.55\n  }, {\n    level: 'acceptable',\n    name: 'Acceptable (PASS)',\n    description: 'Meets minimum standards',\n    color: '#27ae60',\n    multiplier: 0.7\n  }, {\n    level: 'emerging',\n    name: 'Emerging',\n    description: 'Above standard expectations',\n    color: '#2980b9',\n    multiplier: 0.82\n  }, {\n    level: 'accomplished',\n    name: 'Accomplished',\n    description: 'Strong professional quality',\n    color: '#16a085',\n    multiplier: 0.92\n  }, {\n    level: 'exceptional',\n    name: 'Exceptional',\n    description: 'Outstanding professional quality',\n    color: '#8e44ad',\n    multiplier: 1.0\n  }],\n  criteria: [{\n    id: 'technical-proficiency',\n    name: 'Technical Proficiency & Craft',\n    description: 'Demonstration of technical skills, software mastery, and attention to detail in execution',\n    maxPoints: 35,\n    weight: 29,\n    levels: {\n      incomplete: {\n        description: 'No technical work submitted or files corrupted/unusable.',\n        pointRange: '0'\n      },\n      unacceptable: {\n        description: 'Severe technical issues: poor resolution, improper file formats, broken links, or significant software handling problems that interfere with viewing work.',\n        pointRange: '8-12'\n      },\n      developing: {\n        description: 'Basic technical competency shown but with noticeable issues: inconsistent quality, some resolution problems, or workflow inefficiencies. Software use shows beginner-level understanding.',\n        pointRange: '16-21'\n      },\n      acceptable: {\n        description: 'Solid technical foundation with appropriate file formats, good resolution, and functional navigation. Demonstrates competent use of course software with minimal technical distractions.',\n        pointRange: '22-26'\n      },\n      emerging: {\n        description: 'Strong technical execution with excellent file management, optimized formats, and smooth user experience. Shows advanced software techniques and professional workflow habits.',\n        pointRange: '27-30'\n      },\n      accomplished: {\n        description: 'High-level technical mastery with innovative use of tools, excellent optimization, and seamless integration of multiple software platforms. Technical choices enhance artistic vision.',\n        pointRange: '31-33'\n      },\n      exceptional: {\n        description: 'Exceptional technical virtuosity demonstrating mastery of advanced techniques, custom solutions, and industry-standard workflows. Technical execution elevates the artistic content to professional levels.',\n        pointRange: '34-35'\n      }\n    },\n    feedbackLibrary: {\n      strengths: ['Excellent file management and organization', 'Professional-quality technical execution', 'Innovative use of software tools', 'Seamless integration across platforms'],\n      improvements: ['Optimize file sizes for web delivery', 'Improve resolution consistency', 'Review proper file naming conventions', 'Consider mobile responsiveness'],\n      general: ['Technical skills show strong development', 'Consider exploring advanced techniques', 'Portfolio demonstrates software competency']\n    }\n  }, {\n    id: 'creative-vision',\n    name: 'Creative Vision & Artistic Development',\n    description: 'Originality, artistic voice, conceptual depth, and evolution of creative ideas',\n    maxPoints: 30,\n    weight: 25,\n    levels: {\n      incomplete: {\n        description: 'No creative work presented or completely derivative.',\n        pointRange: '0'\n      },\n      unacceptable: {\n        description: 'Limited creativity with heavy reliance on tutorials or templates. Little evidence of personal artistic voice or original thinking.',\n        pointRange: '7-10'\n      },\n      developing: {\n        description: 'Some original ideas present but inconsistent development. Creative choices show potential but lack depth or coherent vision.',\n        pointRange: '13-17'\n      },\n      acceptable: {\n        description: 'Clear creative direction with personal style emerging. Shows good problem-solving and conceptual thinking with adequate originality.',\n        pointRange: '18-22'\n      },\n      emerging: {\n        description: 'Strong creative vision with distinctive personal style. Demonstrates innovative thinking and sophisticated conceptual development.',\n        pointRange: '23-26'\n      },\n      accomplished: {\n        description: 'Exceptional creative development with unique artistic voice. Shows mastery of design principles and innovative approaches to visual communication.',\n        pointRange: '27-29'\n      },\n      exceptional: {\n        description: 'Outstanding creative vision that pushes boundaries and demonstrates professional-level artistic development. Highly original and conceptually sophisticated.',\n        pointRange: '30'\n      }\n    },\n    feedbackLibrary: {\n      strengths: ['Strong personal artistic voice', 'Innovative conceptual approaches', 'Excellent visual storytelling', 'Distinctive creative style'],\n      improvements: ['Develop concepts more thoroughly', 'Push creative boundaries further', 'Strengthen visual hierarchy', 'Consider audience engagement'],\n      general: ['Creative development shows strong growth', 'Portfolio demonstrates artistic maturity', 'Conceptual thinking is well-developed']\n    }\n  }, {\n    id: 'portfolio-presentation',\n    name: 'Portfolio Presentation & Organization',\n    description: 'Professional presentation, layout design, navigation, and overall user experience',\n    maxPoints: 25,\n    weight: 21,\n    levels: {\n      incomplete: {\n        description: 'No organized presentation or completely inaccessible.',\n        pointRange: '0'\n      },\n      unacceptable: {\n        description: 'Poor organization with confusing navigation, inconsistent layout, or significant usability issues.',\n        pointRange: '6-9'\n      },\n      developing: {\n        description: 'Basic organization present but with layout inconsistencies or navigation problems. Shows understanding of presentation but needs refinement.',\n        pointRange: '11-15'\n      },\n      acceptable: {\n        description: 'Well-organized portfolio with clear navigation and consistent presentation. Professional appearance with good user experience.',\n        pointRange: '16-19'\n      },\n      emerging: {\n        description: 'Excellent presentation with sophisticated layout design, intuitive navigation, and engaging user interface.',\n        pointRange: '20-22'\n      },\n      accomplished: {\n        description: 'Exceptional presentation quality with innovative design solutions and seamless user experience. Portfolio itself demonstrates design mastery.',\n        pointRange: '23-24'\n      },\n      exceptional: {\n        description: 'Outstanding presentation that sets new standards for portfolio design. Every aspect contributes to a cohesive, professional brand experience.',\n        pointRange: '25'\n      }\n    },\n    feedbackLibrary: {\n      strengths: ['Excellent visual hierarchy', 'Professional layout design', 'Intuitive navigation system', 'Consistent branding throughout'],\n      improvements: ['Improve loading times', 'Enhance mobile responsiveness', 'Clarify navigation structure', 'Strengthen visual consistency'],\n      general: ['Portfolio presentation is professional', 'Layout demonstrates design understanding', 'User experience is well-considered']\n    }\n  }, {\n    id: 'written-reflection',\n    name: 'Written Reflection & Artist Statements',\n    description: 'Quality of written analysis, self-reflection, and articulation of artistic process',\n    maxPoints: 20,\n    weight: 17,\n    levels: {\n      incomplete: {\n        description: 'No written reflection provided.',\n        pointRange: '0'\n      },\n      unacceptable: {\n        description: 'Minimal or superficial writing with poor grammar and little insight into artistic process.',\n        pointRange: '5-7'\n      },\n      developing: {\n        description: 'Basic reflection with some insight but lacking depth or clear articulation of artistic development.',\n        pointRange: '9-12'\n      },\n      acceptable: {\n        description: 'Good written reflection that demonstrates understanding of artistic process and clear communication of ideas.',\n        pointRange: '13-15'\n      },\n      emerging: {\n        description: 'Strong written analysis with thoughtful reflection on artistic growth and articulate discussion of creative decisions.',\n        pointRange: '16-17'\n      },\n      accomplished: {\n        description: 'Exceptional written work that demonstrates deep understanding of artistic practice and sophisticated communication skills.',\n        pointRange: '18-19'\n      },\n      exceptional: {\n        description: 'Outstanding written reflection that contributes significantly to understanding of artistic development and creative practice.',\n        pointRange: '20'\n      }\n    },\n    feedbackLibrary: {\n      strengths: ['Thoughtful artistic reflection', 'Clear communication of ideas', 'Strong analytical thinking', 'Professional writing quality'],\n      improvements: ['Develop ideas more thoroughly', 'Improve grammar and syntax', 'Add more specific examples', 'Strengthen conclusion'],\n      general: ['Written work shows good reflection', 'Communication skills are developing', 'Artistic awareness is evident']\n    }\n  }, {\n    id: 'professional-readiness',\n    name: 'Professional Readiness & Industry Standards',\n    description: 'Adherence to professional standards, industry practices, and career preparation',\n    maxPoints: 10,\n    weight: 8,\n    levels: {\n      incomplete: {\n        description: 'No evidence of professional preparation.',\n        pointRange: '0'\n      },\n      unacceptable: {\n        description: 'Little attention to professional standards or industry expectations.',\n        pointRange: '2-3'\n      },\n      developing: {\n        description: 'Some awareness of professional practices but inconsistent application.',\n        pointRange: '4-6'\n      },\n      acceptable: {\n        description: 'Good understanding of professional standards with appropriate presentation for industry viewing.',\n        pointRange: '7-8'\n      },\n      emerging: {\n        description: 'Strong professional preparation with portfolio ready for industry presentation.',\n        pointRange: '8-9'\n      },\n      accomplished: {\n        description: 'Exceptional professional readiness exceeding industry standards.',\n        pointRange: '9-10'\n      },\n      exceptional: {\n        description: 'Outstanding professional preparation that demonstrates career readiness.',\n        pointRange: '10'\n      }\n    },\n    feedbackLibrary: {\n      strengths: ['Industry-ready presentation', 'Professional attention to detail', 'Strong career preparation', 'Excellent professional standards'],\n      improvements: ['Research industry standards', 'Improve professional presentation', 'Add career preparation elements', 'Consider industry feedback'],\n      general: ['Shows strong professional development', 'Portfolio demonstrates career readiness', 'Professional standards are evident']\n    }\n  }]\n};\nconst GradingTemplate = () => {\n  _s();\n  var _currentModule$gradin2, _currentModule$gradin3, _currentModule$gradin4, _currentModule$gradin5, _currentModule$gradin6, _currentModule$gradin7, _currentModule$gradin8, _currentModule$gradin9, _currentModule$gradin0, _currentModule$gradin1;\n  // Get shared context\n  const {\n    sharedRubric,\n    sharedCourseDetails\n  } = useAssessment();\n\n  // Current active course module\n  const [activeModule, setActiveModule] = useState(\"2d-animation\");\n  const [customModules, setCustomModules] = useState({});\n\n  // All available modules (built-in + custom)\n  const allModules = {\n    ...courseModules,\n    ...customModules\n  };\n  const currentModule = allModules[activeModule];\n\n  // State for all grading data - initialize with shared data if available\n  const [gradingData, setGradingData] = useState(() => {\n    var _sharedCourseDetails$, _sharedCourseDetails$2, _currentModule$gradin;\n    return {\n      student: (sharedCourseDetails === null || sharedCourseDetails === void 0 ? void 0 : sharedCourseDetails.student) || {\n        name: '',\n        id: '',\n        email: ''\n      },\n      course: (sharedCourseDetails === null || sharedCourseDetails === void 0 ? void 0 : sharedCourseDetails.course) || {\n        code: '',\n        name: '',\n        instructor: '',\n        term: ''\n      },\n      assignment: {\n        name: (sharedCourseDetails === null || sharedCourseDetails === void 0 ? void 0 : (_sharedCourseDetails$ = sharedCourseDetails.assignment) === null || _sharedCourseDetails$ === void 0 ? void 0 : _sharedCourseDetails$.name) || '',\n        dueDate: '',\n        maxPoints: (sharedCourseDetails === null || sharedCourseDetails === void 0 ? void 0 : (_sharedCourseDetails$2 = sharedCourseDetails.assignment) === null || _sharedCourseDetails$2 === void 0 ? void 0 : _sharedCourseDetails$2.maxPoints) || (currentModule === null || currentModule === void 0 ? void 0 : (_currentModule$gradin = currentModule.gradingSettings) === null || _currentModule$gradin === void 0 ? void 0 : _currentModule$gradin.maxPoints) || 100\n      },\n      rubric: currentModule !== null && currentModule !== void 0 && currentModule.rubric ? [...currentModule.rubric] : [],\n      feedback: {\n        general: '',\n        strengths: '',\n        improvements: ''\n      },\n      attachments: [],\n      videoLinks: [],\n      latePolicy: {\n        level: 'none',\n        penaltyApplied: false\n      },\n      metadata: {\n        moduleUsed: activeModule,\n        moduleVersion: (currentModule === null || currentModule === void 0 ? void 0 : currentModule.version) || \"1.0\",\n        gradedBy: '',\n        gradedDate: '',\n        aiAssisted: false,\n        rubricIntegrated: false\n      }\n    };\n  });\n\n  // Rubric-specific state - use shared rubric if available\n  const [loadedRubric, setLoadedRubric] = useState(sharedRubric || sampleRubric);\n  const [rubricGrading, setRubricGrading] = useState({});\n  const [showRubricComments, setShowRubricComments] = useState({});\n  const [showHeaderGuide, setShowHeaderGuide] = useState(false);\n  const fileInputRef = useRef(null);\n  const moduleInputRef = useRef(null);\n  const rubricInputRef = useRef(null);\n\n  // Video link management\n  const [videoLinkInput, setVideoLinkInput] = useState('');\n  const [videoTitle, setVideoTitle] = useState('');\n\n  // Late Policy Levels\n  const latePolicyLevels = {\n    none: {\n      name: 'On Time',\n      multiplier: 1.0,\n      description: 'Assignment submitted on or before due date and time - marked out of 100%',\n      color: '#16a34a'\n    },\n    within24: {\n      name: '1-24 Hours Late',\n      multiplier: 0.8,\n      description: 'Assignment received within 24 hours of due date - 20% reduction (marked out of 80%)',\n      color: '#ea580c'\n    },\n    after24: {\n      name: 'More than 24 Hours Late',\n      multiplier: 0.0,\n      description: 'Assignment received after 24 hours from due date - mark of zero (0)',\n      color: '#dc2626'\n    }\n  };\n\n  // Update when shared data changes\n  useEffect(() => {\n    if (sharedRubric) {\n      setLoadedRubric(sharedRubric);\n    }\n  }, [sharedRubric]);\n  useEffect(() => {\n    if (sharedCourseDetails) {\n      setGradingData(prev => {\n        var _sharedCourseDetails$3, _sharedCourseDetails$4;\n        return {\n          ...prev,\n          student: sharedCourseDetails.student || prev.student,\n          course: sharedCourseDetails.course || prev.course,\n          assignment: {\n            ...prev.assignment,\n            name: ((_sharedCourseDetails$3 = sharedCourseDetails.assignment) === null || _sharedCourseDetails$3 === void 0 ? void 0 : _sharedCourseDetails$3.name) || prev.assignment.name,\n            maxPoints: ((_sharedCourseDetails$4 = sharedCourseDetails.assignment) === null || _sharedCourseDetails$4 === void 0 ? void 0 : _sharedCourseDetails$4.maxPoints) || prev.assignment.maxPoints\n          }\n        };\n      });\n    }\n  }, [sharedCourseDetails]);\n\n  // Initialize rubric grading state when component mounts\n  useEffect(() => {\n    if (loadedRubric) {\n      const initialGrading = {};\n      loadedRubric.criteria.forEach(criterion => {\n        initialGrading[criterion.id] = {\n          criterionId: criterion.id,\n          selectedLevel: null,\n          customComments: ''\n        };\n      });\n      setRubricGrading(initialGrading);\n\n      // Update assignment details\n      setGradingData(prev => {\n        var _loadedRubric$assignm, _loadedRubric$assignm2;\n        return {\n          ...prev,\n          assignment: {\n            ...prev.assignment,\n            name: ((_loadedRubric$assignm = loadedRubric.assignmentInfo) === null || _loadedRubric$assignm === void 0 ? void 0 : _loadedRubric$assignm.title) || prev.assignment.name,\n            maxPoints: ((_loadedRubric$assignm2 = loadedRubric.assignmentInfo) === null || _loadedRubric$assignm2 === void 0 ? void 0 : _loadedRubric$assignm2.totalPoints) || prev.assignment.maxPoints\n          },\n          metadata: {\n            ...prev.metadata,\n            rubricIntegrated: true\n          }\n        };\n      });\n    }\n  }, [loadedRubric]);\n\n  // Calculate total score with late policy applied\n  const calculateTotalScore = () => {\n    let rawScore = 0;\n    if (loadedRubric) {\n      rawScore = Object.values(rubricGrading).reduce((total, grading) => {\n        const criterion = loadedRubric.criteria.find(c => c.id === grading.criterionId);\n        if (criterion && grading.selectedLevel) {\n          const level = loadedRubric.rubricLevels.find(l => l.level === grading.selectedLevel);\n          return total + criterion.maxPoints * level.multiplier;\n        }\n        return total;\n      }, 0);\n    } else {\n      rawScore = gradingData.rubric.reduce((total, item) => total + item.score, 0);\n    }\n    const latePolicyLevel = latePolicyLevels[gradingData.latePolicy.level];\n    const finalScore = rawScore * latePolicyLevel.multiplier;\n    return {\n      rawScore: rawScore,\n      finalScore: finalScore,\n      penaltyApplied: gradingData.latePolicy.level !== 'none',\n      latePolicyDescription: latePolicyLevel.description\n    };\n  };\n\n  // Update late policy\n  const updateLatePolicy = level => {\n    setGradingData(prev => ({\n      ...prev,\n      latePolicy: {\n        level: level,\n        penaltyApplied: level !== 'none'\n      }\n    }));\n  };\n\n  // Update rubric grading\n  const updateRubricGrading = (criterionId, level, comments = null) => {\n    setRubricGrading(prev => {\n      const existingGrading = prev[criterionId];\n      const existingComments = (existingGrading === null || existingGrading === void 0 ? void 0 : existingGrading.customComments) || '';\n      return {\n        ...prev,\n        [criterionId]: {\n          criterionId,\n          selectedLevel: level,\n          customComments: comments !== null ? comments : existingComments\n        }\n      };\n    });\n  };\n\n  // Add feedback comment to criterion\n  const addCriterionFeedback = (criterionId, comment) => {\n    const currentGrading = rubricGrading[criterionId];\n    const currentComments = (currentGrading === null || currentGrading === void 0 ? void 0 : currentGrading.customComments) || '';\n    const newComments = currentComments ? `${currentComments}\\n• ${comment}` : `• ${comment}`;\n    setRubricGrading(prev => ({\n      ...prev,\n      [criterionId]: {\n        ...prev[criterionId],\n        criterionId,\n        selectedLevel: (currentGrading === null || currentGrading === void 0 ? void 0 : currentGrading.selectedLevel) || null,\n        customComments: newComments\n      }\n    }));\n  };\n\n  // Toggle rubric comments visibility\n  const toggleRubricComments = criterionId => {\n    setShowRubricComments(prev => ({\n      ...prev,\n      [criterionId]: !prev[criterionId]\n    }));\n  };\n\n  // Add video link\n  const addVideoLink = () => {\n    if (videoLinkInput.trim()) {\n      setGradingData(prev => ({\n        ...prev,\n        videoLinks: [...prev.videoLinks, {\n          id: Date.now(),\n          url: videoLinkInput.trim(),\n          title: videoTitle.trim() || 'Video Link'\n        }]\n      }));\n      setVideoLinkInput('');\n      setVideoTitle('');\n    }\n  };\n\n  // Remove video link\n  const removeVideoLink = id => {\n    setGradingData(prev => ({\n      ...prev,\n      videoLinks: prev.videoLinks.filter(link => link.id !== id)\n    }));\n  };\n\n  // Handle file uploads\n  const handleFileUpload = files => {\n    const newAttachments = Array.from(files).map(file => ({\n      id: Date.now() + Math.random(),\n      name: file.name,\n      size: file.size,\n      type: file.type,\n      file: file\n    }));\n    Promise.all(newAttachments.map(attachment => {\n      return new Promise(resolve => {\n        if (attachment.type.startsWith('image/')) {\n          const reader = new FileReader();\n          reader.onload = e => {\n            attachment.base64Data = e.target.result;\n            resolve(attachment);\n          };\n          reader.readAsDataURL(attachment.file);\n        } else {\n          resolve(attachment);\n        }\n      });\n    })).then(processedAttachments => {\n      setGradingData(prev => ({\n        ...prev,\n        attachments: [...prev.attachments, ...processedAttachments]\n      }));\n    });\n  };\n\n  // Remove attachment\n  const removeAttachment = id => {\n    setGradingData(prev => ({\n      ...prev,\n      attachments: prev.attachments.filter(att => att.id !== id)\n    }));\n  };\n\n  // Export to HTML\n  const exportToHTML = () => {\n    var _loadedRubric$assignm3, _gradingData$student$, _gradingData$assignme;\n    const scoreCalculation = calculateTotalScore();\n    const totalScore = scoreCalculation.finalScore;\n    const rawScore = scoreCalculation.rawScore;\n    const maxPoints = loadedRubric ? loadedRubric.assignmentInfo.totalPoints : gradingData.assignment.maxPoints;\n    const percentage = (totalScore / maxPoints * 100).toFixed(1);\n    const penaltyApplied = scoreCalculation.penaltyApplied;\n    const rubricTableHTML = loadedRubric ? `\n    <div class=\"rubric-section\" style=\"margin-top: 30px;\">\n        <h3>📋 Detailed Rubric Assessment</h3>\n        <div style=\"background: #f8f9fa; padding: 15px; border-radius: 8px; margin-bottom: 20px;\">\n            <strong>Assignment:</strong> ${loadedRubric.assignmentInfo.title}<br>\n            <strong>Weight:</strong> ${loadedRubric.assignmentInfo.weight}% of Final Grade<br>\n            <strong>Passing Threshold:</strong> ${loadedRubric.assignmentInfo.passingThreshold}%  \n        </div>\n        \n        <table style=\"width: 100%; border-collapse: collapse; margin-bottom: 30px; font-size: 0.9rem;\">\n            <thead>\n                <tr style=\"background: #2c3e50; color: white;\">\n                    <th style=\"border: 1px solid #ddd; padding: 12px; text-align: left;\">Criterion</th>\n                    <th style=\"border: 1px solid #ddd; padding: 12px; text-align: center;\">Max Points</th>\n                    <th style=\"border: 1px solid #ddd; padding: 12px; text-align: center;\">Level Achieved</th>\n                    <th style=\"border: 1px solid #ddd; padding: 12px; text-align: center;\">Points Earned</th>\n                    <th style=\"border: 1px solid #ddd; padding: 12px; text-align: left;\">Comments</th>\n                </tr>\n            </thead>\n            <tbody>\n                ${loadedRubric.criteria.map(criterion => {\n      const grading = rubricGrading[criterion.id];\n      const level = grading !== null && grading !== void 0 && grading.selectedLevel ? loadedRubric.rubricLevels.find(l => l.level === grading.selectedLevel) : null;\n      const points = level ? (criterion.maxPoints * level.multiplier).toFixed(1) : '0';\n      return `\n                        <tr>\n                            <td style=\"border: 1px solid #ddd; padding: 8px; vertical-align: top;\">\n                                <strong>${criterion.name}</strong><br>\n                                <small style=\"color: #666;\">${criterion.description}</small>\n                            </td>\n                            <td style=\"border: 1px solid #ddd; padding: 8px; text-align: center;\">${criterion.maxPoints}</td>\n                            <td style=\"border: 1px solid #ddd; padding: 8px; text-align: center;\">${level ? level.name : 'Not Assessed'}</td>\n                            <td style=\"border: 1px solid #ddd; padding: 8px; text-align: center; font-weight: bold;\">${points}</td>\n                            <td style=\"border: 1px solid #ddd; padding: 8px;\">${grading !== null && grading !== void 0 && grading.customComments ? grading.customComments.replace(/\\n/g, '<br>') : 'No additional comments'}</td>\n                        </tr>\n                    `;\n    }).join('')}\n            </tbody>\n        </table>\n    </div>\n    ` : '';\n\n    // Generate attachments section HTML\n    const attachmentsHTML = gradingData.attachments && gradingData.attachments.length > 0 ? `\n    <div class=\"attachments-section\" style=\"margin-top: 30px;\">\n        <h3>📎 Submitted Files & Attachments</h3>\n        <div style=\"background: #f8f9fa; padding: 15px; border-radius: 8px; margin-bottom: 20px;\">\n            <p style=\"margin-bottom: 15px;\"><strong>Total Files:</strong> ${gradingData.attachments.length}</p>\n            \n            ${gradingData.attachments.map((file, index) => {\n      if (file.type.startsWith('image/')) {\n        // Embed images directly as base64\n        const imageData = file.base64Data || (file.file ? URL.createObjectURL(file.file) : '');\n        return `\n                        <div style=\"margin-bottom: 20px; border: 1px solid #ddd; border-radius: 8px; overflow: hidden;\">\n                            <div style=\"background: #e3f2fd; padding: 10px; font-weight: bold; color: #1976d2;\">\n                                📷 Image File: ${file.name}\n                            </div>\n                            <div style=\"padding: 15px; text-align: center;\">\n                                <img src=\"${imageData}\" alt=\"${file.name}\" style=\"max-width: 100%; max-height: 500px; border: 1px solid #ddd; border-radius: 4px; box-shadow: 0 2px 8px rgba(0,0,0,0.1);\">\n                                <p style=\"margin-top: 10px; font-size: 0.9rem; color: #666;\">\n                                    <strong>File:</strong> ${file.name} | <strong>Size:</strong> ${(file.size / 1024).toFixed(1)} KB\n                                </p>\n                            </div>\n                        </div>\n                    `;\n      } else {\n        // For non-image files, show file info\n        return `\n                        <div style=\"margin-bottom: 15px; padding: 12px; background: #fff3cd; border: 1px solid #ffeaa7; border-radius: 6px;\">\n                            <div style=\"display: flex; align-items: center; gap: 10px;\">\n                                <span style=\"font-size: 1.2rem;\">📄</span>\n                                <div>\n                                    <strong>${file.name}</strong><br>\n                                    <small style=\"color: #666;\">Size: ${(file.size / 1024).toFixed(1)} KB | Type: ${file.type || 'Unknown'}</small>\n                                </div>\n                            </div>\n                        </div>\n                    `;\n      }\n    }).join('')}\n        </div>\n    </div>\n    ` : '';\n\n    // Generate video links section HTML\n    const videoLinksHTML = gradingData.videoLinks && gradingData.videoLinks.length > 0 ? `\n    <div class=\"video-links-section\" style=\"margin-top: 30px;\">\n        <h3>🎥 Video Review Links</h3>\n        <div style=\"background: #f3e5ff; padding: 15px; border-radius: 8px; margin-bottom: 20px;\">\n            <p style=\"margin-bottom: 15px;\"><strong>Video Submissions:</strong> ${gradingData.videoLinks.length} link(s)</p>\n            \n            ${gradingData.videoLinks.map((videoLink, index) => `\n                <div style=\"margin-bottom: 15px; padding: 15px; background: white; border: 1px solid #e1bee7; border-radius: 8px; border-left: 4px solid #9c27b0;\">\n                    <div style=\"display: flex; align-items: center; gap: 12px; margin-bottom: 10px;\">\n                        <span style=\"font-size: 1.3rem;\">🎬</span>\n                        <div style=\"flex: 1;\">\n                            <h4 style=\"margin: 0; color: #7b1fa2; font-size: 1.1rem;\">${videoLink.title}</h4>\n                            <p style=\"margin: 5px 0 0 0; font-size: 0.9rem; color: #666;\">Video Review Link #${index + 1}</p>\n                        </div>\n                    </div>\n                    <div style=\"background: #fafafa; padding: 10px; border-radius: 4px; font-family: monospace; font-size: 0.9rem; word-break: break-all; border: 1px solid #eee;\">\n                        <a href=\"${videoLink.url}\" target=\"_blank\" rel=\"noopener noreferrer\" style=\"color: #1976d2; text-decoration: none;\">${videoLink.url}</a>\n                    </div>\n                    <p style=\"margin-top: 8px; font-size: 0.8rem; color: #666;\">\n                        <strong>Note:</strong> Click the link above to view the video submission. This link opens in a new tab for review.\n                    </p>\n                </div>\n            `).join('')}\n        </div>\n    </div>\n    ` : '';\n\n    // Generate feedback sections with better formatting\n    const feedbackHTML = Object.entries(gradingData.feedback).filter(([key, value]) => value && value.trim()).length > 0 ? `\n    <div class=\"feedback-sections\" style=\"margin-top: 30px;\">\n        <h3>💬 Instructor Feedback</h3>\n        ${Object.entries(gradingData.feedback).filter(([key, value]) => value && value.trim()).map(([key, value]) => `\n            <div style=\"margin-bottom: 20px; padding: 15px; background: #f8f9fa; border-radius: 8px; border-left: 4px solid #17a2b8;\">\n                <h4 style=\"margin: 0 0 10px 0; color: #0c5460; text-transform: capitalize;\">${key} Feedback</h4>\n                <div style=\"color: #495057; line-height: 1.6;\">\n                    ${value.replace(/\\n/g, '<br>')}\n                </div>\n            </div>\n        `).join('')}\n    </div>\n    ` : '';\n    const htmlContent = `\n<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>Grade Report - ${gradingData.student.name}</title>\n    <style>\n        body { \n            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; \n            max-width: 900px; \n            margin: 20px auto; \n            padding: 20px; \n            line-height: 1.6; \n            color: #333;\n            background-color: #fafafa;\n        }\n        .header { \n            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); \n            color: white; \n            padding: 25px; \n            border-radius: 10px; \n            margin-bottom: 30px; \n            box-shadow: 0 4px 15px rgba(0,0,0,0.1);\n        }\n        .header h1 { margin: 0 0 10px 0; font-size: 2rem; }\n        .score-summary { \n            background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%); \n            color: white; \n            border-radius: 10px; \n            padding: 25px; \n            margin: 25px 0; \n            text-align: center; \n            box-shadow: 0 4px 15px rgba(0,0,0,0.1);\n        }\n        .score-summary h2 { margin: 0 0 15px 0; }\n        .score-value { font-size: 2.5rem; font-weight: bold; margin: 15px 0; text-shadow: 0 2px 4px rgba(0,0,0,0.3); }\n        .late-policy-section { \n            margin: 30px 0; \n            background: linear-gradient(135deg, #ff9a9e 0%, #fecfef 100%); \n            border-radius: 10px; \n            padding: 20px; \n            color: #721c24;\n        }\n        .section { \n            margin: 30px 0; \n            background: white; \n            padding: 20px; \n            border-radius: 10px; \n            box-shadow: 0 2px 10px rgba(0,0,0,0.1);\n        }\n        .section h3 { \n            margin: 0 0 20px 0; \n            color: #2c3e50; \n            border-bottom: 2px solid #ecf0f1; \n            padding-bottom: 10px;\n        }\n        table { \n            width: 100%; \n            border-collapse: collapse; \n            margin: 20px 0; \n            background: white; \n            border-radius: 8px; \n            overflow: hidden; \n            box-shadow: 0 2px 10px rgba(0,0,0,0.1);\n        }\n        th, td { \n            border: 1px solid #e0e0e0; \n            padding: 12px; \n            text-align: left; \n            vertical-align: top; \n        }\n        th { \n            background: linear-gradient(135deg, #2c3e50 0%, #34495e 100%); \n            color: white; \n            font-weight: 600; \n            text-align: center;\n        }\n        tr:nth-child(even) { background-color: #f8f9fa; }\n        tr:hover { background-color: #e3f2fd; }\n        .attachment-image { \n            max-width: 100%; \n            height: auto; \n            border-radius: 8px; \n            box-shadow: 0 4px 15px rgba(0,0,0,0.1); \n            transition: transform 0.3s ease;\n        }\n        .attachment-image:hover { transform: scale(1.02); }\n        .video-link { \n            color: #1976d2; \n            text-decoration: none; \n            font-weight: 500;\n            padding: 8px 15px;\n            background: #e3f2fd;\n            border-radius: 20px;\n            display: inline-block;\n            transition: all 0.3s ease;\n        }\n        .video-link:hover { \n            background: #1976d2; \n            color: white; \n            transform: translateY(-1px);\n        }\n        .footer { \n            margin-top: 50px; \n            text-align: center; \n            color: #666; \n            font-size: 0.9rem; \n            padding: 20px;\n            background: white;\n            border-radius: 10px;\n            box-shadow: 0 2px 10px rgba(0,0,0,0.1);\n        }\n        @media print {\n            body { background-color: white; }\n            .header, .score-summary { background: #f8f9fa !important; color: #333 !important; }\n            .attachment-image { max-height: 400px; }\n        }\n        @media (max-width: 768px) {\n            body { padding: 10px; }\n            .header, .score-summary, .section { padding: 15px; }\n            .score-value { font-size: 2rem; }\n            table { font-size: 0.9rem; }\n        }\n    </style>\n</head>\n<body>\n    <div class=\"header\">\n        <h1>📋 Comprehensive Grade Report</h1>\n        <div style=\"display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 15px; margin-top: 15px;\">\n            <div>\n                <strong>Student:</strong> ${gradingData.student.name || 'Not specified'}<br>\n                <strong>Student ID:</strong> ${gradingData.student.id || 'Not specified'}<br>\n                <strong>Email:</strong> ${gradingData.student.email || 'Not specified'}\n            </div>\n            <div>\n                <strong>Course:</strong> ${gradingData.course.code || ''} - ${gradingData.course.name || 'Not specified'}<br>\n                <strong>Assignment:</strong> ${gradingData.assignment.name || 'Not specified'}<br>\n                <strong>Due Date:</strong> ${gradingData.assignment.dueDate || 'Not specified'}\n            </div>\n            <div>\n                <strong>Instructor:</strong> ${gradingData.course.instructor || 'Not specified'}<br>\n                <strong>Term:</strong> ${gradingData.course.term || 'Not specified'}<br>\n                <strong>Generated:</strong> ${new Date().toLocaleDateString()}\n            </div>\n        </div>\n    </div>\n\n    <div class=\"score-summary\">\n        <h2>📊 Final Assessment Score</h2>\n        <div class=\"score-value\">\n            ${totalScore.toFixed(1)} / ${maxPoints} (${percentage}%)\n        </div>\n        <div style=\"margin: 10px 0; opacity: 0.9;\">\n            ${loadedRubric ? `Assessment: ${loadedRubric.assignmentInfo.title}` : `Module: ${currentModule === null || currentModule === void 0 ? void 0 : currentModule.courseType} v${(currentModule === null || currentModule === void 0 ? void 0 : currentModule.version) || '1.0'}`}\n            ${penaltyApplied ? ` | Late Policy: ${latePolicyLevels[gradingData.latePolicy.level].name}` : ''}\n        </div>\n        <div style=\"margin-top: 15px; font-size: 1rem;\">\n            <strong>Grade Status:</strong> \n            <span style=\"padding: 5px 15px; border-radius: 20px; background: rgba(255,255,255,0.2); font-weight: bold;\">\n                ${percentage >= ((loadedRubric === null || loadedRubric === void 0 ? void 0 : (_loadedRubric$assignm3 = loadedRubric.assignmentInfo) === null || _loadedRubric$assignm3 === void 0 ? void 0 : _loadedRubric$assignm3.passingThreshold) || 60) ? '✅ PASSING' : '❌ NEEDS IMPROVEMENT'}\n            </span>\n        </div>\n    </div>\n\n    ${penaltyApplied ? `\n    <div class=\"late-policy-section\">\n        <h3 style=\"color: inherit; border: none; margin-bottom: 15px;\">📅 Late Submission Policy Applied</h3>\n        <div style=\"background: rgba(255,255,255,0.9); padding: 15px; border-radius: 8px;\">\n            <p><strong>Policy Status:</strong> ${latePolicyLevels[gradingData.latePolicy.level].name}</p>\n            <p style=\"margin: 10px 0;\">${latePolicyLevels[gradingData.latePolicy.level].description}</p>\n            <p><strong>Calculation:</strong> Raw Score: ${Math.round(rawScore * 10) / 10}/${maxPoints} × ${latePolicyLevels[gradingData.latePolicy.level].multiplier} = <strong>Final Score: ${Math.round(totalScore * 10) / 10}/${maxPoints}</strong></p>\n        </div>\n    </div>\n    ` : ''}\n\n    ${rubricTableHTML ? `<div class=\"section\">${rubricTableHTML}</div>` : ''}\n    \n    ${attachmentsHTML ? `<div class=\"section\">${attachmentsHTML}</div>` : ''}\n    \n    ${videoLinksHTML ? `<div class=\"section\">${videoLinksHTML}</div>` : ''}\n    \n    ${feedbackHTML ? `<div class=\"section\">${feedbackHTML}</div>` : ''}\n    \n    <div class=\"footer\">\n        <p><strong>Grade Report Generated</strong></p>\n        <p>${new Date().toLocaleDateString()} at ${new Date().toLocaleTimeString()}</p>\n        <p style=\"margin-top: 10px; font-size: 0.8rem;\">\n            This report includes all submitted materials, embedded images, video links, and comprehensive rubric assessment.\n        </p>\n    </div>\n</body>\n</html>`;\n    const htmlBlob = new Blob([htmlContent], {\n      type: 'text/html'\n    });\n    const url = URL.createObjectURL(htmlBlob);\n    const link = document.createElement('a');\n    link.href = url;\n    link.download = `comprehensive_grade_report_${((_gradingData$student$ = gradingData.student.name) === null || _gradingData$student$ === void 0 ? void 0 : _gradingData$student$.replace(/\\s+/g, '_')) || 'student'}_${((_gradingData$assignme = gradingData.assignment.name) === null || _gradingData$assignme === void 0 ? void 0 : _gradingData$assignme.replace(/\\s+/g, '_')) || 'assignment'}.html`;\n    link.click();\n    URL.revokeObjectURL(url);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      minHeight: '100vh',\n      background: '#f9fafb',\n      padding: '1.5rem'\n    },\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        maxWidth: '80rem',\n        margin: '0 auto'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          background: 'linear-gradient(135deg, #1e3a8a 0%, #1e40af 100%)',\n          color: 'white',\n          padding: '1.5rem',\n          borderRadius: '0.5rem',\n          boxShadow: '0 4px 6px -1px rgb(0 0 0 / 0.1)',\n          marginBottom: '1.5rem'\n        },\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: 'flex',\n            justifyContent: 'space-between',\n            alignItems: 'center'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n              style: {\n                fontSize: '1.875rem',\n                fontWeight: '700',\n                margin: '0 0 0.5rem 0'\n              },\n              children: \"Modular Grading System\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 863,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              style: {\n                color: '#bfdbfe',\n                margin: 0,\n                fontSize: '1.1rem'\n              },\n              children: [\"Course: \", currentModule === null || currentModule === void 0 ? void 0 : currentModule.courseType, \" v\", currentModule === null || currentModule === void 0 ? void 0 : currentModule.version]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 866,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 862,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              display: 'flex',\n              alignItems: 'center',\n              gap: '1rem'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"select\", {\n              value: activeModule,\n              onChange: e => setActiveModule(e.target.value),\n              style: {\n                background: 'rgba(255, 255, 255, 0.1)',\n                border: '1px solid rgba(255, 255, 255, 0.3)',\n                color: 'white',\n                padding: '0.5rem 1rem',\n                borderRadius: '0.5rem',\n                fontSize: '0.875rem'\n              },\n              children: /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"2d-animation\",\n                style: {\n                  color: '#1f2937'\n                },\n                children: \"2D Animation\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 883,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 871,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: exportToHTML,\n              style: {\n                display: 'flex',\n                alignItems: 'center',\n                gap: '0.5rem',\n                background: '#16a34a',\n                color: 'white',\n                padding: '0.5rem 1rem',\n                borderRadius: '0.5rem',\n                border: 'none',\n                cursor: 'pointer',\n                fontSize: '0.875rem'\n              },\n              children: [/*#__PURE__*/_jsxDEV(FileDown, {\n                size: 16\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 900,\n                columnNumber: 17\n              }, this), \"Export Report\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 885,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 870,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 861,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 853,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          background: 'white',\n          border: '1px solid #e5e7eb',\n          borderRadius: '0.5rem',\n          padding: '1.5rem',\n          marginBottom: '1.5rem',\n          boxShadow: '0 1px 3px 0 rgb(0 0 0 / 0.1)'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          style: {\n            fontSize: '1.25rem',\n            fontWeight: '600',\n            marginBottom: '1rem',\n            color: '#374151'\n          },\n          children: \"Active Course Module\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 916,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: 'grid',\n            gridTemplateColumns: 'repeat(auto-fit, minmax(200px, 1fr))',\n            gap: '1rem',\n            fontSize: '0.875rem'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Course Type:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 921,\n              columnNumber: 15\n            }, this), \" \", currentModule === null || currentModule === void 0 ? void 0 : currentModule.courseType, /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 921,\n              columnNumber: 72\n            }, this), /*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Max Points:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 922,\n              columnNumber: 15\n            }, this), \" \", currentModule === null || currentModule === void 0 ? void 0 : (_currentModule$gradin2 = currentModule.gradingSettings) === null || _currentModule$gradin2 === void 0 ? void 0 : _currentModule$gradin2.maxPoints]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 920,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Version:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 925,\n              columnNumber: 15\n            }, this), \" \", currentModule === null || currentModule === void 0 ? void 0 : currentModule.version, /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 925,\n              columnNumber: 65\n            }, this), /*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Passing Grade:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 926,\n              columnNumber: 15\n            }, this), \" \", currentModule === null || currentModule === void 0 ? void 0 : (_currentModule$gradin3 = currentModule.gradingSettings) === null || _currentModule$gradin3 === void 0 ? void 0 : _currentModule$gradin3.passingGrade, \"%\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 924,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 919,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginTop: '1rem',\n            fontSize: '0.875rem'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Supported Files:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 930,\n              columnNumber: 18\n            }, this), \" \", currentModule === null || currentModule === void 0 ? void 0 : (_currentModule$gradin4 = currentModule.gradingSettings) === null || _currentModule$gradin4 === void 0 ? void 0 : (_currentModule$gradin5 = _currentModule$gradin4.fileTypes) === null || _currentModule$gradin5 === void 0 ? void 0 : _currentModule$gradin5.join(', ')]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 930,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Video Platforms:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 931,\n              columnNumber: 18\n            }, this), \" \", currentModule === null || currentModule === void 0 ? void 0 : (_currentModule$gradin6 = currentModule.gradingSettings) === null || _currentModule$gradin6 === void 0 ? void 0 : (_currentModule$gradin7 = _currentModule$gradin6.supportedVideoLinks) === null || _currentModule$gradin7 === void 0 ? void 0 : _currentModule$gradin7.join(', ')]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 931,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 929,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 908,\n        columnNumber: 9\n      }, this), loadedRubric && /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          background: 'linear-gradient(135deg, #f0fdf4 0%, #dcfce7 100%)',\n          border: '1px solid #bbf7d0',\n          borderRadius: '0.75rem',\n          padding: '1.5rem',\n          marginBottom: '2rem'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: 'flex',\n            alignItems: 'center',\n            gap: '0.5rem',\n            marginBottom: '1rem'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            style: {\n              fontSize: '1.25rem'\n            },\n            children: \"\\uD83D\\uDCCB\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 945,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n            style: {\n              fontSize: '1.25rem',\n              fontWeight: '700',\n              color: '#15803d',\n              margin: 0\n            },\n            children: \"Active Assignment Rubric\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 946,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              background: '#dcfce7',\n              color: '#15803d',\n              padding: '0.25rem 0.75rem',\n              borderRadius: '1rem',\n              fontSize: '0.75rem',\n              fontWeight: '600',\n              marginLeft: 'auto'\n            },\n            children: [\"Weight: \", loadedRubric.assignmentInfo.weight, \"% of Final Grade\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 949,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 944,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginBottom: '1rem'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            style: {\n              fontSize: '1.1rem',\n              fontWeight: '600',\n              color: '#16a34a',\n              marginBottom: '0.5rem'\n            },\n            children: loadedRubric.assignmentInfo.title\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 963,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            style: {\n              fontSize: '0.875rem',\n              color: '#059669',\n              marginBottom: '0.75rem'\n            },\n            children: loadedRubric.assignmentInfo.description\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 966,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              display: 'flex',\n              gap: '2rem',\n              fontSize: '0.875rem',\n              color: '#059669'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Passing:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 970,\n                columnNumber: 22\n              }, this), \" \", loadedRubric.assignmentInfo.passingThreshold, \"%\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 970,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Total Points:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 971,\n                columnNumber: 22\n              }, this), \" \", loadedRubric.assignmentInfo.totalPoints]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 971,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 969,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 962,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: 'flex',\n            flexDirection: 'column',\n            gap: '1.5rem'\n          },\n          children: loadedRubric.criteria.map(criterion => {\n            var _loadedRubric$rubricL, _criterion$levels$cur, _criterion$levels$cur2;\n            const currentGrading = rubricGrading[criterion.id];\n            const showComments = showRubricComments[criterion.id];\n            return /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                background: 'white',\n                border: '1px solid #d1d5db',\n                borderRadius: '0.5rem',\n                padding: '1.25rem',\n                boxShadow: '0 1px 3px rgba(0, 0, 0, 0.1)'\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  display: 'flex',\n                  justifyContent: 'space-between',\n                  alignItems: 'flex-start',\n                  marginBottom: '1rem'\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  style: {\n                    flex: 1\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                    style: {\n                      fontSize: '1.125rem',\n                      fontWeight: '600',\n                      color: '#374151'\n                    },\n                    children: [criterion.name, /*#__PURE__*/_jsxDEV(\"span\", {\n                      style: {\n                        color: '#3b82f6',\n                        marginLeft: '0.5rem'\n                      },\n                      children: [\"(\", criterion.maxPoints, \" pts)\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 993,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 991,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    style: {\n                      fontSize: '0.875rem',\n                      color: '#6b7280',\n                      marginTop: '0.25rem'\n                    },\n                    children: criterion.description\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 997,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 990,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => toggleRubricComments(criterion.id),\n                  style: {\n                    color: '#3b82f6',\n                    background: 'none',\n                    border: 'none',\n                    fontSize: '0.875rem',\n                    textDecoration: 'underline',\n                    cursor: 'pointer',\n                    marginLeft: '1rem'\n                  },\n                  children: [showComments ? 'Hide' : 'Show', \" Level Details\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1001,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 989,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  display: 'grid',\n                  gridTemplateColumns: 'repeat(auto-fit, minmax(120px, 1fr))',\n                  gap: '0.5rem',\n                  marginBottom: '1rem'\n                },\n                children: loadedRubric.rubricLevels.map(level => {\n                  const isSelected = (currentGrading === null || currentGrading === void 0 ? void 0 : currentGrading.selectedLevel) === level.level;\n                  const points = Math.round(criterion.maxPoints * level.multiplier);\n                  return /*#__PURE__*/_jsxDEV(\"button\", {\n                    onClick: () => updateRubricGrading(criterion.id, level.level),\n                    style: {\n                      padding: '0.75rem',\n                      borderRadius: '0.5rem',\n                      border: `2px solid ${isSelected ? level.color : '#d1d5db'}`,\n                      fontSize: '0.875rem',\n                      fontWeight: '500',\n                      cursor: 'pointer',\n                      transition: 'all 0.2s ease',\n                      backgroundColor: isSelected ? level.color : 'white',\n                      color: isSelected ? 'white' : '#374151',\n                      transform: isSelected ? 'scale(1.05)' : 'none',\n                      textAlign: 'center'\n                    },\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      style: {\n                        fontWeight: '600'\n                      },\n                      children: level.name\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1046,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      style: {\n                        fontSize: '0.75rem',\n                        marginTop: '0.25rem'\n                      },\n                      children: [level.level === 'incomplete' ? '0' : points, \" pts\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1047,\n                      columnNumber: 29\n                    }, this)]\n                  }, level.level, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1029,\n                    columnNumber: 27\n                  }, this);\n                })\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1018,\n                columnNumber: 21\n              }, this), showComments && /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  background: '#f9fafb',\n                  borderRadius: '0.5rem',\n                  padding: '1rem',\n                  marginBottom: '1rem'\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n                  style: {\n                    fontWeight: '600',\n                    color: '#374151',\n                    marginBottom: '0.75rem'\n                  },\n                  children: \"Level Descriptions:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1063,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  style: {\n                    display: 'grid',\n                    gridTemplateColumns: 'repeat(auto-fit, minmax(250px, 1fr))',\n                    gap: '0.75rem'\n                  },\n                  children: loadedRubric.rubricLevels.map(level => {\n                    var _criterion$levels$lev, _criterion$levels$lev2;\n                    return /*#__PURE__*/_jsxDEV(\"div\", {\n                      style: {\n                        background: 'white',\n                        borderRadius: '0.25rem',\n                        border: '1px solid #d1d5db',\n                        borderLeft: `4px solid ${level.color}`,\n                        padding: '0.75rem'\n                      },\n                      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                        style: {\n                          fontWeight: '500',\n                          fontSize: '0.875rem',\n                          color: level.color\n                        },\n                        children: level.name\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1082,\n                        columnNumber: 31\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        style: {\n                          fontSize: '0.75rem',\n                          color: '#6b7280',\n                          marginBottom: '0.5rem'\n                        },\n                        children: [(_criterion$levels$lev = criterion.levels[level.level]) === null || _criterion$levels$lev === void 0 ? void 0 : _criterion$levels$lev.pointRange, \" pts\"]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1085,\n                        columnNumber: 31\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        style: {\n                          fontSize: '0.75rem',\n                          color: '#374151'\n                        },\n                        children: (_criterion$levels$lev2 = criterion.levels[level.level]) === null || _criterion$levels$lev2 === void 0 ? void 0 : _criterion$levels$lev2.description\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1088,\n                        columnNumber: 31\n                      }, this)]\n                    }, level.level, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1072,\n                      columnNumber: 29\n                    }, this);\n                  })\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1066,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1057,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  style: {\n                    display: 'block',\n                    fontSize: '0.875rem',\n                    fontWeight: '500',\n                    color: '#374151',\n                    marginBottom: '0.5rem'\n                  },\n                  children: \"Additional Comments:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1099,\n                  columnNumber: 23\n                }, this), criterion.feedbackLibrary && /*#__PURE__*/_jsxDEV(\"div\", {\n                  style: {\n                    display: 'flex',\n                    gap: '0.5rem',\n                    marginBottom: '0.75rem',\n                    flexWrap: 'wrap'\n                  },\n                  children: Object.entries(criterion.feedbackLibrary).map(([category, comments]) => /*#__PURE__*/_jsxDEV(\"select\", {\n                    onChange: e => {\n                      if (e.target.value) {\n                        addCriterionFeedback(criterion.id, e.target.value);\n                        e.target.value = '';\n                      }\n                    },\n                    defaultValue: \"\",\n                    style: {\n                      padding: '0.5rem',\n                      border: '1px solid #d1d5db',\n                      borderRadius: '0.25rem',\n                      fontSize: '0.75rem',\n                      cursor: 'pointer'\n                    },\n                    children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                      value: \"\",\n                      children: [\"Add \", category, \"...\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1130,\n                      columnNumber: 31\n                    }, this), comments.map((comment, idx) => /*#__PURE__*/_jsxDEV(\"option\", {\n                      value: comment,\n                      children: comment\n                    }, idx, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1132,\n                      columnNumber: 33\n                    }, this))]\n                  }, category, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1113,\n                    columnNumber: 29\n                  }, this))\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1111,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n                  value: (currentGrading === null || currentGrading === void 0 ? void 0 : currentGrading.customComments) || '',\n                  onChange: e => updateRubricGrading(criterion.id, currentGrading === null || currentGrading === void 0 ? void 0 : currentGrading.selectedLevel, e.target.value),\n                  style: {\n                    width: '100%',\n                    padding: '0.75rem',\n                    border: '1px solid #d1d5db',\n                    borderRadius: '0.5rem',\n                    fontSize: '0.875rem',\n                    resize: 'none',\n                    minHeight: '80px'\n                  },\n                  rows: \"3\",\n                  placeholder: \"Add specific feedback for this criterion...\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1139,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1098,\n                columnNumber: 21\n              }, this), (currentGrading === null || currentGrading === void 0 ? void 0 : currentGrading.selectedLevel) && /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  marginTop: '0.75rem',\n                  padding: '0.75rem',\n                  background: '#eff6ff',\n                  borderRadius: '0.25rem',\n                  border: '1px solid #bfdbfe'\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  style: {\n                    fontSize: '0.875rem'\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                    children: \"Selected Level:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1166,\n                    columnNumber: 27\n                  }, this), \" \", (_loadedRubric$rubricL = loadedRubric.rubricLevels.find(l => l.level === currentGrading.selectedLevel)) === null || _loadedRubric$rubricL === void 0 ? void 0 : _loadedRubric$rubricL.name, ' ', \"(\", (_criterion$levels$cur = criterion.levels[currentGrading.selectedLevel]) === null || _criterion$levels$cur === void 0 ? void 0 : _criterion$levels$cur.pointRange, \" pts)\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1165,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  style: {\n                    fontSize: '0.875rem',\n                    color: '#374151',\n                    marginTop: '0.25rem'\n                  },\n                  children: (_criterion$levels$cur2 = criterion.levels[currentGrading.selectedLevel]) === null || _criterion$levels$cur2 === void 0 ? void 0 : _criterion$levels$cur2.description\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1169,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1158,\n                columnNumber: 23\n              }, this)]\n            }, criterion.id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 982,\n              columnNumber: 19\n            }, this);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 976,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginTop: '1.5rem',\n            background: 'white',\n            border: '1px solid #d1d5db',\n            borderRadius: '0.5rem',\n            padding: '1rem'\n          },\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              display: 'flex',\n              justifyContent: 'space-between',\n              alignItems: 'center'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                style: {\n                  fontSize: '1.125rem',\n                  fontWeight: '600',\n                  color: '#374151'\n                },\n                children: \"Rubric Score Summary\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1189,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                style: {\n                  fontSize: '0.875rem',\n                  color: '#6b7280'\n                },\n                children: \"Based on selected levels across all criteria\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1192,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1188,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                textAlign: 'right'\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  fontSize: '1.5rem',\n                  fontWeight: '700',\n                  color: '#3b82f6'\n                },\n                children: [Math.round(calculateTotalScore().finalScore * 10) / 10, \"/\", loadedRubric.assignmentInfo.totalPoints]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1197,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  fontSize: '1.125rem',\n                  color: '#6b7280'\n                },\n                children: [\"(\", Math.round(calculateTotalScore().finalScore / loadedRubric.assignmentInfo.totalPoints * 1000) / 10, \"%)\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1200,\n                columnNumber: 19\n              }, this), calculateTotalScore().penaltyApplied && /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  fontSize: '0.875rem',\n                  color: '#dc2626',\n                  marginTop: '0.25rem'\n                },\n                children: [\"Raw: \", Math.round(calculateTotalScore().rawScore * 10) / 10, \" (Late Penalty Applied)\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1204,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  fontSize: '0.875rem',\n                  fontWeight: '500',\n                  color: calculateTotalScore().finalScore / loadedRubric.assignmentInfo.totalPoints * 100 >= loadedRubric.assignmentInfo.passingThreshold ? '#16a34a' : '#dc2626'\n                },\n                children: calculateTotalScore().finalScore / loadedRubric.assignmentInfo.totalPoints * 100 >= loadedRubric.assignmentInfo.passingThreshold ? '✓ PASSING' : '✗ NEEDS IMPROVEMENT'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1208,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1196,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1187,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1180,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 937,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          background: 'white',\n          border: '1px solid #e5e7eb',\n          borderRadius: '0.5rem',\n          padding: '1.5rem',\n          marginBottom: '1.5rem',\n          boxShadow: '0 1px 3px 0 rgb(0 0 0 / 0.1)'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          style: {\n            fontSize: '1.25rem',\n            fontWeight: '600',\n            marginBottom: '1rem',\n            color: '#374151'\n          },\n          children: \"Course Information\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1232,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: 'grid',\n            gridTemplateColumns: 'repeat(auto-fit, minmax(250px, 1fr))',\n            gap: '1rem'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            placeholder: \"Course Code (e.g., ANIM-200)\",\n            value: gradingData.course.code,\n            onChange: e => setGradingData(prev => ({\n              ...prev,\n              course: {\n                ...prev.course,\n                code: e.target.value\n              }\n            })),\n            style: {\n              width: '100%',\n              padding: '0.75rem',\n              border: '1px solid #d1d5db',\n              borderRadius: '0.5rem',\n              fontSize: '0.875rem'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1236,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            placeholder: \"Course Name\",\n            value: gradingData.course.name,\n            onChange: e => setGradingData(prev => ({\n              ...prev,\n              course: {\n                ...prev.course,\n                name: e.target.value\n              }\n            })),\n            style: {\n              width: '100%',\n              padding: '0.75rem',\n              border: '1px solid #d1d5db',\n              borderRadius: '0.5rem',\n              fontSize: '0.875rem'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1252,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            placeholder: \"Instructor\",\n            value: gradingData.course.instructor,\n            onChange: e => setGradingData(prev => ({\n              ...prev,\n              course: {\n                ...prev.course,\n                instructor: e.target.value\n              }\n            })),\n            style: {\n              width: '100%',\n              padding: '0.75rem',\n              border: '1px solid #d1d5db',\n              borderRadius: '0.5rem',\n              fontSize: '0.875rem'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1268,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            placeholder: \"Term\",\n            value: gradingData.course.term,\n            onChange: e => setGradingData(prev => ({\n              ...prev,\n              course: {\n                ...prev.course,\n                term: e.target.value\n              }\n            })),\n            style: {\n              width: '100%',\n              padding: '0.75rem',\n              border: '1px solid #d1d5db',\n              borderRadius: '0.5rem',\n              fontSize: '0.875rem'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1284,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1235,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1224,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          background: 'white',\n          border: '1px solid #e5e7eb',\n          borderRadius: '0.5rem',\n          padding: '1.5rem',\n          marginBottom: '1.5rem',\n          boxShadow: '0 1px 3px 0 rgb(0 0 0 / 0.1)'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          style: {\n            fontSize: '1.25rem',\n            fontWeight: '600',\n            marginBottom: '1rem',\n            color: '#374151'\n          },\n          children: \"Student Information\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1312,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: 'grid',\n            gridTemplateColumns: 'repeat(auto-fit, minmax(200px, 1fr))',\n            gap: '1rem'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            placeholder: \"Student Name\",\n            value: gradingData.student.name,\n            onChange: e => setGradingData(prev => ({\n              ...prev,\n              student: {\n                ...prev.student,\n                name: e.target.value\n              }\n            })),\n            style: {\n              width: '100%',\n              padding: '0.75rem',\n              border: '1px solid #d1d5db',\n              borderRadius: '0.5rem',\n              fontSize: '0.875rem'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1316,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            placeholder: \"Student ID\",\n            value: gradingData.student.id,\n            onChange: e => setGradingData(prev => ({\n              ...prev,\n              student: {\n                ...prev.student,\n                id: e.target.value\n              }\n            })),\n            style: {\n              width: '100%',\n              padding: '0.75rem',\n              border: '1px solid #d1d5db',\n              borderRadius: '0.5rem',\n              fontSize: '0.875rem'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1332,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"email\",\n            placeholder: \"Student Email\",\n            value: gradingData.student.email,\n            onChange: e => setGradingData(prev => ({\n              ...prev,\n              student: {\n                ...prev.student,\n                email: e.target.value\n              }\n            })),\n            style: {\n              width: '100%',\n              padding: '0.75rem',\n              border: '1px solid #d1d5db',\n              borderRadius: '0.5rem',\n              fontSize: '0.875rem'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1348,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1315,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1304,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          background: 'white',\n          border: '1px solid #e5e7eb',\n          borderRadius: '0.5rem',\n          padding: '1.5rem',\n          marginBottom: '1.5rem',\n          boxShadow: '0 1px 3px 0 rgb(0 0 0 / 0.1)'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          style: {\n            fontSize: '1.25rem',\n            fontWeight: '600',\n            marginBottom: '1rem',\n            color: '#374151'\n          },\n          children: \"Assignment Details\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1376,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: 'grid',\n            gridTemplateColumns: 'repeat(auto-fit, minmax(200px, 1fr))',\n            gap: '1rem'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            placeholder: \"Assignment Name\",\n            value: gradingData.assignment.name,\n            onChange: e => setGradingData(prev => ({\n              ...prev,\n              assignment: {\n                ...prev.assignment,\n                name: e.target.value\n              }\n            })),\n            style: {\n              width: '100%',\n              padding: '0.75rem',\n              border: '1px solid #d1d5db',\n              borderRadius: '0.5rem',\n              fontSize: '0.875rem'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1380,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"date\",\n            placeholder: \"Due Date\",\n            value: gradingData.assignment.dueDate,\n            onChange: e => setGradingData(prev => ({\n              ...prev,\n              assignment: {\n                ...prev.assignment,\n                dueDate: e.target.value\n              }\n            })),\n            style: {\n              width: '100%',\n              padding: '0.75rem',\n              border: '1px solid #d1d5db',\n              borderRadius: '0.5rem',\n              fontSize: '0.875rem'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1396,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"number\",\n            placeholder: \"Max Points\",\n            value: gradingData.assignment.maxPoints,\n            onChange: e => setGradingData(prev => ({\n              ...prev,\n              assignment: {\n                ...prev.assignment,\n                maxPoints: parseInt(e.target.value) || 0\n              }\n            })),\n            style: {\n              width: '100%',\n              padding: '0.75rem',\n              border: '1px solid #d1d5db',\n              borderRadius: '0.5rem',\n              fontSize: '0.875rem'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1412,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1379,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1368,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          background: 'linear-gradient(135deg, #fefce8 0%, #fef3c7 100%)',\n          border: '1px solid #fde047',\n          borderRadius: '0.75rem',\n          padding: '1.5rem',\n          marginBottom: '2rem',\n          textAlign: 'center'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          style: {\n            fontSize: '1.25rem',\n            fontWeight: '600',\n            color: '#92400e',\n            marginBottom: '1rem'\n          },\n          children: \"Current Grade\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1440,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            fontSize: '2.5rem',\n            fontWeight: '700',\n            color: '#3b82f6',\n            marginBottom: '0.5rem'\n          },\n          children: [Math.round(calculateTotalScore().finalScore * 10) / 10, \"/\", loadedRubric ? loadedRubric.assignmentInfo.totalPoints : gradingData.assignment.maxPoints, /*#__PURE__*/_jsxDEV(\"span\", {\n            style: {\n              fontSize: '1.5rem',\n              color: '#6b7280',\n              marginLeft: '0.5rem'\n            },\n            children: [\"(\", Math.round(calculateTotalScore().finalScore / (loadedRubric ? loadedRubric.assignmentInfo.totalPoints : gradingData.assignment.maxPoints) * 1000) / 10, \"%)\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1445,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1443,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: 'flex',\n            justifyContent: 'center',\n            gap: '1rem',\n            flexWrap: 'wrap'\n          },\n          children: [loadedRubric && /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              fontSize: '0.875rem',\n              background: '#dcfce7',\n              color: '#15803d',\n              padding: '0.25rem 0.75rem',\n              borderRadius: '1rem'\n            },\n            children: \"\\uD83D\\uDCCB Rubric Assessment Active\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1451,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              fontSize: '0.875rem',\n              color: '#92400e'\n            },\n            children: [\"Assessment based on \", loadedRubric ? loadedRubric.criteria.length : 'basic', \" criteria \\u2022 Passing threshold: \", loadedRubric ? loadedRubric.assignmentInfo.passingThreshold : 60, \"%\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1461,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1449,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1432,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          background: 'white',\n          border: '1px solid #e5e7eb',\n          borderRadius: '0.75rem',\n          padding: '1.5rem',\n          marginBottom: '2rem',\n          boxShadow: '0 1px 3px 0 rgb(0 0 0 / 0.1)'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: 'flex',\n            alignItems: 'center',\n            gap: '0.5rem',\n            marginBottom: '1rem'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            style: {\n              fontSize: '1.25rem'\n            },\n            children: \"\\uD83D\\uDCC5\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1477,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n            style: {\n              fontSize: '1.25rem',\n              fontWeight: '600',\n              color: '#374151',\n              margin: 0\n            },\n            children: \"Late Submission Policy\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1478,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1476,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            background: '#f8f9fa',\n            border: '1px solid #e9ecef',\n            borderRadius: '0.5rem',\n            padding: '1rem',\n            marginBottom: '1.5rem'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            style: {\n              fontWeight: '500',\n              marginBottom: '0.5rem',\n              color: '#495057'\n            },\n            children: \"Institutional Late Assignment Policy:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1490,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n            style: {\n              paddingLeft: '1.25rem',\n              fontSize: '0.875rem',\n              color: '#6c757d',\n              margin: 0\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"li\", {\n              children: [\"\\u2022 \", /*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"On Time:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1494,\n                columnNumber: 21\n              }, this), \" Assignments submitted on or before due date and time are marked out of 100%\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1494,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n              children: [\"\\u2022 \", /*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"1-24 Hours Late:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1495,\n                columnNumber: 21\n              }, this), \" Assignments receive a 20% reduction and are marked out of 80%\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1495,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n              children: [\"\\u2022 \", /*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"After 24 Hours:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1496,\n                columnNumber: 21\n              }, this), \" Assignments receive a mark of zero (0)\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1496,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1493,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1483,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n          style: {\n            fontWeight: '500',\n            marginBottom: '1rem',\n            color: '#374151'\n          },\n          children: \"Select submission status:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1500,\n          columnNumber: 11\n        }, this), Object.entries(latePolicyLevels).map(([level, policy]) => /*#__PURE__*/_jsxDEV(\"label\", {\n          style: {\n            display: 'block',\n            marginBottom: '1rem',\n            cursor: 'pointer'\n          },\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              background: 'white',\n              border: `2px solid ${gradingData.latePolicy.level === level ? policy.color : '#e5e7eb'}`,\n              borderRadius: '0.75rem',\n              padding: '1rem',\n              transition: 'all 0.3s ease',\n              transform: gradingData.latePolicy.level === level ? 'translateY(-2px)' : 'none',\n              boxShadow: gradingData.latePolicy.level === level ? '0 8px 25px rgba(0, 0, 0, 0.15)' : '0 1px 3px rgba(0, 0, 0, 0.1)',\n              background: gradingData.latePolicy.level === level ? `linear-gradient(135deg, ${policy.color}15 0%, ${policy.color}25 100%)` : 'white'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                display: 'flex',\n                alignItems: 'center',\n                gap: '0.75rem',\n                marginBottom: '0.75rem'\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"radio\",\n                name: \"latePolicy\",\n                value: level,\n                checked: gradingData.latePolicy.level === level,\n                onChange: () => updateLatePolicy(level),\n                style: {\n                  accentColor: policy.color,\n                  width: '16px',\n                  height: '16px'\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1526,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  width: '16px',\n                  height: '16px',\n                  borderRadius: '50%',\n                  backgroundColor: policy.color,\n                  flexShrink: 0\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1538,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"h5\", {\n                style: {\n                  fontWeight: '600',\n                  fontSize: '1.1rem',\n                  margin: 0,\n                  flex: 1,\n                  color: policy.color\n                },\n                children: policy.name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1545,\n                columnNumber: 19\n              }, this), level !== 'none' && /*#__PURE__*/_jsxDEV(\"span\", {\n                style: {\n                  fontSize: '0.9rem',\n                  opacity: 0.8,\n                  fontWeight: '500',\n                  color: policy.color\n                },\n                children: [\"(\\xD7\", policy.multiplier === 0 ? '0' : policy.multiplier, \")\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1555,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1525,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              style: {\n                fontSize: '0.9rem',\n                lineHeight: 1.5,\n                margin: 0,\n                color: '#6b7280'\n              },\n              children: policy.description\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1565,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1513,\n            columnNumber: 15\n          }, this)\n        }, level, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1505,\n          columnNumber: 13\n        }, this)), calculateTotalScore().penaltyApplied && /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            background: '#fef2f2',\n            border: '1px solid #fecaca',\n            borderRadius: '0.5rem',\n            padding: '1rem',\n            marginTop: '1rem'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n            style: {\n              fontWeight: '500',\n              color: '#991b1b',\n              marginBottom: '0.5rem'\n            },\n            children: \"\\u26A0\\uFE0F Late Penalty Calculation\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1585,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              fontSize: '0.875rem',\n              color: '#7f1d1d'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              style: {\n                marginBottom: '0.25rem'\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Raw Score:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1590,\n                columnNumber: 19\n              }, this), \" \", Math.round(calculateTotalScore().rawScore * 10) / 10, \" / \", loadedRubric ? loadedRubric.assignmentInfo.totalPoints : gradingData.assignment.maxPoints]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1589,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              style: {\n                marginBottom: '0.25rem'\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Late Penalty:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1593,\n                columnNumber: 19\n              }, this), \" \\xD7\", latePolicyLevels[gradingData.latePolicy.level].multiplier]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1592,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              style: {\n                margin: 0\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Final Score:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1596,\n                columnNumber: 19\n              }, this), \" \", Math.round(calculateTotalScore().finalScore * 10) / 10, \" / \", loadedRubric ? loadedRubric.assignmentInfo.totalPoints : gradingData.assignment.maxPoints]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1595,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1588,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1578,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1468,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          background: 'white',\n          border: '1px solid #e5e7eb',\n          borderRadius: '0.5rem',\n          padding: '1.5rem',\n          marginBottom: '1.5rem',\n          boxShadow: '0 1px 3px 0 rgb(0 0 0 / 0.1)'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          style: {\n            fontSize: '1.125rem',\n            fontWeight: '600',\n            marginBottom: '1rem',\n            color: '#374151'\n          },\n          children: \"\\uD83D\\uDCCE File Attachments\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1612,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            border: '2px dashed #d1d5db',\n            borderRadius: '0.5rem',\n            padding: '2rem',\n            textAlign: 'center',\n            marginBottom: '1rem'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            ref: fileInputRef,\n            type: \"file\",\n            multiple: true,\n            onChange: e => handleFileUpload(e.target.files),\n            style: {\n              display: 'none'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1622,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => {\n              var _fileInputRef$current;\n              return (_fileInputRef$current = fileInputRef.current) === null || _fileInputRef$current === void 0 ? void 0 : _fileInputRef$current.click();\n            },\n            style: {\n              display: 'flex',\n              alignItems: 'center',\n              gap: '0.5rem',\n              background: '#3b82f6',\n              color: 'white',\n              padding: '0.75rem 1.5rem',\n              borderRadius: '0.5rem',\n              border: 'none',\n              cursor: 'pointer',\n              margin: '0 auto',\n              fontSize: '0.875rem'\n            },\n            children: [/*#__PURE__*/_jsxDEV(Plus, {\n              size: 20\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1645,\n              columnNumber: 15\n            }, this), \"Add Files\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1629,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            style: {\n              color: '#6b7280',\n              marginTop: '1rem',\n              fontSize: '0.875rem'\n            },\n            children: [\"Supported: \", currentModule === null || currentModule === void 0 ? void 0 : (_currentModule$gradin8 = currentModule.gradingSettings) === null || _currentModule$gradin8 === void 0 ? void 0 : (_currentModule$gradin9 = _currentModule$gradin8.fileTypes) === null || _currentModule$gradin9 === void 0 ? void 0 : _currentModule$gradin9.join(', ')]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1648,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1615,\n          columnNumber: 11\n        }, this), gradingData.attachments.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            style: {\n              fontWeight: '600',\n              color: '#374151',\n              marginBottom: '0.75rem'\n            },\n            children: [\"Uploaded Files (\", gradingData.attachments.length, \")\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1655,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              display: 'grid',\n              gridTemplateColumns: 'repeat(auto-fill, minmax(200px, 1fr))',\n              gap: '1rem'\n            },\n            children: gradingData.attachments.map(file => /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                border: '1px solid #d1d5db',\n                borderRadius: '0.5rem',\n                overflow: 'hidden',\n                background: 'white'\n              },\n              children: [file.type.startsWith('image/') ? /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  position: 'relative'\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                  src: file.base64Data || URL.createObjectURL(file.file),\n                  alt: file.name,\n                  style: {\n                    width: '100%',\n                    height: '150px',\n                    objectFit: 'cover'\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1672,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => removeAttachment(file.id),\n                  style: {\n                    position: 'absolute',\n                    top: '0.5rem',\n                    right: '0.5rem',\n                    background: '#dc2626',\n                    color: 'white',\n                    borderRadius: '50%',\n                    width: '24px',\n                    height: '24px',\n                    border: 'none',\n                    cursor: 'pointer',\n                    display: 'flex',\n                    alignItems: 'center',\n                    justifyContent: 'center'\n                  },\n                  children: /*#__PURE__*/_jsxDEV(X, {\n                    size: 12\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1699,\n                    columnNumber: 27\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1681,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1671,\n                columnNumber: 23\n              }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  padding: '1rem'\n                },\n                children: /*#__PURE__*/_jsxDEV(FileText, {\n                  size: 40,\n                  style: {\n                    color: '#6b7280',\n                    margin: '0 auto 0.5rem auto',\n                    display: 'block'\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1704,\n                  columnNumber: 25\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1703,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  padding: '0.75rem'\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  style: {\n                    fontWeight: '500',\n                    fontSize: '0.875rem',\n                    marginBottom: '0.25rem'\n                  },\n                  children: file.name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1708,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  style: {\n                    fontSize: '0.75rem',\n                    color: '#6b7280'\n                  },\n                  children: [(file.size / 1024).toFixed(1), \" KB\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1711,\n                  columnNumber: 23\n                }, this), !file.type.startsWith('image/') && /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => removeAttachment(file.id),\n                  style: {\n                    marginTop: '0.5rem',\n                    color: '#dc2626',\n                    background: 'none',\n                    border: 'none',\n                    fontSize: '0.75rem',\n                    cursor: 'pointer'\n                  },\n                  children: \"Remove\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1715,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1707,\n                columnNumber: 21\n              }, this)]\n            }, file.id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1664,\n              columnNumber: 19\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1658,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1654,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1604,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          background: 'white',\n          border: '1px solid #e5e7eb',\n          borderRadius: '0.5rem',\n          padding: '1.5rem',\n          marginBottom: '1.5rem',\n          boxShadow: '0 1px 3px 0 rgb(0 0 0 / 0.1)'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          style: {\n            fontSize: '1.125rem',\n            fontWeight: '600',\n            marginBottom: '1rem',\n            color: '#374151'\n          },\n          children: \"\\uD83C\\uDFA5 Video Review Links\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1746,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginBottom: '1rem'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            style: {\n              display: 'block',\n              fontSize: '0.875rem',\n              fontWeight: '500',\n              color: '#374151',\n              marginBottom: '0.5rem'\n            },\n            children: \"Video URL\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1751,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"url\",\n            value: videoLinkInput,\n            onChange: e => setVideoLinkInput(e.target.value),\n            placeholder: \"https://syncsketch.com/sketch/... or https://[school].hosted.panopto.com/...\",\n            style: {\n              width: '100%',\n              padding: '0.75rem',\n              border: '1px solid #d1d5db',\n              borderRadius: '0.5rem',\n              fontSize: '0.875rem',\n              marginBottom: '0.5rem'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1760,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            style: {\n              fontSize: '0.75rem',\n              color: '#6b7280',\n              marginBottom: '1rem'\n            },\n            children: [\"Supports: \", currentModule === null || currentModule === void 0 ? void 0 : (_currentModule$gradin0 = currentModule.gradingSettings) === null || _currentModule$gradin0 === void 0 ? void 0 : (_currentModule$gradin1 = _currentModule$gradin0.supportedVideoLinks) === null || _currentModule$gradin1 === void 0 ? void 0 : _currentModule$gradin1.join(', '), \", and generic video links\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1774,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              display: 'flex',\n              gap: '0.5rem'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              value: videoTitle,\n              onChange: e => setVideoTitle(e.target.value),\n              placeholder: \"Title (Optional)\",\n              style: {\n                flex: 1,\n                padding: '0.75rem',\n                border: '1px solid #d1d5db',\n                borderRadius: '0.5rem',\n                fontSize: '0.875rem'\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1779,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: addVideoLink,\n              disabled: !videoLinkInput.trim(),\n              style: {\n                display: 'flex',\n                alignItems: 'center',\n                gap: '0.5rem',\n                background: videoLinkInput.trim() ? '#7c3aed' : '#9ca3af',\n                color: 'white',\n                padding: '0.75rem 1rem',\n                borderRadius: '0.5rem',\n                border: 'none',\n                cursor: videoLinkInput.trim() ? 'pointer' : 'not-allowed',\n                fontSize: '0.875rem'\n              },\n              children: [/*#__PURE__*/_jsxDEV(Plus, {\n                size: 18\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1808,\n                columnNumber: 17\n              }, this), \"Add Video\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1792,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1778,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1750,\n          columnNumber: 11\n        }, this), gradingData.videoLinks.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            style: {\n              fontWeight: '600',\n              color: '#374151',\n              marginBottom: '0.75rem'\n            },\n            children: [\"Added Video Links (\", gradingData.videoLinks.length, \")\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1816,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              display: 'flex',\n              flexDirection: 'column',\n              gap: '1rem'\n            },\n            children: gradingData.videoLinks.map(videoLink => /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                border: '1px solid #d1d5db',\n                borderRadius: '0.5rem',\n                overflow: 'hidden'\n              },\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  background: '#f9fafb',\n                  padding: '1rem',\n                  display: 'flex',\n                  alignItems: 'center',\n                  justifyContent: 'space-between'\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  style: {\n                    display: 'flex',\n                    alignItems: 'center',\n                    gap: '0.75rem'\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    style: {\n                      width: '32px',\n                      height: '32px',\n                      background: '#7c3aed',\n                      borderRadius: '0.25rem',\n                      display: 'flex',\n                      alignItems: 'center',\n                      justifyContent: 'center'\n                    },\n                    children: /*#__PURE__*/_jsxDEV(Video, {\n                      size: 16,\n                      style: {\n                        color: 'white'\n                      }\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1843,\n                      columnNumber: 27\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1834,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                      style: {\n                        fontWeight: '500',\n                        color: '#374151'\n                      },\n                      children: videoLink.title\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1846,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                      style: {\n                        fontSize: '0.875rem',\n                        color: '#6b7280'\n                      },\n                      children: \"External Link\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1847,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1845,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1833,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  style: {\n                    display: 'flex',\n                    alignItems: 'center',\n                    gap: '0.5rem'\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(\"a\", {\n                    href: videoLink.url,\n                    target: \"_blank\",\n                    rel: \"noopener noreferrer\",\n                    style: {\n                      background: '#3b82f6',\n                      color: 'white',\n                      padding: '0.25rem 0.75rem',\n                      borderRadius: '0.25rem',\n                      fontSize: '0.875rem',\n                      textDecoration: 'none'\n                    },\n                    children: \"Open Link\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1851,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                    onClick: () => removeVideoLink(videoLink.id),\n                    style: {\n                      color: '#dc2626',\n                      background: 'none',\n                      border: 'none',\n                      cursor: 'pointer',\n                      padding: '0.25rem'\n                    },\n                    children: /*#__PURE__*/_jsxDEV(X, {\n                      size: 16\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1876,\n                      columnNumber: 27\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1866,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1850,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1826,\n                columnNumber: 21\n              }, this)\n            }, videoLink.id, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1821,\n              columnNumber: 19\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1819,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1815,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1738,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 851,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 850,\n    columnNumber: 5\n  }, this);\n};\n_s(GradingTemplate, \"7udkvCuk+rrqp/Z8DNLvCb2ftjw=\", false, function () {\n  return [useAssessment];\n});\n_c = GradingTemplate;\nexport default GradingTemplate;\nvar _c;\n$RefreshReg$(_c, \"GradingTemplate\");","map":{"version":3,"names":["React","useState","useRef","useEffect","Download","Upload","FileText","Video","Plus","X","Save","FileDown","Bot","ChevronDown","ChevronUp","useAssessment","jsxDEV","_jsxDEV","courseModules","courseType","version","gradingSettings","maxPoints","passingGrade","fileTypes","submissionRequirements","supportedVideoLinks","rubric","criteria","score","comments","description","feedbackLibrary","strengths","improvements","general","sampleRubric","assignmentInfo","title","weight","passingThreshold","totalPoints","rubricLevels","level","name","color","multiplier","id","levels","incomplete","pointRange","unacceptable","developing","acceptable","emerging","accomplished","exceptional","GradingTemplate","_s","_currentModule$gradin2","_currentModule$gradin3","_currentModule$gradin4","_currentModule$gradin5","_currentModule$gradin6","_currentModule$gradin7","_currentModule$gradin8","_currentModule$gradin9","_currentModule$gradin0","_currentModule$gradin1","sharedRubric","sharedCourseDetails","activeModule","setActiveModule","customModules","setCustomModules","allModules","currentModule","gradingData","setGradingData","_sharedCourseDetails$","_sharedCourseDetails$2","_currentModule$gradin","student","email","course","code","instructor","term","assignment","dueDate","feedback","attachments","videoLinks","latePolicy","penaltyApplied","metadata","moduleUsed","moduleVersion","gradedBy","gradedDate","aiAssisted","rubricIntegrated","loadedRubric","setLoadedRubric","rubricGrading","setRubricGrading","showRubricComments","setShowRubricComments","showHeaderGuide","setShowHeaderGuide","fileInputRef","moduleInputRef","rubricInputRef","videoLinkInput","setVideoLinkInput","videoTitle","setVideoTitle","latePolicyLevels","none","within24","after24","prev","_sharedCourseDetails$3","_sharedCourseDetails$4","initialGrading","forEach","criterion","criterionId","selectedLevel","customComments","_loadedRubric$assignm","_loadedRubric$assignm2","calculateTotalScore","rawScore","Object","values","reduce","total","grading","find","c","l","item","latePolicyLevel","finalScore","latePolicyDescription","updateLatePolicy","updateRubricGrading","existingGrading","existingComments","addCriterionFeedback","comment","currentGrading","currentComments","newComments","toggleRubricComments","addVideoLink","trim","Date","now","url","removeVideoLink","filter","link","handleFileUpload","files","newAttachments","Array","from","map","file","Math","random","size","type","Promise","all","attachment","resolve","startsWith","reader","FileReader","onload","e","base64Data","target","result","readAsDataURL","then","processedAttachments","removeAttachment","att","exportToHTML","_loadedRubric$assignm3","_gradingData$student$","_gradingData$assignme","scoreCalculation","totalScore","percentage","toFixed","rubricTableHTML","points","replace","join","attachmentsHTML","length","index","imageData","URL","createObjectURL","videoLinksHTML","videoLink","feedbackHTML","entries","key","value","htmlContent","toLocaleDateString","round","toLocaleTimeString","htmlBlob","Blob","document","createElement","href","download","click","revokeObjectURL","style","minHeight","background","padding","children","maxWidth","margin","borderRadius","boxShadow","marginBottom","display","justifyContent","alignItems","fontSize","fontWeight","fileName","_jsxFileName","lineNumber","columnNumber","gap","onChange","border","onClick","cursor","gridTemplateColumns","marginTop","marginLeft","flexDirection","_loadedRubric$rubricL","_criterion$levels$cur","_criterion$levels$cur2","showComments","flex","textDecoration","isSelected","transition","backgroundColor","transform","textAlign","_criterion$levels$lev","_criterion$levels$lev2","borderLeft","flexWrap","category","defaultValue","idx","width","resize","rows","placeholder","parseInt","paddingLeft","policy","checked","accentColor","height","flexShrink","opacity","lineHeight","ref","multiple","_fileInputRef$current","current","overflow","position","src","alt","objectFit","top","right","disabled","rel","_c","$RefreshReg$"],"sources":["C:/local clones/rubric-creation-app/src/components/GradingTemplate.js"],"sourcesContent":["import React, { useState, useRef, useEffect } from 'react';\r\nimport { Download, Upload, FileText, Video, Plus, X, Save, FileDown, Bot, ChevronDown, ChevronUp } from 'lucide-react';\r\nimport { useAssessment } from './SharedContext';\r\n\r\n// Built-in Course Modules\r\nconst courseModules = {\r\n  \"2d-animation\": {\r\n    courseType: \"2D Animation\",\r\n    version: \"1.0\",\r\n    gradingSettings: {\r\n      maxPoints: 100,\r\n      passingGrade: 70,\r\n      fileTypes: ['.mp4', '.mov', '.gif', '.jpg', '.png'],\r\n      submissionRequirements: ['Animation file', 'Process documentation'],\r\n      supportedVideoLinks: ['SyncSketch', 'Panopto', 'YouTube', 'Vimeo']\r\n    },\r\n    rubric: [\r\n      { criteria: 'Animation Principles', maxPoints: 30, score: 0, comments: '', description: 'Timing, spacing, squash & stretch, anticipation' },\r\n      { criteria: 'Technical Execution', maxPoints: 25, score: 0, comments: '', description: 'Frame rate, resolution, file quality' },\r\n      { criteria: 'Creativity & Storytelling', maxPoints: 25, score: 0, comments: '', description: 'Original concept, narrative clarity' },\r\n      { criteria: 'Process & Documentation', maxPoints: 20, score: 0, comments: '', description: 'Planning sketches, workflow organization' }\r\n    ],\r\n    feedbackLibrary: {\r\n      strengths: [\r\n        'Excellent timing and spacing throughout the animation',\r\n        'Strong understanding of squash and stretch principles',\r\n        'Creative and engaging storytelling approach',\r\n        'Professional frame-by-frame animation technique'\r\n      ],\r\n      improvements: [\r\n        'Work on timing consistency in key sequences',\r\n        'Add more anticipation before major actions',\r\n        'Improve lip sync accuracy and mouth shapes',\r\n        'Consider adding more secondary animation'\r\n      ],\r\n      general: [\r\n        'This shows strong progress in animation fundamentals',\r\n        'Consider studying reference footage for realistic motion',\r\n        'Excellent creative problem-solving in animation challenges'\r\n      ]\r\n    }\r\n  }\r\n};\r\n\r\n// Sample comprehensive rubric from the PDF\r\nconst sampleRubric = {\r\n  assignmentInfo: {\r\n    title: \"Digital Portfolio Project - Final Showcase\",\r\n    description: \"Students will create a comprehensive digital portfolio showcasing their best work from the semester, including 5-7 completed projects with professional presentation, artist statements, and technical documentation. The portfolio must demonstrate growth, technical proficiency, and creative vision suitable for industry presentation.\",\r\n    weight: 30,\r\n    passingThreshold: 65,\r\n    totalPoints: 120\r\n  },\r\n  rubricLevels: [\r\n    { level: 'incomplete', name: 'Incomplete', description: 'No submission or unusable', color: '#95a5a6', multiplier: 0 },\r\n    { level: 'unacceptable', name: 'Unacceptable', description: 'Below minimum standards', color: '#e74c3c', multiplier: 0.3 },\r\n    { level: 'developing', name: 'Developing', description: 'Approaching standards', color: '#f39c12', multiplier: 0.55 },\r\n    { level: 'acceptable', name: 'Acceptable (PASS)', description: 'Meets minimum standards', color: '#27ae60', multiplier: 0.7 },\r\n    { level: 'emerging', name: 'Emerging', description: 'Above standard expectations', color: '#2980b9', multiplier: 0.82 },\r\n    { level: 'accomplished', name: 'Accomplished', description: 'Strong professional quality', color: '#16a085', multiplier: 0.92 },\r\n    { level: 'exceptional', name: 'Exceptional', description: 'Outstanding professional quality', color: '#8e44ad', multiplier: 1.0 }\r\n  ],\r\n  criteria: [\r\n    {\r\n      id: 'technical-proficiency',\r\n      name: 'Technical Proficiency & Craft',\r\n      description: 'Demonstration of technical skills, software mastery, and attention to detail in execution',\r\n      maxPoints: 35,\r\n      weight: 29,\r\n      levels: {\r\n        incomplete: { description: 'No technical work submitted or files corrupted/unusable.', pointRange: '0' },\r\n        unacceptable: { description: 'Severe technical issues: poor resolution, improper file formats, broken links, or significant software handling problems that interfere with viewing work.', pointRange: '8-12' },\r\n        developing: { description: 'Basic technical competency shown but with noticeable issues: inconsistent quality, some resolution problems, or workflow inefficiencies. Software use shows beginner-level understanding.', pointRange: '16-21' },\r\n        acceptable: { description: 'Solid technical foundation with appropriate file formats, good resolution, and functional navigation. Demonstrates competent use of course software with minimal technical distractions.', pointRange: '22-26' },\r\n        emerging: { description: 'Strong technical execution with excellent file management, optimized formats, and smooth user experience. Shows advanced software techniques and professional workflow habits.', pointRange: '27-30' },\r\n        accomplished: { description: 'High-level technical mastery with innovative use of tools, excellent optimization, and seamless integration of multiple software platforms. Technical choices enhance artistic vision.', pointRange: '31-33' },\r\n        exceptional: { description: 'Exceptional technical virtuosity demonstrating mastery of advanced techniques, custom solutions, and industry-standard workflows. Technical execution elevates the artistic content to professional levels.', pointRange: '34-35' }\r\n      },\r\n      feedbackLibrary: {\r\n        strengths: [\r\n          'Excellent file management and organization',\r\n          'Professional-quality technical execution',\r\n          'Innovative use of software tools',\r\n          'Seamless integration across platforms'\r\n        ],\r\n        improvements: [\r\n          'Optimize file sizes for web delivery',\r\n          'Improve resolution consistency',\r\n          'Review proper file naming conventions',\r\n          'Consider mobile responsiveness'\r\n        ],\r\n        general: [\r\n          'Technical skills show strong development',\r\n          'Consider exploring advanced techniques',\r\n          'Portfolio demonstrates software competency'\r\n        ]\r\n      }\r\n    },\r\n    {\r\n      id: 'creative-vision',\r\n      name: 'Creative Vision & Artistic Development',\r\n      description: 'Originality, artistic voice, conceptual depth, and evolution of creative ideas',\r\n      maxPoints: 30,\r\n      weight: 25,\r\n      levels: {\r\n        incomplete: { description: 'No creative work presented or completely derivative.', pointRange: '0' },\r\n        unacceptable: { description: 'Limited creativity with heavy reliance on tutorials or templates. Little evidence of personal artistic voice or original thinking.', pointRange: '7-10' },\r\n        developing: { description: 'Some original ideas present but inconsistent development. Creative choices show potential but lack depth or coherent vision.', pointRange: '13-17' },\r\n        acceptable: { description: 'Clear creative direction with personal style emerging. Shows good problem-solving and conceptual thinking with adequate originality.', pointRange: '18-22' },\r\n        emerging: { description: 'Strong creative vision with distinctive personal style. Demonstrates innovative thinking and sophisticated conceptual development.', pointRange: '23-26' },\r\n        accomplished: { description: 'Exceptional creative development with unique artistic voice. Shows mastery of design principles and innovative approaches to visual communication.', pointRange: '27-29' },\r\n        exceptional: { description: 'Outstanding creative vision that pushes boundaries and demonstrates professional-level artistic development. Highly original and conceptually sophisticated.', pointRange: '30' }\r\n      },\r\n      feedbackLibrary: {\r\n        strengths: [\r\n          'Strong personal artistic voice',\r\n          'Innovative conceptual approaches',\r\n          'Excellent visual storytelling',\r\n          'Distinctive creative style'\r\n        ],\r\n        improvements: [\r\n          'Develop concepts more thoroughly',\r\n          'Push creative boundaries further',\r\n          'Strengthen visual hierarchy',\r\n          'Consider audience engagement'\r\n        ],\r\n        general: [\r\n          'Creative development shows strong growth',\r\n          'Portfolio demonstrates artistic maturity',\r\n          'Conceptual thinking is well-developed'\r\n        ]\r\n      }\r\n    },\r\n    {\r\n      id: 'portfolio-presentation',\r\n      name: 'Portfolio Presentation & Organization',\r\n      description: 'Professional presentation, layout design, navigation, and overall user experience',\r\n      maxPoints: 25,\r\n      weight: 21,\r\n      levels: {\r\n        incomplete: { description: 'No organized presentation or completely inaccessible.', pointRange: '0' },\r\n        unacceptable: { description: 'Poor organization with confusing navigation, inconsistent layout, or significant usability issues.', pointRange: '6-9' },\r\n        developing: { description: 'Basic organization present but with layout inconsistencies or navigation problems. Shows understanding of presentation but needs refinement.', pointRange: '11-15' },\r\n        acceptable: { description: 'Well-organized portfolio with clear navigation and consistent presentation. Professional appearance with good user experience.', pointRange: '16-19' },\r\n        emerging: { description: 'Excellent presentation with sophisticated layout design, intuitive navigation, and engaging user interface.', pointRange: '20-22' },\r\n        accomplished: { description: 'Exceptional presentation quality with innovative design solutions and seamless user experience. Portfolio itself demonstrates design mastery.', pointRange: '23-24' },\r\n        exceptional: { description: 'Outstanding presentation that sets new standards for portfolio design. Every aspect contributes to a cohesive, professional brand experience.', pointRange: '25' }\r\n      },\r\n      feedbackLibrary: {\r\n        strengths: [\r\n          'Excellent visual hierarchy',\r\n          'Professional layout design',\r\n          'Intuitive navigation system',\r\n          'Consistent branding throughout'\r\n        ],\r\n        improvements: [\r\n          'Improve loading times',\r\n          'Enhance mobile responsiveness',\r\n          'Clarify navigation structure',\r\n          'Strengthen visual consistency'\r\n        ],\r\n        general: [\r\n          'Portfolio presentation is professional',\r\n          'Layout demonstrates design understanding',\r\n          'User experience is well-considered'\r\n        ]\r\n      }\r\n    },\r\n    {\r\n      id: 'written-reflection',\r\n      name: 'Written Reflection & Artist Statements',\r\n      description: 'Quality of written analysis, self-reflection, and articulation of artistic process',\r\n      maxPoints: 20,\r\n      weight: 17,\r\n      levels: {\r\n        incomplete: { description: 'No written reflection provided.', pointRange: '0' },\r\n        unacceptable: { description: 'Minimal or superficial writing with poor grammar and little insight into artistic process.', pointRange: '5-7' },\r\n        developing: { description: 'Basic reflection with some insight but lacking depth or clear articulation of artistic development.', pointRange: '9-12' },\r\n        acceptable: { description: 'Good written reflection that demonstrates understanding of artistic process and clear communication of ideas.', pointRange: '13-15' },\r\n        emerging: { description: 'Strong written analysis with thoughtful reflection on artistic growth and articulate discussion of creative decisions.', pointRange: '16-17' },\r\n        accomplished: { description: 'Exceptional written work that demonstrates deep understanding of artistic practice and sophisticated communication skills.', pointRange: '18-19' },\r\n        exceptional: { description: 'Outstanding written reflection that contributes significantly to understanding of artistic development and creative practice.', pointRange: '20' }\r\n      },\r\n      feedbackLibrary: {\r\n        strengths: [\r\n          'Thoughtful artistic reflection',\r\n          'Clear communication of ideas',\r\n          'Strong analytical thinking',\r\n          'Professional writing quality'\r\n        ],\r\n        improvements: [\r\n          'Develop ideas more thoroughly',\r\n          'Improve grammar and syntax',\r\n          'Add more specific examples',\r\n          'Strengthen conclusion'\r\n        ],\r\n        general: [\r\n          'Written work shows good reflection',\r\n          'Communication skills are developing',\r\n          'Artistic awareness is evident'\r\n        ]\r\n      }\r\n    },\r\n    {\r\n      id: 'professional-readiness',\r\n      name: 'Professional Readiness & Industry Standards',\r\n      description: 'Adherence to professional standards, industry practices, and career preparation',\r\n      maxPoints: 10,\r\n      weight: 8,\r\n      levels: {\r\n        incomplete: { description: 'No evidence of professional preparation.', pointRange: '0' },\r\n        unacceptable: { description: 'Little attention to professional standards or industry expectations.', pointRange: '2-3' },\r\n        developing: { description: 'Some awareness of professional practices but inconsistent application.', pointRange: '4-6' },\r\n        acceptable: { description: 'Good understanding of professional standards with appropriate presentation for industry viewing.', pointRange: '7-8' },\r\n        emerging: { description: 'Strong professional preparation with portfolio ready for industry presentation.', pointRange: '8-9' },\r\n        accomplished: { description: 'Exceptional professional readiness exceeding industry standards.', pointRange: '9-10' },\r\n        exceptional: { description: 'Outstanding professional preparation that demonstrates career readiness.', pointRange: '10' }\r\n      },\r\n      feedbackLibrary: {\r\n        strengths: [\r\n          'Industry-ready presentation',\r\n          'Professional attention to detail',\r\n          'Strong career preparation',\r\n          'Excellent professional standards'\r\n        ],\r\n        improvements: [\r\n          'Research industry standards',\r\n          'Improve professional presentation',\r\n          'Add career preparation elements',\r\n          'Consider industry feedback'\r\n        ],\r\n        general: [\r\n          'Shows strong professional development',\r\n          'Portfolio demonstrates career readiness',\r\n          'Professional standards are evident'\r\n        ]\r\n      }\r\n    }\r\n  ]\r\n};\r\n\r\nconst GradingTemplate = () => {\r\n  // Get shared context\r\n  const { sharedRubric, sharedCourseDetails } = useAssessment();\r\n\r\n  // Current active course module\r\n  const [activeModule, setActiveModule] = useState(\"2d-animation\");\r\n  const [customModules, setCustomModules] = useState({});\r\n\r\n  // All available modules (built-in + custom)\r\n  const allModules = { ...courseModules, ...customModules };\r\n  const currentModule = allModules[activeModule];\r\n\r\n  // State for all grading data - initialize with shared data if available\r\n  const [gradingData, setGradingData] = useState(() => ({\r\n    student: sharedCourseDetails?.student || { name: '', id: '', email: '' },\r\n    course: sharedCourseDetails?.course || { code: '', name: '', instructor: '', term: '' },\r\n    assignment: {\r\n      name: sharedCourseDetails?.assignment?.name || '',\r\n      dueDate: '',\r\n      maxPoints: sharedCourseDetails?.assignment?.maxPoints || currentModule?.gradingSettings?.maxPoints || 100\r\n    },\r\n    rubric: currentModule?.rubric ? [...currentModule.rubric] : [],\r\n    feedback: { general: '', strengths: '', improvements: '' },\r\n    attachments: [],\r\n    videoLinks: [],\r\n    latePolicy: { level: 'none', penaltyApplied: false },\r\n    metadata: {\r\n      moduleUsed: activeModule,\r\n      moduleVersion: currentModule?.version || \"1.0\",\r\n      gradedBy: '',\r\n      gradedDate: '',\r\n      aiAssisted: false,\r\n      rubricIntegrated: false\r\n    }\r\n  }));\r\n\r\n  // Rubric-specific state - use shared rubric if available\r\n  const [loadedRubric, setLoadedRubric] = useState(sharedRubric || sampleRubric);\r\n  const [rubricGrading, setRubricGrading] = useState({});\r\n  const [showRubricComments, setShowRubricComments] = useState({});\r\n  const [showHeaderGuide, setShowHeaderGuide] = useState(false);\r\n\r\n  const fileInputRef = useRef(null);\r\n  const moduleInputRef = useRef(null);\r\n  const rubricInputRef = useRef(null);\r\n\r\n  // Video link management\r\n  const [videoLinkInput, setVideoLinkInput] = useState('');\r\n  const [videoTitle, setVideoTitle] = useState('');\r\n\r\n  // Late Policy Levels\r\n  const latePolicyLevels = {\r\n    none: {\r\n      name: 'On Time',\r\n      multiplier: 1.0,\r\n      description: 'Assignment submitted on or before due date and time - marked out of 100%',\r\n      color: '#16a34a'\r\n    },\r\n    within24: {\r\n      name: '1-24 Hours Late',\r\n      multiplier: 0.8,\r\n      description: 'Assignment received within 24 hours of due date - 20% reduction (marked out of 80%)',\r\n      color: '#ea580c'\r\n    },\r\n    after24: {\r\n      name: 'More than 24 Hours Late',\r\n      multiplier: 0.0,\r\n      description: 'Assignment received after 24 hours from due date - mark of zero (0)',\r\n      color: '#dc2626'\r\n    }\r\n  };\r\n\r\n  // Update when shared data changes\r\n  useEffect(() => {\r\n    if (sharedRubric) {\r\n      setLoadedRubric(sharedRubric);\r\n    }\r\n  }, [sharedRubric]);\r\n\r\n  useEffect(() => {\r\n    if (sharedCourseDetails) {\r\n      setGradingData(prev => ({\r\n        ...prev,\r\n        student: sharedCourseDetails.student || prev.student,\r\n        course: sharedCourseDetails.course || prev.course,\r\n        assignment: {\r\n          ...prev.assignment,\r\n          name: sharedCourseDetails.assignment?.name || prev.assignment.name,\r\n          maxPoints: sharedCourseDetails.assignment?.maxPoints || prev.assignment.maxPoints\r\n        }\r\n      }));\r\n    }\r\n  }, [sharedCourseDetails]);\r\n\r\n  // Initialize rubric grading state when component mounts\r\n  useEffect(() => {\r\n    if (loadedRubric) {\r\n      const initialGrading = {};\r\n      loadedRubric.criteria.forEach(criterion => {\r\n        initialGrading[criterion.id] = {\r\n          criterionId: criterion.id,\r\n          selectedLevel: null,\r\n          customComments: ''\r\n        };\r\n      });\r\n      setRubricGrading(initialGrading);\r\n\r\n      // Update assignment details\r\n      setGradingData(prev => ({\r\n        ...prev,\r\n        assignment: {\r\n          ...prev.assignment,\r\n          name: loadedRubric.assignmentInfo?.title || prev.assignment.name,\r\n          maxPoints: loadedRubric.assignmentInfo?.totalPoints || prev.assignment.maxPoints\r\n        },\r\n        metadata: {\r\n          ...prev.metadata,\r\n          rubricIntegrated: true\r\n        }\r\n      }));\r\n    }\r\n  }, [loadedRubric]);\r\n\r\n  // Calculate total score with late policy applied\r\n  const calculateTotalScore = () => {\r\n    let rawScore = 0;\r\n\r\n    if (loadedRubric) {\r\n      rawScore = Object.values(rubricGrading).reduce((total, grading) => {\r\n        const criterion = loadedRubric.criteria.find(c => c.id === grading.criterionId);\r\n        if (criterion && grading.selectedLevel) {\r\n          const level = loadedRubric.rubricLevels.find(l => l.level === grading.selectedLevel);\r\n          return total + (criterion.maxPoints * level.multiplier);\r\n        }\r\n        return total;\r\n      }, 0);\r\n    } else {\r\n      rawScore = gradingData.rubric.reduce((total, item) => total + item.score, 0);\r\n    }\r\n\r\n    const latePolicyLevel = latePolicyLevels[gradingData.latePolicy.level];\r\n    const finalScore = rawScore * latePolicyLevel.multiplier;\r\n\r\n    return {\r\n      rawScore: rawScore,\r\n      finalScore: finalScore,\r\n      penaltyApplied: gradingData.latePolicy.level !== 'none',\r\n      latePolicyDescription: latePolicyLevel.description\r\n    };\r\n  };\r\n\r\n  // Update late policy\r\n  const updateLatePolicy = (level) => {\r\n    setGradingData(prev => ({\r\n      ...prev,\r\n      latePolicy: {\r\n        level: level,\r\n        penaltyApplied: level !== 'none'\r\n      }\r\n    }));\r\n  };\r\n\r\n  // Update rubric grading\r\n  const updateRubricGrading = (criterionId, level, comments = null) => {\r\n    setRubricGrading(prev => {\r\n      const existingGrading = prev[criterionId];\r\n      const existingComments = existingGrading?.customComments || '';\r\n\r\n      return {\r\n        ...prev,\r\n        [criterionId]: {\r\n          criterionId,\r\n          selectedLevel: level,\r\n          customComments: comments !== null ? comments : existingComments\r\n        }\r\n      };\r\n    });\r\n  };\r\n\r\n  // Add feedback comment to criterion\r\n  const addCriterionFeedback = (criterionId, comment) => {\r\n    const currentGrading = rubricGrading[criterionId];\r\n    const currentComments = currentGrading?.customComments || '';\r\n    const newComments = currentComments ? `${currentComments}\\n• ${comment}` : `• ${comment}`;\r\n\r\n    setRubricGrading(prev => ({\r\n      ...prev,\r\n      [criterionId]: {\r\n        ...prev[criterionId],\r\n        criterionId,\r\n        selectedLevel: currentGrading?.selectedLevel || null,\r\n        customComments: newComments\r\n      }\r\n    }));\r\n  };\r\n\r\n  // Toggle rubric comments visibility\r\n  const toggleRubricComments = (criterionId) => {\r\n    setShowRubricComments(prev => ({\r\n      ...prev,\r\n      [criterionId]: !prev[criterionId]\r\n    }));\r\n  };\r\n\r\n  // Add video link\r\n  const addVideoLink = () => {\r\n    if (videoLinkInput.trim()) {\r\n      setGradingData(prev => ({\r\n        ...prev,\r\n        videoLinks: [...prev.videoLinks, {\r\n          id: Date.now(),\r\n          url: videoLinkInput.trim(),\r\n          title: videoTitle.trim() || 'Video Link'\r\n        }]\r\n      }));\r\n      setVideoLinkInput('');\r\n      setVideoTitle('');\r\n    }\r\n  };\r\n\r\n  // Remove video link\r\n  const removeVideoLink = (id) => {\r\n    setGradingData(prev => ({\r\n      ...prev,\r\n      videoLinks: prev.videoLinks.filter(link => link.id !== id)\r\n    }));\r\n  };\r\n\r\n  // Handle file uploads\r\n  const handleFileUpload = (files) => {\r\n    const newAttachments = Array.from(files).map(file => ({\r\n      id: Date.now() + Math.random(),\r\n      name: file.name,\r\n      size: file.size,\r\n      type: file.type,\r\n      file: file\r\n    }));\r\n\r\n    Promise.all(newAttachments.map(attachment => {\r\n      return new Promise((resolve) => {\r\n        if (attachment.type.startsWith('image/')) {\r\n          const reader = new FileReader();\r\n          reader.onload = (e) => {\r\n            attachment.base64Data = e.target.result;\r\n            resolve(attachment);\r\n          };\r\n          reader.readAsDataURL(attachment.file);\r\n        } else {\r\n          resolve(attachment);\r\n        }\r\n      });\r\n    })).then(processedAttachments => {\r\n      setGradingData(prev => ({\r\n        ...prev,\r\n        attachments: [...prev.attachments, ...processedAttachments]\r\n      }));\r\n    });\r\n  };\r\n\r\n  // Remove attachment\r\n  const removeAttachment = (id) => {\r\n    setGradingData(prev => ({\r\n      ...prev,\r\n      attachments: prev.attachments.filter(att => att.id !== id)\r\n    }));\r\n  };\r\n\r\n  // Export to HTML\r\n  const exportToHTML = () => {\r\n    const scoreCalculation = calculateTotalScore();\r\n    const totalScore = scoreCalculation.finalScore;\r\n    const rawScore = scoreCalculation.rawScore;\r\n    const maxPoints = loadedRubric ? loadedRubric.assignmentInfo.totalPoints : gradingData.assignment.maxPoints;\r\n    const percentage = ((totalScore / maxPoints) * 100).toFixed(1);\r\n    const penaltyApplied = scoreCalculation.penaltyApplied;\r\n\r\n    const rubricTableHTML = loadedRubric ? `\r\n    <div class=\"rubric-section\" style=\"margin-top: 30px;\">\r\n        <h3>📋 Detailed Rubric Assessment</h3>\r\n        <div style=\"background: #f8f9fa; padding: 15px; border-radius: 8px; margin-bottom: 20px;\">\r\n            <strong>Assignment:</strong> ${loadedRubric.assignmentInfo.title}<br>\r\n            <strong>Weight:</strong> ${loadedRubric.assignmentInfo.weight}% of Final Grade<br>\r\n            <strong>Passing Threshold:</strong> ${loadedRubric.assignmentInfo.passingThreshold}%  \r\n        </div>\r\n        \r\n        <table style=\"width: 100%; border-collapse: collapse; margin-bottom: 30px; font-size: 0.9rem;\">\r\n            <thead>\r\n                <tr style=\"background: #2c3e50; color: white;\">\r\n                    <th style=\"border: 1px solid #ddd; padding: 12px; text-align: left;\">Criterion</th>\r\n                    <th style=\"border: 1px solid #ddd; padding: 12px; text-align: center;\">Max Points</th>\r\n                    <th style=\"border: 1px solid #ddd; padding: 12px; text-align: center;\">Level Achieved</th>\r\n                    <th style=\"border: 1px solid #ddd; padding: 12px; text-align: center;\">Points Earned</th>\r\n                    <th style=\"border: 1px solid #ddd; padding: 12px; text-align: left;\">Comments</th>\r\n                </tr>\r\n            </thead>\r\n            <tbody>\r\n                ${loadedRubric.criteria.map(criterion => {\r\n      const grading = rubricGrading[criterion.id];\r\n      const level = grading?.selectedLevel ? loadedRubric.rubricLevels.find(l => l.level === grading.selectedLevel) : null;\r\n      const points = level ? (criterion.maxPoints * level.multiplier).toFixed(1) : '0';\r\n      return `\r\n                        <tr>\r\n                            <td style=\"border: 1px solid #ddd; padding: 8px; vertical-align: top;\">\r\n                                <strong>${criterion.name}</strong><br>\r\n                                <small style=\"color: #666;\">${criterion.description}</small>\r\n                            </td>\r\n                            <td style=\"border: 1px solid #ddd; padding: 8px; text-align: center;\">${criterion.maxPoints}</td>\r\n                            <td style=\"border: 1px solid #ddd; padding: 8px; text-align: center;\">${level ? level.name : 'Not Assessed'}</td>\r\n                            <td style=\"border: 1px solid #ddd; padding: 8px; text-align: center; font-weight: bold;\">${points}</td>\r\n                            <td style=\"border: 1px solid #ddd; padding: 8px;\">${grading?.customComments ? grading.customComments.replace(/\\n/g, '<br>') : 'No additional comments'}</td>\r\n                        </tr>\r\n                    `;\r\n    }).join('')}\r\n            </tbody>\r\n        </table>\r\n    </div>\r\n    ` : '';\r\n\r\n    // Generate attachments section HTML\r\n    const attachmentsHTML = gradingData.attachments && gradingData.attachments.length > 0 ? `\r\n    <div class=\"attachments-section\" style=\"margin-top: 30px;\">\r\n        <h3>📎 Submitted Files & Attachments</h3>\r\n        <div style=\"background: #f8f9fa; padding: 15px; border-radius: 8px; margin-bottom: 20px;\">\r\n            <p style=\"margin-bottom: 15px;\"><strong>Total Files:</strong> ${gradingData.attachments.length}</p>\r\n            \r\n            ${gradingData.attachments.map((file, index) => {\r\n      if (file.type.startsWith('image/')) {\r\n        // Embed images directly as base64\r\n        const imageData = file.base64Data || (file.file ? URL.createObjectURL(file.file) : '');\r\n        return `\r\n                        <div style=\"margin-bottom: 20px; border: 1px solid #ddd; border-radius: 8px; overflow: hidden;\">\r\n                            <div style=\"background: #e3f2fd; padding: 10px; font-weight: bold; color: #1976d2;\">\r\n                                📷 Image File: ${file.name}\r\n                            </div>\r\n                            <div style=\"padding: 15px; text-align: center;\">\r\n                                <img src=\"${imageData}\" alt=\"${file.name}\" style=\"max-width: 100%; max-height: 500px; border: 1px solid #ddd; border-radius: 4px; box-shadow: 0 2px 8px rgba(0,0,0,0.1);\">\r\n                                <p style=\"margin-top: 10px; font-size: 0.9rem; color: #666;\">\r\n                                    <strong>File:</strong> ${file.name} | <strong>Size:</strong> ${(file.size / 1024).toFixed(1)} KB\r\n                                </p>\r\n                            </div>\r\n                        </div>\r\n                    `;\r\n      } else {\r\n        // For non-image files, show file info\r\n        return `\r\n                        <div style=\"margin-bottom: 15px; padding: 12px; background: #fff3cd; border: 1px solid #ffeaa7; border-radius: 6px;\">\r\n                            <div style=\"display: flex; align-items: center; gap: 10px;\">\r\n                                <span style=\"font-size: 1.2rem;\">📄</span>\r\n                                <div>\r\n                                    <strong>${file.name}</strong><br>\r\n                                    <small style=\"color: #666;\">Size: ${(file.size / 1024).toFixed(1)} KB | Type: ${file.type || 'Unknown'}</small>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    `;\r\n      }\r\n    }).join('')}\r\n        </div>\r\n    </div>\r\n    ` : '';\r\n\r\n    // Generate video links section HTML\r\n    const videoLinksHTML = gradingData.videoLinks && gradingData.videoLinks.length > 0 ? `\r\n    <div class=\"video-links-section\" style=\"margin-top: 30px;\">\r\n        <h3>🎥 Video Review Links</h3>\r\n        <div style=\"background: #f3e5ff; padding: 15px; border-radius: 8px; margin-bottom: 20px;\">\r\n            <p style=\"margin-bottom: 15px;\"><strong>Video Submissions:</strong> ${gradingData.videoLinks.length} link(s)</p>\r\n            \r\n            ${gradingData.videoLinks.map((videoLink, index) => `\r\n                <div style=\"margin-bottom: 15px; padding: 15px; background: white; border: 1px solid #e1bee7; border-radius: 8px; border-left: 4px solid #9c27b0;\">\r\n                    <div style=\"display: flex; align-items: center; gap: 12px; margin-bottom: 10px;\">\r\n                        <span style=\"font-size: 1.3rem;\">🎬</span>\r\n                        <div style=\"flex: 1;\">\r\n                            <h4 style=\"margin: 0; color: #7b1fa2; font-size: 1.1rem;\">${videoLink.title}</h4>\r\n                            <p style=\"margin: 5px 0 0 0; font-size: 0.9rem; color: #666;\">Video Review Link #${index + 1}</p>\r\n                        </div>\r\n                    </div>\r\n                    <div style=\"background: #fafafa; padding: 10px; border-radius: 4px; font-family: monospace; font-size: 0.9rem; word-break: break-all; border: 1px solid #eee;\">\r\n                        <a href=\"${videoLink.url}\" target=\"_blank\" rel=\"noopener noreferrer\" style=\"color: #1976d2; text-decoration: none;\">${videoLink.url}</a>\r\n                    </div>\r\n                    <p style=\"margin-top: 8px; font-size: 0.8rem; color: #666;\">\r\n                        <strong>Note:</strong> Click the link above to view the video submission. This link opens in a new tab for review.\r\n                    </p>\r\n                </div>\r\n            `).join('')}\r\n        </div>\r\n    </div>\r\n    ` : '';\r\n\r\n    // Generate feedback sections with better formatting\r\n    const feedbackHTML = Object.entries(gradingData.feedback).filter(([key, value]) => value && value.trim()).length > 0 ? `\r\n    <div class=\"feedback-sections\" style=\"margin-top: 30px;\">\r\n        <h3>💬 Instructor Feedback</h3>\r\n        ${Object.entries(gradingData.feedback).filter(([key, value]) => value && value.trim()).map(([key, value]) => `\r\n            <div style=\"margin-bottom: 20px; padding: 15px; background: #f8f9fa; border-radius: 8px; border-left: 4px solid #17a2b8;\">\r\n                <h4 style=\"margin: 0 0 10px 0; color: #0c5460; text-transform: capitalize;\">${key} Feedback</h4>\r\n                <div style=\"color: #495057; line-height: 1.6;\">\r\n                    ${value.replace(/\\n/g, '<br>')}\r\n                </div>\r\n            </div>\r\n        `).join('')}\r\n    </div>\r\n    ` : '';\r\n\r\n    const htmlContent = `\r\n<!DOCTYPE html>\r\n<html lang=\"en\">\r\n<head>\r\n    <meta charset=\"UTF-8\">\r\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\r\n    <title>Grade Report - ${gradingData.student.name}</title>\r\n    <style>\r\n        body { \r\n            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; \r\n            max-width: 900px; \r\n            margin: 20px auto; \r\n            padding: 20px; \r\n            line-height: 1.6; \r\n            color: #333;\r\n            background-color: #fafafa;\r\n        }\r\n        .header { \r\n            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); \r\n            color: white; \r\n            padding: 25px; \r\n            border-radius: 10px; \r\n            margin-bottom: 30px; \r\n            box-shadow: 0 4px 15px rgba(0,0,0,0.1);\r\n        }\r\n        .header h1 { margin: 0 0 10px 0; font-size: 2rem; }\r\n        .score-summary { \r\n            background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%); \r\n            color: white; \r\n            border-radius: 10px; \r\n            padding: 25px; \r\n            margin: 25px 0; \r\n            text-align: center; \r\n            box-shadow: 0 4px 15px rgba(0,0,0,0.1);\r\n        }\r\n        .score-summary h2 { margin: 0 0 15px 0; }\r\n        .score-value { font-size: 2.5rem; font-weight: bold; margin: 15px 0; text-shadow: 0 2px 4px rgba(0,0,0,0.3); }\r\n        .late-policy-section { \r\n            margin: 30px 0; \r\n            background: linear-gradient(135deg, #ff9a9e 0%, #fecfef 100%); \r\n            border-radius: 10px; \r\n            padding: 20px; \r\n            color: #721c24;\r\n        }\r\n        .section { \r\n            margin: 30px 0; \r\n            background: white; \r\n            padding: 20px; \r\n            border-radius: 10px; \r\n            box-shadow: 0 2px 10px rgba(0,0,0,0.1);\r\n        }\r\n        .section h3 { \r\n            margin: 0 0 20px 0; \r\n            color: #2c3e50; \r\n            border-bottom: 2px solid #ecf0f1; \r\n            padding-bottom: 10px;\r\n        }\r\n        table { \r\n            width: 100%; \r\n            border-collapse: collapse; \r\n            margin: 20px 0; \r\n            background: white; \r\n            border-radius: 8px; \r\n            overflow: hidden; \r\n            box-shadow: 0 2px 10px rgba(0,0,0,0.1);\r\n        }\r\n        th, td { \r\n            border: 1px solid #e0e0e0; \r\n            padding: 12px; \r\n            text-align: left; \r\n            vertical-align: top; \r\n        }\r\n        th { \r\n            background: linear-gradient(135deg, #2c3e50 0%, #34495e 100%); \r\n            color: white; \r\n            font-weight: 600; \r\n            text-align: center;\r\n        }\r\n        tr:nth-child(even) { background-color: #f8f9fa; }\r\n        tr:hover { background-color: #e3f2fd; }\r\n        .attachment-image { \r\n            max-width: 100%; \r\n            height: auto; \r\n            border-radius: 8px; \r\n            box-shadow: 0 4px 15px rgba(0,0,0,0.1); \r\n            transition: transform 0.3s ease;\r\n        }\r\n        .attachment-image:hover { transform: scale(1.02); }\r\n        .video-link { \r\n            color: #1976d2; \r\n            text-decoration: none; \r\n            font-weight: 500;\r\n            padding: 8px 15px;\r\n            background: #e3f2fd;\r\n            border-radius: 20px;\r\n            display: inline-block;\r\n            transition: all 0.3s ease;\r\n        }\r\n        .video-link:hover { \r\n            background: #1976d2; \r\n            color: white; \r\n            transform: translateY(-1px);\r\n        }\r\n        .footer { \r\n            margin-top: 50px; \r\n            text-align: center; \r\n            color: #666; \r\n            font-size: 0.9rem; \r\n            padding: 20px;\r\n            background: white;\r\n            border-radius: 10px;\r\n            box-shadow: 0 2px 10px rgba(0,0,0,0.1);\r\n        }\r\n        @media print {\r\n            body { background-color: white; }\r\n            .header, .score-summary { background: #f8f9fa !important; color: #333 !important; }\r\n            .attachment-image { max-height: 400px; }\r\n        }\r\n        @media (max-width: 768px) {\r\n            body { padding: 10px; }\r\n            .header, .score-summary, .section { padding: 15px; }\r\n            .score-value { font-size: 2rem; }\r\n            table { font-size: 0.9rem; }\r\n        }\r\n    </style>\r\n</head>\r\n<body>\r\n    <div class=\"header\">\r\n        <h1>📋 Comprehensive Grade Report</h1>\r\n        <div style=\"display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 15px; margin-top: 15px;\">\r\n            <div>\r\n                <strong>Student:</strong> ${gradingData.student.name || 'Not specified'}<br>\r\n                <strong>Student ID:</strong> ${gradingData.student.id || 'Not specified'}<br>\r\n                <strong>Email:</strong> ${gradingData.student.email || 'Not specified'}\r\n            </div>\r\n            <div>\r\n                <strong>Course:</strong> ${gradingData.course.code || ''} - ${gradingData.course.name || 'Not specified'}<br>\r\n                <strong>Assignment:</strong> ${gradingData.assignment.name || 'Not specified'}<br>\r\n                <strong>Due Date:</strong> ${gradingData.assignment.dueDate || 'Not specified'}\r\n            </div>\r\n            <div>\r\n                <strong>Instructor:</strong> ${gradingData.course.instructor || 'Not specified'}<br>\r\n                <strong>Term:</strong> ${gradingData.course.term || 'Not specified'}<br>\r\n                <strong>Generated:</strong> ${new Date().toLocaleDateString()}\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n    <div class=\"score-summary\">\r\n        <h2>📊 Final Assessment Score</h2>\r\n        <div class=\"score-value\">\r\n            ${totalScore.toFixed(1)} / ${maxPoints} (${percentage}%)\r\n        </div>\r\n        <div style=\"margin: 10px 0; opacity: 0.9;\">\r\n            ${loadedRubric ? `Assessment: ${loadedRubric.assignmentInfo.title}` : `Module: ${currentModule?.courseType} v${currentModule?.version || '1.0'}`}\r\n            ${penaltyApplied ? ` | Late Policy: ${latePolicyLevels[gradingData.latePolicy.level].name}` : ''}\r\n        </div>\r\n        <div style=\"margin-top: 15px; font-size: 1rem;\">\r\n            <strong>Grade Status:</strong> \r\n            <span style=\"padding: 5px 15px; border-radius: 20px; background: rgba(255,255,255,0.2); font-weight: bold;\">\r\n                ${percentage >= (loadedRubric?.assignmentInfo?.passingThreshold || 60) ? '✅ PASSING' : '❌ NEEDS IMPROVEMENT'}\r\n            </span>\r\n        </div>\r\n    </div>\r\n\r\n    ${penaltyApplied ? `\r\n    <div class=\"late-policy-section\">\r\n        <h3 style=\"color: inherit; border: none; margin-bottom: 15px;\">📅 Late Submission Policy Applied</h3>\r\n        <div style=\"background: rgba(255,255,255,0.9); padding: 15px; border-radius: 8px;\">\r\n            <p><strong>Policy Status:</strong> ${latePolicyLevels[gradingData.latePolicy.level].name}</p>\r\n            <p style=\"margin: 10px 0;\">${latePolicyLevels[gradingData.latePolicy.level].description}</p>\r\n            <p><strong>Calculation:</strong> Raw Score: ${Math.round(rawScore * 10) / 10}/${maxPoints} × ${latePolicyLevels[gradingData.latePolicy.level].multiplier} = <strong>Final Score: ${Math.round(totalScore * 10) / 10}/${maxPoints}</strong></p>\r\n        </div>\r\n    </div>\r\n    ` : ''}\r\n\r\n    ${rubricTableHTML ? `<div class=\"section\">${rubricTableHTML}</div>` : ''}\r\n    \r\n    ${attachmentsHTML ? `<div class=\"section\">${attachmentsHTML}</div>` : ''}\r\n    \r\n    ${videoLinksHTML ? `<div class=\"section\">${videoLinksHTML}</div>` : ''}\r\n    \r\n    ${feedbackHTML ? `<div class=\"section\">${feedbackHTML}</div>` : ''}\r\n    \r\n    <div class=\"footer\">\r\n        <p><strong>Grade Report Generated</strong></p>\r\n        <p>${new Date().toLocaleDateString()} at ${new Date().toLocaleTimeString()}</p>\r\n        <p style=\"margin-top: 10px; font-size: 0.8rem;\">\r\n            This report includes all submitted materials, embedded images, video links, and comprehensive rubric assessment.\r\n        </p>\r\n    </div>\r\n</body>\r\n</html>`;\r\n\r\n    const htmlBlob = new Blob([htmlContent], { type: 'text/html' });\r\n    const url = URL.createObjectURL(htmlBlob);\r\n    const link = document.createElement('a');\r\n    link.href = url;\r\n    link.download = `comprehensive_grade_report_${gradingData.student.name?.replace(/\\s+/g, '_') || 'student'}_${gradingData.assignment.name?.replace(/\\s+/g, '_') || 'assignment'}.html`;\r\n    link.click();\r\n    URL.revokeObjectURL(url);\r\n  };\r\n\r\n  return (\r\n    <div style={{ minHeight: '100vh', background: '#f9fafb', padding: '1.5rem' }}>\r\n      <div style={{ maxWidth: '80rem', margin: '0 auto' }}>\r\n        {/* Header - Match PDF Design */}\r\n        <div style={{\r\n          background: 'linear-gradient(135deg, #1e3a8a 0%, #1e40af 100%)',\r\n          color: 'white',\r\n          padding: '1.5rem',\r\n          borderRadius: '0.5rem',\r\n          boxShadow: '0 4px 6px -1px rgb(0 0 0 / 0.1)',\r\n          marginBottom: '1.5rem'\r\n        }}>\r\n          <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center' }}>\r\n            <div>\r\n              <h1 style={{ fontSize: '1.875rem', fontWeight: '700', margin: '0 0 0.5rem 0' }}>\r\n                Modular Grading System\r\n              </h1>\r\n              <p style={{ color: '#bfdbfe', margin: 0, fontSize: '1.1rem' }}>\r\n                Course: {currentModule?.courseType} v{currentModule?.version}\r\n              </p>\r\n            </div>\r\n            <div style={{ display: 'flex', alignItems: 'center', gap: '1rem' }}>\r\n              <select\r\n                value={activeModule}\r\n                onChange={(e) => setActiveModule(e.target.value)}\r\n                style={{\r\n                  background: 'rgba(255, 255, 255, 0.1)',\r\n                  border: '1px solid rgba(255, 255, 255, 0.3)',\r\n                  color: 'white',\r\n                  padding: '0.5rem 1rem',\r\n                  borderRadius: '0.5rem',\r\n                  fontSize: '0.875rem'\r\n                }}\r\n              >\r\n                <option value=\"2d-animation\" style={{ color: '#1f2937' }}>2D Animation</option>\r\n              </select>\r\n              <button\r\n                onClick={exportToHTML}\r\n                style={{\r\n                  display: 'flex',\r\n                  alignItems: 'center',\r\n                  gap: '0.5rem',\r\n                  background: '#16a34a',\r\n                  color: 'white',\r\n                  padding: '0.5rem 1rem',\r\n                  borderRadius: '0.5rem',\r\n                  border: 'none',\r\n                  cursor: 'pointer',\r\n                  fontSize: '0.875rem'\r\n                }}\r\n              >\r\n                <FileDown size={16} />\r\n                Export Report\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Active Course Module */}\r\n        <div style={{\r\n          background: 'white',\r\n          border: '1px solid #e5e7eb',\r\n          borderRadius: '0.5rem',\r\n          padding: '1.5rem',\r\n          marginBottom: '1.5rem',\r\n          boxShadow: '0 1px 3px 0 rgb(0 0 0 / 0.1)'\r\n        }}>\r\n          <h2 style={{ fontSize: '1.25rem', fontWeight: '600', marginBottom: '1rem', color: '#374151' }}>\r\n            Active Course Module\r\n          </h2>\r\n          <div style={{ display: 'grid', gridTemplateColumns: 'repeat(auto-fit, minmax(200px, 1fr))', gap: '1rem', fontSize: '0.875rem' }}>\r\n            <div>\r\n              <strong>Course Type:</strong> {currentModule?.courseType}<br />\r\n              <strong>Max Points:</strong> {currentModule?.gradingSettings?.maxPoints}\r\n            </div>\r\n            <div>\r\n              <strong>Version:</strong> {currentModule?.version}<br />\r\n              <strong>Passing Grade:</strong> {currentModule?.gradingSettings?.passingGrade}%\r\n            </div>\r\n          </div>\r\n          <div style={{ marginTop: '1rem', fontSize: '0.875rem' }}>\r\n            <div><strong>Supported Files:</strong> {currentModule?.gradingSettings?.fileTypes?.join(', ')}</div>\r\n            <div><strong>Video Platforms:</strong> {currentModule?.gradingSettings?.supportedVideoLinks?.join(', ')}</div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Active Assignment Rubric - Prominent Display */}\r\n        {loadedRubric && (\r\n          <div style={{\r\n            background: 'linear-gradient(135deg, #f0fdf4 0%, #dcfce7 100%)',\r\n            border: '1px solid #bbf7d0',\r\n            borderRadius: '0.75rem',\r\n            padding: '1.5rem',\r\n            marginBottom: '2rem'\r\n          }}>\r\n            <div style={{ display: 'flex', alignItems: 'center', gap: '0.5rem', marginBottom: '1rem' }}>\r\n              <span style={{ fontSize: '1.25rem' }}>📋</span>\r\n              <h3 style={{ fontSize: '1.25rem', fontWeight: '700', color: '#15803d', margin: 0 }}>\r\n                Active Assignment Rubric\r\n              </h3>\r\n              <div style={{\r\n                background: '#dcfce7',\r\n                color: '#15803d',\r\n                padding: '0.25rem 0.75rem',\r\n                borderRadius: '1rem',\r\n                fontSize: '0.75rem',\r\n                fontWeight: '600',\r\n                marginLeft: 'auto'\r\n              }}>\r\n                Weight: {loadedRubric.assignmentInfo.weight}% of Final Grade\r\n              </div>\r\n            </div>\r\n\r\n            <div style={{ marginBottom: '1rem' }}>\r\n              <h4 style={{ fontSize: '1.1rem', fontWeight: '600', color: '#16a34a', marginBottom: '0.5rem' }}>\r\n                {loadedRubric.assignmentInfo.title}\r\n              </h4>\r\n              <p style={{ fontSize: '0.875rem', color: '#059669', marginBottom: '0.75rem' }}>\r\n                {loadedRubric.assignmentInfo.description}\r\n              </p>\r\n              <div style={{ display: 'flex', gap: '2rem', fontSize: '0.875rem', color: '#059669' }}>\r\n                <div><strong>Passing:</strong> {loadedRubric.assignmentInfo.passingThreshold}%</div>\r\n                <div><strong>Total Points:</strong> {loadedRubric.assignmentInfo.totalPoints}</div>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Rubric Grading Interface */}\r\n            <div style={{ display: 'flex', flexDirection: 'column', gap: '1.5rem' }}>\r\n              {loadedRubric.criteria.map((criterion) => {\r\n                const currentGrading = rubricGrading[criterion.id];\r\n                const showComments = showRubricComments[criterion.id];\r\n\r\n                return (\r\n                  <div key={criterion.id} style={{\r\n                    background: 'white',\r\n                    border: '1px solid #d1d5db',\r\n                    borderRadius: '0.5rem',\r\n                    padding: '1.25rem',\r\n                    boxShadow: '0 1px 3px rgba(0, 0, 0, 0.1)'\r\n                  }}>\r\n                    <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'flex-start', marginBottom: '1rem' }}>\r\n                      <div style={{ flex: 1 }}>\r\n                        <h4 style={{ fontSize: '1.125rem', fontWeight: '600', color: '#374151' }}>\r\n                          {criterion.name}\r\n                          <span style={{ color: '#3b82f6', marginLeft: '0.5rem' }}>\r\n                            ({criterion.maxPoints} pts)\r\n                          </span>\r\n                        </h4>\r\n                        <p style={{ fontSize: '0.875rem', color: '#6b7280', marginTop: '0.25rem' }}>\r\n                          {criterion.description}\r\n                        </p>\r\n                      </div>\r\n                      <button\r\n                        onClick={() => toggleRubricComments(criterion.id)}\r\n                        style={{\r\n                          color: '#3b82f6',\r\n                          background: 'none',\r\n                          border: 'none',\r\n                          fontSize: '0.875rem',\r\n                          textDecoration: 'underline',\r\n                          cursor: 'pointer',\r\n                          marginLeft: '1rem'\r\n                        }}\r\n                      >\r\n                        {showComments ? 'Hide' : 'Show'} Level Details\r\n                      </button>\r\n                    </div>\r\n\r\n                    {/* Level Selection */}\r\n                    <div style={{\r\n                      display: 'grid',\r\n                      gridTemplateColumns: 'repeat(auto-fit, minmax(120px, 1fr))',\r\n                      gap: '0.5rem',\r\n                      marginBottom: '1rem'\r\n                    }}>\r\n                      {loadedRubric.rubricLevels.map((level) => {\r\n                        const isSelected = currentGrading?.selectedLevel === level.level;\r\n                        const points = Math.round(criterion.maxPoints * level.multiplier);\r\n\r\n                        return (\r\n                          <button\r\n                            key={level.level}\r\n                            onClick={() => updateRubricGrading(criterion.id, level.level)}\r\n                            style={{\r\n                              padding: '0.75rem',\r\n                              borderRadius: '0.5rem',\r\n                              border: `2px solid ${isSelected ? level.color : '#d1d5db'}`,\r\n                              fontSize: '0.875rem',\r\n                              fontWeight: '500',\r\n                              cursor: 'pointer',\r\n                              transition: 'all 0.2s ease',\r\n                              backgroundColor: isSelected ? level.color : 'white',\r\n                              color: isSelected ? 'white' : '#374151',\r\n                              transform: isSelected ? 'scale(1.05)' : 'none',\r\n                              textAlign: 'center'\r\n                            }}\r\n                          >\r\n                            <div style={{ fontWeight: '600' }}>{level.name}</div>\r\n                            <div style={{ fontSize: '0.75rem', marginTop: '0.25rem' }}>\r\n                              {level.level === 'incomplete' ? '0' : points} pts\r\n                            </div>\r\n                          </button>\r\n                        );\r\n                      })}\r\n                    </div>\r\n\r\n                    {/* Level Descriptions */}\r\n                    {showComments && (\r\n                      <div style={{\r\n                        background: '#f9fafb',\r\n                        borderRadius: '0.5rem',\r\n                        padding: '1rem',\r\n                        marginBottom: '1rem'\r\n                      }}>\r\n                        <h5 style={{ fontWeight: '600', color: '#374151', marginBottom: '0.75rem' }}>\r\n                          Level Descriptions:\r\n                        </h5>\r\n                        <div style={{\r\n                          display: 'grid',\r\n                          gridTemplateColumns: 'repeat(auto-fit, minmax(250px, 1fr))',\r\n                          gap: '0.75rem'\r\n                        }}>\r\n                          {loadedRubric.rubricLevels.map((level) => (\r\n                            <div\r\n                              key={level.level}\r\n                              style={{\r\n                                background: 'white',\r\n                                borderRadius: '0.25rem',\r\n                                border: '1px solid #d1d5db',\r\n                                borderLeft: `4px solid ${level.color}`,\r\n                                padding: '0.75rem'\r\n                              }}\r\n                            >\r\n                              <div style={{ fontWeight: '500', fontSize: '0.875rem', color: level.color }}>\r\n                                {level.name}\r\n                              </div>\r\n                              <div style={{ fontSize: '0.75rem', color: '#6b7280', marginBottom: '0.5rem' }}>\r\n                                {criterion.levels[level.level]?.pointRange} pts\r\n                              </div>\r\n                              <div style={{ fontSize: '0.75rem', color: '#374151' }}>\r\n                                {criterion.levels[level.level]?.description}\r\n                              </div>\r\n                            </div>\r\n                          ))}\r\n                        </div>\r\n                      </div>\r\n                    )}\r\n\r\n                    {/* Custom Comments */}\r\n                    <div>\r\n                      <label style={{\r\n                        display: 'block',\r\n                        fontSize: '0.875rem',\r\n                        fontWeight: '500',\r\n                        color: '#374151',\r\n                        marginBottom: '0.5rem'\r\n                      }}>\r\n                        Additional Comments:\r\n                      </label>\r\n\r\n                      {/* Quick Feedback Dropdowns */}\r\n                      {criterion.feedbackLibrary && (\r\n                        <div style={{ display: 'flex', gap: '0.5rem', marginBottom: '0.75rem', flexWrap: 'wrap' }}>\r\n                          {Object.entries(criterion.feedbackLibrary).map(([category, comments]) => (\r\n                            <select\r\n                              key={category}\r\n                              onChange={(e) => {\r\n                                if (e.target.value) {\r\n                                  addCriterionFeedback(criterion.id, e.target.value);\r\n                                  e.target.value = '';\r\n                                }\r\n                              }}\r\n                              defaultValue=\"\"\r\n                              style={{\r\n                                padding: '0.5rem',\r\n                                border: '1px solid #d1d5db',\r\n                                borderRadius: '0.25rem',\r\n                                fontSize: '0.75rem',\r\n                                cursor: 'pointer'\r\n                              }}\r\n                            >\r\n                              <option value=\"\">Add {category}...</option>\r\n                              {comments.map((comment, idx) => (\r\n                                <option key={idx} value={comment}>{comment}</option>\r\n                              ))}\r\n                            </select>\r\n                          ))}\r\n                        </div>\r\n                      )}\r\n\r\n                      <textarea\r\n                        value={currentGrading?.customComments || ''}\r\n                        onChange={(e) => updateRubricGrading(criterion.id, currentGrading?.selectedLevel, e.target.value)}\r\n                        style={{\r\n                          width: '100%',\r\n                          padding: '0.75rem',\r\n                          border: '1px solid #d1d5db',\r\n                          borderRadius: '0.5rem',\r\n                          fontSize: '0.875rem',\r\n                          resize: 'none',\r\n                          minHeight: '80px'\r\n                        }}\r\n                        rows=\"3\"\r\n                        placeholder=\"Add specific feedback for this criterion...\"\r\n                      />\r\n                    </div>\r\n\r\n                    {/* Selected Level Feedback */}\r\n                    {currentGrading?.selectedLevel && (\r\n                      <div style={{\r\n                        marginTop: '0.75rem',\r\n                        padding: '0.75rem',\r\n                        background: '#eff6ff',\r\n                        borderRadius: '0.25rem',\r\n                        border: '1px solid #bfdbfe'\r\n                      }}>\r\n                        <div style={{ fontSize: '0.875rem' }}>\r\n                          <strong>Selected Level:</strong> {loadedRubric.rubricLevels.find(l => l.level === currentGrading.selectedLevel)?.name}\r\n                          {' '}({criterion.levels[currentGrading.selectedLevel]?.pointRange} pts)\r\n                        </div>\r\n                        <div style={{ fontSize: '0.875rem', color: '#374151', marginTop: '0.25rem' }}>\r\n                          {criterion.levels[currentGrading.selectedLevel]?.description}\r\n                        </div>\r\n                      </div>\r\n                    )}\r\n                  </div>\r\n                );\r\n              })}\r\n            </div>\r\n\r\n            {/* Rubric Summary */}\r\n            <div style={{\r\n              marginTop: '1.5rem',\r\n              background: 'white',\r\n              border: '1px solid #d1d5db',\r\n              borderRadius: '0.5rem',\r\n              padding: '1rem'\r\n            }}>\r\n              <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center' }}>\r\n                <div>\r\n                  <h4 style={{ fontSize: '1.125rem', fontWeight: '600', color: '#374151' }}>\r\n                    Rubric Score Summary\r\n                  </h4>\r\n                  <p style={{ fontSize: '0.875rem', color: '#6b7280' }}>\r\n                    Based on selected levels across all criteria\r\n                  </p>\r\n                </div>\r\n                <div style={{ textAlign: 'right' }}>\r\n                  <div style={{ fontSize: '1.5rem', fontWeight: '700', color: '#3b82f6' }}>\r\n                    {Math.round(calculateTotalScore().finalScore * 10) / 10}/{loadedRubric.assignmentInfo.totalPoints}\r\n                  </div>\r\n                  <div style={{ fontSize: '1.125rem', color: '#6b7280' }}>\r\n                    ({Math.round((calculateTotalScore().finalScore / loadedRubric.assignmentInfo.totalPoints) * 1000) / 10}%)\r\n                  </div>\r\n                  {calculateTotalScore().penaltyApplied && (\r\n                    <div style={{ fontSize: '0.875rem', color: '#dc2626', marginTop: '0.25rem' }}>\r\n                      Raw: {Math.round(calculateTotalScore().rawScore * 10) / 10} (Late Penalty Applied)\r\n                    </div>\r\n                  )}\r\n                  <div style={{\r\n                    fontSize: '0.875rem',\r\n                    fontWeight: '500',\r\n                    color: (calculateTotalScore().finalScore / loadedRubric.assignmentInfo.totalPoints) * 100 >= loadedRubric.assignmentInfo.passingThreshold\r\n                      ? '#16a34a' : '#dc2626'\r\n                  }}>\r\n                    {(calculateTotalScore().finalScore / loadedRubric.assignmentInfo.totalPoints) * 100 >= loadedRubric.assignmentInfo.passingThreshold\r\n                      ? '✓ PASSING' : '✗ NEEDS IMPROVEMENT'}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {/* Course Information */}\r\n        <div style={{\r\n          background: 'white',\r\n          border: '1px solid #e5e7eb',\r\n          borderRadius: '0.5rem',\r\n          padding: '1.5rem',\r\n          marginBottom: '1.5rem',\r\n          boxShadow: '0 1px 3px 0 rgb(0 0 0 / 0.1)'\r\n        }}>\r\n          <h2 style={{ fontSize: '1.25rem', fontWeight: '600', marginBottom: '1rem', color: '#374151' }}>\r\n            Course Information\r\n          </h2>\r\n          <div style={{ display: 'grid', gridTemplateColumns: 'repeat(auto-fit, minmax(250px, 1fr))', gap: '1rem' }}>\r\n            <input\r\n              type=\"text\"\r\n              placeholder=\"Course Code (e.g., ANIM-200)\"\r\n              value={gradingData.course.code}\r\n              onChange={(e) => setGradingData(prev => ({\r\n                ...prev,\r\n                course: { ...prev.course, code: e.target.value }\r\n              }))}\r\n              style={{\r\n                width: '100%',\r\n                padding: '0.75rem',\r\n                border: '1px solid #d1d5db',\r\n                borderRadius: '0.5rem',\r\n                fontSize: '0.875rem'\r\n              }}\r\n            />\r\n            <input\r\n              type=\"text\"\r\n              placeholder=\"Course Name\"\r\n              value={gradingData.course.name}\r\n              onChange={(e) => setGradingData(prev => ({\r\n                ...prev,\r\n                course: { ...prev.course, name: e.target.value }\r\n              }))}\r\n              style={{\r\n                width: '100%',\r\n                padding: '0.75rem',\r\n                border: '1px solid #d1d5db',\r\n                borderRadius: '0.5rem',\r\n                fontSize: '0.875rem'\r\n              }}\r\n            />\r\n            <input\r\n              type=\"text\"\r\n              placeholder=\"Instructor\"\r\n              value={gradingData.course.instructor}\r\n              onChange={(e) => setGradingData(prev => ({\r\n                ...prev,\r\n                course: { ...prev.course, instructor: e.target.value }\r\n              }))}\r\n              style={{\r\n                width: '100%',\r\n                padding: '0.75rem',\r\n                border: '1px solid #d1d5db',\r\n                borderRadius: '0.5rem',\r\n                fontSize: '0.875rem'\r\n              }}\r\n            />\r\n            <input\r\n              type=\"text\"\r\n              placeholder=\"Term\"\r\n              value={gradingData.course.term}\r\n              onChange={(e) => setGradingData(prev => ({\r\n                ...prev,\r\n                course: { ...prev.course, term: e.target.value }\r\n              }))}\r\n              style={{\r\n                width: '100%',\r\n                padding: '0.75rem',\r\n                border: '1px solid #d1d5db',\r\n                borderRadius: '0.5rem',\r\n                fontSize: '0.875rem'\r\n              }}\r\n            />\r\n          </div>\r\n        </div>\r\n\r\n        {/* Student Information */}\r\n        <div style={{\r\n          background: 'white',\r\n          border: '1px solid #e5e7eb',\r\n          borderRadius: '0.5rem',\r\n          padding: '1.5rem',\r\n          marginBottom: '1.5rem',\r\n          boxShadow: '0 1px 3px 0 rgb(0 0 0 / 0.1)'\r\n        }}>\r\n          <h2 style={{ fontSize: '1.25rem', fontWeight: '600', marginBottom: '1rem', color: '#374151' }}>\r\n            Student Information\r\n          </h2>\r\n          <div style={{ display: 'grid', gridTemplateColumns: 'repeat(auto-fit, minmax(200px, 1fr))', gap: '1rem' }}>\r\n            <input\r\n              type=\"text\"\r\n              placeholder=\"Student Name\"\r\n              value={gradingData.student.name}\r\n              onChange={(e) => setGradingData(prev => ({\r\n                ...prev,\r\n                student: { ...prev.student, name: e.target.value }\r\n              }))}\r\n              style={{\r\n                width: '100%',\r\n                padding: '0.75rem',\r\n                border: '1px solid #d1d5db',\r\n                borderRadius: '0.5rem',\r\n                fontSize: '0.875rem'\r\n              }}\r\n            />\r\n            <input\r\n              type=\"text\"\r\n              placeholder=\"Student ID\"\r\n              value={gradingData.student.id}\r\n              onChange={(e) => setGradingData(prev => ({\r\n                ...prev,\r\n                student: { ...prev.student, id: e.target.value }\r\n              }))}\r\n              style={{\r\n                width: '100%',\r\n                padding: '0.75rem',\r\n                border: '1px solid #d1d5db',\r\n                borderRadius: '0.5rem',\r\n                fontSize: '0.875rem'\r\n              }}\r\n            />\r\n            <input\r\n              type=\"email\"\r\n              placeholder=\"Student Email\"\r\n              value={gradingData.student.email}\r\n              onChange={(e) => setGradingData(prev => ({\r\n                ...prev,\r\n                student: { ...prev.student, email: e.target.value }\r\n              }))}\r\n              style={{\r\n                width: '100%',\r\n                padding: '0.75rem',\r\n                border: '1px solid #d1d5db',\r\n                borderRadius: '0.5rem',\r\n                fontSize: '0.875rem'\r\n              }}\r\n            />\r\n          </div>\r\n        </div>\r\n\r\n        {/* Assignment Details */}\r\n        <div style={{\r\n          background: 'white',\r\n          border: '1px solid #e5e7eb',\r\n          borderRadius: '0.5rem',\r\n          padding: '1.5rem',\r\n          marginBottom: '1.5rem',\r\n          boxShadow: '0 1px 3px 0 rgb(0 0 0 / 0.1)'\r\n        }}>\r\n          <h2 style={{ fontSize: '1.25rem', fontWeight: '600', marginBottom: '1rem', color: '#374151' }}>\r\n            Assignment Details\r\n          </h2>\r\n          <div style={{ display: 'grid', gridTemplateColumns: 'repeat(auto-fit, minmax(200px, 1fr))', gap: '1rem' }}>\r\n            <input\r\n              type=\"text\"\r\n              placeholder=\"Assignment Name\"\r\n              value={gradingData.assignment.name}\r\n              onChange={(e) => setGradingData(prev => ({\r\n                ...prev,\r\n                assignment: { ...prev.assignment, name: e.target.value }\r\n              }))}\r\n              style={{\r\n                width: '100%',\r\n                padding: '0.75rem',\r\n                border: '1px solid #d1d5db',\r\n                borderRadius: '0.5rem',\r\n                fontSize: '0.875rem'\r\n              }}\r\n            />\r\n            <input\r\n              type=\"date\"\r\n              placeholder=\"Due Date\"\r\n              value={gradingData.assignment.dueDate}\r\n              onChange={(e) => setGradingData(prev => ({\r\n                ...prev,\r\n                assignment: { ...prev.assignment, dueDate: e.target.value }\r\n              }))}\r\n              style={{\r\n                width: '100%',\r\n                padding: '0.75rem',\r\n                border: '1px solid #d1d5db',\r\n                borderRadius: '0.5rem',\r\n                fontSize: '0.875rem'\r\n              }}\r\n            />\r\n            <input\r\n              type=\"number\"\r\n              placeholder=\"Max Points\"\r\n              value={gradingData.assignment.maxPoints}\r\n              onChange={(e) => setGradingData(prev => ({\r\n                ...prev,\r\n                assignment: { ...prev.assignment, maxPoints: parseInt(e.target.value) || 0 }\r\n              }))}\r\n              style={{\r\n                width: '100%',\r\n                padding: '0.75rem',\r\n                border: '1px solid #d1d5db',\r\n                borderRadius: '0.5rem',\r\n                fontSize: '0.875rem'\r\n              }}\r\n            />\r\n          </div>\r\n        </div>\r\n\r\n        {/* Current Grade Display */}\r\n        <div style={{\r\n          background: 'linear-gradient(135deg, #fefce8 0%, #fef3c7 100%)',\r\n          border: '1px solid #fde047',\r\n          borderRadius: '0.75rem',\r\n          padding: '1.5rem',\r\n          marginBottom: '2rem',\r\n          textAlign: 'center'\r\n        }}>\r\n          <h2 style={{ fontSize: '1.25rem', fontWeight: '600', color: '#92400e', marginBottom: '1rem' }}>\r\n            Current Grade\r\n          </h2>\r\n          <div style={{ fontSize: '2.5rem', fontWeight: '700', color: '#3b82f6', marginBottom: '0.5rem' }}>\r\n            {Math.round(calculateTotalScore().finalScore * 10) / 10}/{loadedRubric ? loadedRubric.assignmentInfo.totalPoints : gradingData.assignment.maxPoints}\r\n            <span style={{ fontSize: '1.5rem', color: '#6b7280', marginLeft: '0.5rem' }}>\r\n              ({Math.round((calculateTotalScore().finalScore / (loadedRubric ? loadedRubric.assignmentInfo.totalPoints : gradingData.assignment.maxPoints)) * 1000) / 10}%)\r\n            </span>\r\n          </div>\r\n          <div style={{ display: 'flex', justifyContent: 'center', gap: '1rem', flexWrap: 'wrap' }}>\r\n            {loadedRubric && (\r\n              <div style={{\r\n                fontSize: '0.875rem',\r\n                background: '#dcfce7',\r\n                color: '#15803d',\r\n                padding: '0.25rem 0.75rem',\r\n                borderRadius: '1rem'\r\n              }}>\r\n                📋 Rubric Assessment Active\r\n              </div>\r\n            )}\r\n            <div style={{ fontSize: '0.875rem', color: '#92400e' }}>\r\n              Assessment based on {loadedRubric ? loadedRubric.criteria.length : 'basic'} criteria • Passing threshold: {loadedRubric ? loadedRubric.assignmentInfo.passingThreshold : 60}%\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Late Submission Policy - Card Style from PDF */}\r\n        <div style={{\r\n          background: 'white',\r\n          border: '1px solid #e5e7eb',\r\n          borderRadius: '0.75rem',\r\n          padding: '1.5rem',\r\n          marginBottom: '2rem',\r\n          boxShadow: '0 1px 3px 0 rgb(0 0 0 / 0.1)'\r\n        }}>\r\n          <div style={{ display: 'flex', alignItems: 'center', gap: '0.5rem', marginBottom: '1rem' }}>\r\n            <span style={{ fontSize: '1.25rem' }}>📅</span>\r\n            <h3 style={{ fontSize: '1.25rem', fontWeight: '600', color: '#374151', margin: 0 }}>\r\n              Late Submission Policy\r\n            </h3>\r\n          </div>\r\n\r\n          <div style={{\r\n            background: '#f8f9fa',\r\n            border: '1px solid #e9ecef',\r\n            borderRadius: '0.5rem',\r\n            padding: '1rem',\r\n            marginBottom: '1.5rem'\r\n          }}>\r\n            <p style={{ fontWeight: '500', marginBottom: '0.5rem', color: '#495057' }}>\r\n              Institutional Late Assignment Policy:\r\n            </p>\r\n            <ul style={{ paddingLeft: '1.25rem', fontSize: '0.875rem', color: '#6c757d', margin: 0 }}>\r\n              <li>• <strong>On Time:</strong> Assignments submitted on or before due date and time are marked out of 100%</li>\r\n              <li>• <strong>1-24 Hours Late:</strong> Assignments receive a 20% reduction and are marked out of 80%</li>\r\n              <li>• <strong>After 24 Hours:</strong> Assignments receive a mark of zero (0)</li>\r\n            </ul>\r\n          </div>\r\n\r\n          <h4 style={{ fontWeight: '500', marginBottom: '1rem', color: '#374151' }}>\r\n            Select submission status:\r\n          </h4>\r\n\r\n          {Object.entries(latePolicyLevels).map(([level, policy]) => (\r\n            <label\r\n              key={level}\r\n              style={{\r\n                display: 'block',\r\n                marginBottom: '1rem',\r\n                cursor: 'pointer'\r\n              }}\r\n            >\r\n              <div\r\n                style={{\r\n                  background: 'white',\r\n                  border: `2px solid ${gradingData.latePolicy.level === level ? policy.color : '#e5e7eb'}`,\r\n                  borderRadius: '0.75rem',\r\n                  padding: '1rem',\r\n                  transition: 'all 0.3s ease',\r\n                  transform: gradingData.latePolicy.level === level ? 'translateY(-2px)' : 'none',\r\n                  boxShadow: gradingData.latePolicy.level === level ? '0 8px 25px rgba(0, 0, 0, 0.15)' : '0 1px 3px rgba(0, 0, 0, 0.1)',\r\n                  background: gradingData.latePolicy.level === level ? `linear-gradient(135deg, ${policy.color}15 0%, ${policy.color}25 100%)` : 'white'\r\n                }}\r\n              >\r\n                <div style={{ display: 'flex', alignItems: 'center', gap: '0.75rem', marginBottom: '0.75rem' }}>\r\n                  <input\r\n                    type=\"radio\"\r\n                    name=\"latePolicy\"\r\n                    value={level}\r\n                    checked={gradingData.latePolicy.level === level}\r\n                    onChange={() => updateLatePolicy(level)}\r\n                    style={{\r\n                      accentColor: policy.color,\r\n                      width: '16px',\r\n                      height: '16px'\r\n                    }}\r\n                  />\r\n                  <div style={{\r\n                    width: '16px',\r\n                    height: '16px',\r\n                    borderRadius: '50%',\r\n                    backgroundColor: policy.color,\r\n                    flexShrink: 0\r\n                  }}></div>\r\n                  <h5 style={{\r\n                    fontWeight: '600',\r\n                    fontSize: '1.1rem',\r\n                    margin: 0,\r\n                    flex: 1,\r\n                    color: policy.color\r\n                  }}>\r\n                    {policy.name}\r\n                  </h5>\r\n                  {level !== 'none' && (\r\n                    <span style={{\r\n                      fontSize: '0.9rem',\r\n                      opacity: 0.8,\r\n                      fontWeight: '500',\r\n                      color: policy.color\r\n                    }}>\r\n                      (×{policy.multiplier === 0 ? '0' : policy.multiplier})\r\n                    </span>\r\n                  )}\r\n                </div>\r\n                <p style={{\r\n                  fontSize: '0.9rem',\r\n                  lineHeight: 1.5,\r\n                  margin: 0,\r\n                  color: '#6b7280'\r\n                }}>\r\n                  {policy.description}\r\n                </p>\r\n              </div>\r\n            </label>\r\n          ))}\r\n\r\n          {calculateTotalScore().penaltyApplied && (\r\n            <div style={{\r\n              background: '#fef2f2',\r\n              border: '1px solid #fecaca',\r\n              borderRadius: '0.5rem',\r\n              padding: '1rem',\r\n              marginTop: '1rem'\r\n            }}>\r\n              <h5 style={{ fontWeight: '500', color: '#991b1b', marginBottom: '0.5rem' }}>\r\n                ⚠️ Late Penalty Calculation\r\n              </h5>\r\n              <div style={{ fontSize: '0.875rem', color: '#7f1d1d' }}>\r\n                <p style={{ marginBottom: '0.25rem' }}>\r\n                  <strong>Raw Score:</strong> {Math.round(calculateTotalScore().rawScore * 10) / 10} / {loadedRubric ? loadedRubric.assignmentInfo.totalPoints : gradingData.assignment.maxPoints}\r\n                </p>\r\n                <p style={{ marginBottom: '0.25rem' }}>\r\n                  <strong>Late Penalty:</strong> ×{latePolicyLevels[gradingData.latePolicy.level].multiplier}\r\n                </p>\r\n                <p style={{ margin: 0 }}>\r\n                  <strong>Final Score:</strong> {Math.round(calculateTotalScore().finalScore * 10) / 10} / {loadedRubric ? loadedRubric.assignmentInfo.totalPoints : gradingData.assignment.maxPoints}\r\n                </p>\r\n              </div>\r\n            </div>\r\n          )}\r\n        </div>\r\n\r\n        {/* File Attachments */}\r\n        <div style={{\r\n          background: 'white',\r\n          border: '1px solid #e5e7eb',\r\n          borderRadius: '0.5rem',\r\n          padding: '1.5rem',\r\n          marginBottom: '1.5rem',\r\n          boxShadow: '0 1px 3px 0 rgb(0 0 0 / 0.1)'\r\n        }}>\r\n          <h3 style={{ fontSize: '1.125rem', fontWeight: '600', marginBottom: '1rem', color: '#374151' }}>\r\n            📎 File Attachments\r\n          </h3>\r\n          <div style={{\r\n            border: '2px dashed #d1d5db',\r\n            borderRadius: '0.5rem',\r\n            padding: '2rem',\r\n            textAlign: 'center',\r\n            marginBottom: '1rem'\r\n          }}>\r\n            <input\r\n              ref={fileInputRef}\r\n              type=\"file\"\r\n              multiple\r\n              onChange={(e) => handleFileUpload(e.target.files)}\r\n              style={{ display: 'none' }}\r\n            />\r\n            <button\r\n              onClick={() => fileInputRef.current?.click()}\r\n              style={{\r\n                display: 'flex',\r\n                alignItems: 'center',\r\n                gap: '0.5rem',\r\n                background: '#3b82f6',\r\n                color: 'white',\r\n                padding: '0.75rem 1.5rem',\r\n                borderRadius: '0.5rem',\r\n                border: 'none',\r\n                cursor: 'pointer',\r\n                margin: '0 auto',\r\n                fontSize: '0.875rem'\r\n              }}\r\n            >\r\n              <Plus size={20} />\r\n              Add Files\r\n            </button>\r\n            <p style={{ color: '#6b7280', marginTop: '1rem', fontSize: '0.875rem' }}>\r\n              Supported: {currentModule?.gradingSettings?.fileTypes?.join(', ')}\r\n            </p>\r\n          </div>\r\n\r\n          {gradingData.attachments.length > 0 && (\r\n            <div>\r\n              <h4 style={{ fontWeight: '600', color: '#374151', marginBottom: '0.75rem' }}>\r\n                Uploaded Files ({gradingData.attachments.length})\r\n              </h4>\r\n              <div style={{\r\n                display: 'grid',\r\n                gridTemplateColumns: 'repeat(auto-fill, minmax(200px, 1fr))',\r\n                gap: '1rem'\r\n              }}>\r\n                {gradingData.attachments.map((file) => (\r\n                  <div key={file.id} style={{\r\n                    border: '1px solid #d1d5db',\r\n                    borderRadius: '0.5rem',\r\n                    overflow: 'hidden',\r\n                    background: 'white'\r\n                  }}>\r\n                    {file.type.startsWith('image/') ? (\r\n                      <div style={{ position: 'relative' }}>\r\n                        <img\r\n                          src={file.base64Data || URL.createObjectURL(file.file)}\r\n                          alt={file.name}\r\n                          style={{\r\n                            width: '100%',\r\n                            height: '150px',\r\n                            objectFit: 'cover'\r\n                          }}\r\n                        />\r\n                        <button\r\n                          onClick={() => removeAttachment(file.id)}\r\n                          style={{\r\n                            position: 'absolute',\r\n                            top: '0.5rem',\r\n                            right: '0.5rem',\r\n                            background: '#dc2626',\r\n                            color: 'white',\r\n                            borderRadius: '50%',\r\n                            width: '24px',\r\n                            height: '24px',\r\n                            border: 'none',\r\n                            cursor: 'pointer',\r\n                            display: 'flex',\r\n                            alignItems: 'center',\r\n                            justifyContent: 'center'\r\n                          }}\r\n                        >\r\n                          <X size={12} />\r\n                        </button>\r\n                      </div>\r\n                    ) : (\r\n                      <div style={{ padding: '1rem' }}>\r\n                        <FileText size={40} style={{ color: '#6b7280', margin: '0 auto 0.5rem auto', display: 'block' }} />\r\n                      </div>\r\n                    )}\r\n                    <div style={{ padding: '0.75rem' }}>\r\n                      <p style={{ fontWeight: '500', fontSize: '0.875rem', marginBottom: '0.25rem' }}>\r\n                        {file.name}\r\n                      </p>\r\n                      <p style={{ fontSize: '0.75rem', color: '#6b7280' }}>\r\n                        {(file.size / 1024).toFixed(1)} KB\r\n                      </p>\r\n                      {!file.type.startsWith('image/') && (\r\n                        <button\r\n                          onClick={() => removeAttachment(file.id)}\r\n                          style={{\r\n                            marginTop: '0.5rem',\r\n                            color: '#dc2626',\r\n                            background: 'none',\r\n                            border: 'none',\r\n                            fontSize: '0.75rem',\r\n                            cursor: 'pointer'\r\n                          }}\r\n                        >\r\n                          Remove\r\n                        </button>\r\n                      )}\r\n                    </div>\r\n                  </div>\r\n                ))}\r\n              </div>\r\n            </div>\r\n          )}\r\n        </div>\r\n\r\n        {/* Video Review Links */}\r\n        <div style={{\r\n          background: 'white',\r\n          border: '1px solid #e5e7eb',\r\n          borderRadius: '0.5rem',\r\n          padding: '1.5rem',\r\n          marginBottom: '1.5rem',\r\n          boxShadow: '0 1px 3px 0 rgb(0 0 0 / 0.1)'\r\n        }}>\r\n          <h3 style={{ fontSize: '1.125rem', fontWeight: '600', marginBottom: '1rem', color: '#374151' }}>\r\n            🎥 Video Review Links\r\n          </h3>\r\n\r\n          <div style={{ marginBottom: '1rem' }}>\r\n            <label style={{\r\n              display: 'block',\r\n              fontSize: '0.875rem',\r\n              fontWeight: '500',\r\n              color: '#374151',\r\n              marginBottom: '0.5rem'\r\n            }}>\r\n              Video URL\r\n            </label>\r\n            <input\r\n              type=\"url\"\r\n              value={videoLinkInput}\r\n              onChange={(e) => setVideoLinkInput(e.target.value)}\r\n              placeholder=\"https://syncsketch.com/sketch/... or https://[school].hosted.panopto.com/...\"\r\n              style={{\r\n                width: '100%',\r\n                padding: '0.75rem',\r\n                border: '1px solid #d1d5db',\r\n                borderRadius: '0.5rem',\r\n                fontSize: '0.875rem',\r\n                marginBottom: '0.5rem'\r\n              }}\r\n            />\r\n            <p style={{ fontSize: '0.75rem', color: '#6b7280', marginBottom: '1rem' }}>\r\n              Supports: {currentModule?.gradingSettings?.supportedVideoLinks?.join(', ')}, and generic video links\r\n            </p>\r\n\r\n            <div style={{ display: 'flex', gap: '0.5rem' }}>\r\n              <input\r\n                type=\"text\"\r\n                value={videoTitle}\r\n                onChange={(e) => setVideoTitle(e.target.value)}\r\n                placeholder=\"Title (Optional)\"\r\n                style={{\r\n                  flex: 1,\r\n                  padding: '0.75rem',\r\n                  border: '1px solid #d1d5db',\r\n                  borderRadius: '0.5rem',\r\n                  fontSize: '0.875rem'\r\n                }}\r\n              />\r\n              <button\r\n                onClick={addVideoLink}\r\n                disabled={!videoLinkInput.trim()}\r\n                style={{\r\n                  display: 'flex',\r\n                  alignItems: 'center',\r\n                  gap: '0.5rem',\r\n                  background: videoLinkInput.trim() ? '#7c3aed' : '#9ca3af',\r\n                  color: 'white',\r\n                  padding: '0.75rem 1rem',\r\n                  borderRadius: '0.5rem',\r\n                  border: 'none',\r\n                  cursor: videoLinkInput.trim() ? 'pointer' : 'not-allowed',\r\n                  fontSize: '0.875rem'\r\n                }}\r\n              >\r\n                <Plus size={18} />\r\n                Add Video\r\n              </button>\r\n            </div>\r\n          </div>\r\n\r\n          {gradingData.videoLinks.length > 0 && (\r\n            <div>\r\n              <h4 style={{ fontWeight: '600', color: '#374151', marginBottom: '0.75rem' }}>\r\n                Added Video Links ({gradingData.videoLinks.length})\r\n              </h4>\r\n              <div style={{ display: 'flex', flexDirection: 'column', gap: '1rem' }}>\r\n                {gradingData.videoLinks.map((videoLink) => (\r\n                  <div key={videoLink.id} style={{\r\n                    border: '1px solid #d1d5db',\r\n                    borderRadius: '0.5rem',\r\n                    overflow: 'hidden'\r\n                  }}>\r\n                    <div style={{\r\n                      background: '#f9fafb',\r\n                      padding: '1rem',\r\n                      display: 'flex',\r\n                      alignItems: 'center',\r\n                      justifyContent: 'space-between'\r\n                    }}>\r\n                      <div style={{ display: 'flex', alignItems: 'center', gap: '0.75rem' }}>\r\n                        <div style={{\r\n                          width: '32px',\r\n                          height: '32px',\r\n                          background: '#7c3aed',\r\n                          borderRadius: '0.25rem',\r\n                          display: 'flex',\r\n                          alignItems: 'center',\r\n                          justifyContent: 'center'\r\n                        }}>\r\n                          <Video size={16} style={{ color: 'white' }} />\r\n                        </div>\r\n                        <div>\r\n                          <p style={{ fontWeight: '500', color: '#374151' }}>{videoLink.title}</p>\r\n                          <p style={{ fontSize: '0.875rem', color: '#6b7280' }}>External Link</p>\r\n                        </div>\r\n                      </div>\r\n                      <div style={{ display: 'flex', alignItems: 'center', gap: '0.5rem' }}>\r\n                        <a\r\n                          href={videoLink.url}\r\n                          target=\"_blank\"\r\n                          rel=\"noopener noreferrer\"\r\n                          style={{\r\n                            background: '#3b82f6',\r\n                            color: 'white',\r\n                            padding: '0.25rem 0.75rem',\r\n                            borderRadius: '0.25rem',\r\n                            fontSize: '0.875rem',\r\n                            textDecoration: 'none'\r\n                          }}\r\n                        >\r\n                          Open Link\r\n                        </a>\r\n                        <button\r\n                          onClick={() => removeVideoLink(videoLink.id)}\r\n                          style={{\r\n                            color: '#dc2626',\r\n                            background: 'none',\r\n                            border: 'none',\r\n                            cursor: 'pointer',\r\n                            padding: '0.25rem'\r\n                          }}\r\n                        >\r\n                          <X size={16} />\r\n                        </button>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                ))}\r\n              </div>\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default GradingTemplate;"],"mappings":"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G;AAC3J;AACA;AACA;AACA;AACA;AACA,aAAa,CAAC,CAAC2C,IAAI,CAAC,EAAE,CAAC;AACvB;AACA;AACA,KAAK,GAAG,EAAE;;IAEN;IACA,MAAMS,YAAY,GAAG9E,MAAM,CAAC+E,OAAO,CAACxI,WAAW,CAACa,QAAQ,CAAC,CAACwE,MAAM,CAAC,CAAC,CAACoD,GAAG,EAAEC,KAAK,CAAC,KAAKA,KAAK,IAAIA,KAAK,CAAC1D,IAAI,CAAC,CAAC,CAAC,CAACgD,MAAM,GAAG,CAAC,GAAG;AAC3H;AACA;AACA,UAAUvE,MAAM,CAAC+E,OAAO,CAACxI,WAAW,CAACa,QAAQ,CAAC,CAACwE,MAAM,CAAC,CAAC,CAACoD,GAAG,EAAEC,KAAK,CAAC,KAAKA,KAAK,IAAIA,KAAK,CAAC1D,IAAI,CAAC,CAAC,CAAC,CAACY,GAAG,CAAC,CAAC,CAAC6C,GAAG,EAAEC,KAAK,CAAC,KAAK;AACrH;AACA,8FAA8FD,GAAG;AACjG;AACA,sBAAsBC,KAAK,CAACb,OAAO,CAAC,KAAK,EAAE,MAAM,CAAC;AAClD;AACA;AACA,SAAS,CAAC,CAACC,IAAI,CAAC,EAAE,CAAC;AACnB;AACA,KAAK,GAAG,EAAE;IAEN,MAAMa,WAAW,GAAG;AACxB;AACA;AACA;AACA;AACA;AACA,4BAA4B3I,WAAW,CAACK,OAAO,CAACtC,IAAI;AACpD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}