{"ast":null,"code":"var _jsxFileName = \"C:\\\\local clones\\\\rubric-creation-app\\\\src\\\\components\\\\GradingTemplate.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useRef, useEffect, useCallback } from 'react';\nimport { Download, Upload, FileText, Video, Plus, X, Save, FileDown, Bot, ChevronDown, ChevronUp, ArrowLeft, ArrowRight, Users, PlayCircle, CheckCircle, Clock, SkipForward, SkipBack, Pause, RotateCcw } from 'lucide-react';\nimport { useAssessment } from './SharedContext';\n\n// Late policy levels configuration\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst latePolicyLevels = {\n  none: {\n    multiplier: 1.0,\n    description: 'No late penalty applied'\n  },\n  minor: {\n    multiplier: 0.95,\n    description: '5% penalty for minor lateness'\n  },\n  moderate: {\n    multiplier: 0.85,\n    description: '15% penalty for moderate lateness'\n  },\n  major: {\n    multiplier: 0.7,\n    description: '30% penalty for major lateness'\n  },\n  severe: {\n    multiplier: 0.5,\n    description: '50% penalty for severe lateness'\n  }\n};\n\n// Sample comprehensive rubric from the PDF\nconst sampleRubric = {\n  assignmentInfo: {\n    title: \"Digital Portfolio Project - Final Showcase\",\n    description: \"Students will create a comprehensive digital portfolio showcasing their best work from the semester, including 5-7 completed projects with professional presentation, artist statements, and technical documentation. The portfolio must demonstrate growth, technical proficiency, and creative vision suitable for industry presentation.\",\n    weight: 30,\n    passingThreshold: 65,\n    totalPoints: 120\n  },\n  rubricLevels: [{\n    level: 'incomplete',\n    name: 'Incomplete',\n    description: 'No submission or unusable',\n    color: '#95a5a6',\n    multiplier: 0\n  }, {\n    level: 'unacceptable',\n    name: 'Unacceptable',\n    description: 'Below minimum standards',\n    color: '#e74c3c',\n    multiplier: 0.3\n  }, {\n    level: 'developing',\n    name: 'Developing',\n    description: 'Approaching standards',\n    color: '#f39c12',\n    multiplier: 0.55\n  }, {\n    level: 'acceptable',\n    name: 'Acceptable (PASS)',\n    description: 'Meets minimum standards',\n    color: '#27ae60',\n    multiplier: 0.7\n  }, {\n    level: 'emerging',\n    name: 'Emerging',\n    description: 'Above standard expectations',\n    color: '#2980b9',\n    multiplier: 0.82\n  }, {\n    level: 'accomplished',\n    name: 'Accomplished',\n    description: 'Strong professional quality',\n    color: '#16a085',\n    multiplier: 0.92\n  }, {\n    level: 'exceptional',\n    name: 'Exceptional',\n    description: 'Outstanding professional quality',\n    color: '#8e44ad',\n    multiplier: 1.0\n  }],\n  criteria: [{\n    id: 'technical-proficiency',\n    name: 'Technical Proficiency & Craft',\n    description: 'Demonstration of technical skills, software mastery, and attention to detail in execution',\n    maxPoints: 35,\n    weight: 29,\n    levels: {\n      incomplete: {\n        description: 'No technical work submitted or files corrupted/unusable.',\n        pointRange: '0'\n      },\n      unacceptable: {\n        description: 'Severe technical issues: poor resolution, improper file formats, broken links, or significant software handling problems that interfere with viewing work.',\n        pointRange: '8-12'\n      },\n      developing: {\n        description: 'Basic technical competency shown but with noticeable issues: inconsistent quality, some resolution problems, or workflow inefficiencies. Software use shows beginner-level understanding.',\n        pointRange: '16-21'\n      },\n      acceptable: {\n        description: 'Solid technical foundation with appropriate file formats, good resolution, and functional navigation. Demonstrates competent use of course software with minimal technical distractions.',\n        pointRange: '22-26'\n      },\n      emerging: {\n        description: 'Strong technical execution with sophisticated understanding of software capabilities, proper file management, and polished presentation. Shows advanced workflow knowledge.',\n        pointRange: '27-29'\n      },\n      accomplished: {\n        description: 'Excellent technical mastery demonstrating advanced software skills, innovative use of tools, and professional-grade execution that enhances the overall portfolio presentation.',\n        pointRange: '30-32'\n      },\n      exceptional: {\n        description: 'Outstanding technical excellence showing mastery that exceeds course expectations, innovative problem-solving, and techniques that demonstrate readiness for professional practice.',\n        pointRange: '33-35'\n      }\n    },\n    feedbackLibrary: {\n      strengths: ['Excellent technical execution', 'Advanced software proficiency demonstrated', 'Professional file management and organization', 'Innovative use of tools and techniques', 'High attention to technical detail'],\n      improvements: ['Improve file resolution and formats', 'Work on software efficiency and workflow', 'Address technical consistency issues', 'Enhance navigation and functionality', 'Practice advanced software techniques'],\n      general: ['Technical skills are developing appropriately', 'Shows good understanding of course software', 'Professional technical standards maintained']\n    }\n  }, {\n    id: 'creative-vision',\n    name: 'Creative Vision & Conceptual Development',\n    description: 'Evidence of original thinking, creative problem-solving, and conceptual depth in project development',\n    maxPoints: 30,\n    weight: 25,\n    levels: {\n      incomplete: {\n        description: 'No evidence of creative development or conceptual thinking.',\n        pointRange: '0'\n      },\n      unacceptable: {\n        description: 'Limited creativity with derivative or superficial concepts. Little evidence of original thinking or creative problem-solving.',\n        pointRange: '7-10'\n      },\n      developing: {\n        description: 'Some creative elements present but concepts lack depth or originality. Beginning to show personal voice but needs further development.',\n        pointRange: '14-18'\n      },\n      acceptable: {\n        description: 'Good creative foundation with evidence of original thinking and personal artistic voice. Concepts are well-developed and show creative problem-solving.',\n        pointRange: '19-22'\n      },\n      emerging: {\n        description: 'Strong creative vision with sophisticated conceptual development. Shows unique perspective and innovative approaches to creative challenges.',\n        pointRange: '23-25'\n      },\n      accomplished: {\n        description: 'Excellent creative mastery with compelling original concepts that demonstrate advanced creative thinking and artistic maturity.',\n        pointRange: '26-28'\n      },\n      exceptional: {\n        description: 'Outstanding creative excellence with innovative concepts that push boundaries and demonstrate exceptional artistic vision and creative leadership.',\n        pointRange: '29-30'\n      }\n    },\n    feedbackLibrary: {\n      strengths: ['Strong creative vision evident', 'Innovative conceptual approach', 'Unique artistic perspective shown', 'Excellent creative problem-solving', 'Compelling original concepts'],\n      improvements: ['Develop concepts with greater depth', 'Push creative boundaries further', 'Strengthen personal artistic voice', 'Explore more innovative approaches', 'Enhance conceptual sophistication'],\n      general: ['Creative development is progressing well', 'Shows good creative foundation', 'Artistic voice is emerging appropriately']\n    }\n  }, {\n    id: 'presentation-communication',\n    name: 'Presentation & Communication',\n    description: 'Quality of portfolio organization, visual presentation, and ability to communicate artistic intent effectively',\n    maxPoints: 25,\n    weight: 21,\n    levels: {\n      incomplete: {\n        description: 'No coherent presentation or communication of work.',\n        pointRange: '0'\n      },\n      unacceptable: {\n        description: 'Poor organization with unclear presentation. Lacks effective communication of artistic intent or project development.',\n        pointRange: '6-8'\n      },\n      developing: {\n        description: 'Basic organization present but presentation lacks polish. Some communication of intent but needs clearer articulation.',\n        pointRange: '11-15'\n      },\n      acceptable: {\n        description: 'Well-organized presentation with clear communication of artistic concepts. Professional appearance suitable for academic review.',\n        pointRange: '16-19'\n      },\n      emerging: {\n        description: 'Strong presentation skills with sophisticated organization and clear, compelling communication of creative process and intent.',\n        pointRange: '20-21'\n      },\n      accomplished: {\n        description: 'Excellent presentation demonstrating advanced communication skills and professional-quality organization that enhances the work significantly.',\n        pointRange: '22-23'\n      },\n      exceptional: {\n        description: 'Outstanding presentation excellence that demonstrates exceptional communication skills and creates a compelling, professional portfolio experience.',\n        pointRange: '24-25'\n      }\n    },\n    feedbackLibrary: {\n      strengths: ['Excellent portfolio organization', 'Clear communication of artistic intent', 'Professional presentation quality', 'Compelling visual narrative', 'Strong presentation skills'],\n      improvements: ['Improve portfolio organization', 'Clarify communication of concepts', 'Enhance visual presentation', 'Strengthen narrative structure', 'Polish presentation elements'],\n      general: ['Presentation skills are developing', 'Good communication foundation', 'Professional standards maintained']\n    }\n  }, {\n    id: 'professional-readiness',\n    name: 'Professional Readiness & Industry Standards',\n    description: 'Demonstration of work quality and presentation standards appropriate for professional portfolio review',\n    maxPoints: 30,\n    weight: 25,\n    levels: {\n      incomplete: {\n        description: 'Work does not meet basic professional standards.',\n        pointRange: '0'\n      },\n      unacceptable: {\n        description: 'Significant gaps in professional presentation. Work quality below industry standards for portfolio review.',\n        pointRange: '7-10'\n      },\n      developing: {\n        description: 'Approaching professional standards but needs improvement in quality and presentation for industry readiness.',\n        pointRange: '14-18'\n      },\n      acceptable: {\n        description: 'Meets professional standards with portfolio quality appropriate for industry review and academic requirements.',\n        pointRange: '19-22'\n      },\n      emerging: {\n        description: 'Strong professional quality that exceeds basic standards and demonstrates readiness for industry presentation.',\n        pointRange: '23-25'\n      },\n      accomplished: {\n        description: 'Excellent professional preparation with portfolio demonstrating high industry standards and career readiness.',\n        pointRange: '26-28'\n      },\n      exceptional: {\n        description: 'Outstanding professional excellence that demonstrates exceptional career preparation and industry-leading quality.',\n        pointRange: '29-30'\n      }\n    },\n    feedbackLibrary: {\n      strengths: ['Industry-ready presentation', 'Professional attention to detail', 'Strong career preparation', 'Excellent professional standards', 'Portfolio demonstrates readiness'],\n      improvements: ['Research industry standards', 'Improve professional presentation', 'Add career preparation elements', 'Consider industry feedback', 'Enhance portfolio quality'],\n      general: ['Shows strong professional development', 'Portfolio demonstrates career readiness', 'Professional standards are evident']\n    }\n  }]\n};\nconst GradingTemplate = () => {\n  _s();\n  var _gradingData$assignme5, _sharedCourseDetails$, _sharedCourseDetails$2, _sharedCourseDetails$3, _sharedCourseDetails$4, _sharedCourseDetails$5, _gradingData$latePoli6, _gradingData$feedback4, _gradingData$feedback5, _gradingData$feedback6;\n  // ── Get shared context with fixed imports ──────────────────\n  const {\n    // ── Rubric & Course Details ───────────────────\n    sharedRubric,\n    sharedCourseDetails,\n    setSharedCourseDetails,\n    // ── Grading Form Data ─────────────────────────\n    gradingData,\n    setGradingFormData,\n    // ── Update Helpers ────────────────────────────\n    updateStudentInfo,\n    updateCourseInfo,\n    updateAssignmentInfo,\n    updateRubricGrading,\n    // ← CRITICAL: Fixed import for buttons\n    clearGradingFormData,\n    // ── Class List State ─────────────────────────\n    classList,\n    setClassList,\n    // ── Current Student ──────────────────────────\n    currentStudent,\n    setCurrentStudent,\n    // ── Draft & Final Helpers ────────────────────\n    saveDraft,\n    loadDraft,\n    saveFinalGrade,\n    loadFinalGrade,\n    finalGrades,\n    getGradeStatus,\n    // ── Batch Grading Session ────────────────────\n    gradingSession,\n    setGradingSession,\n    updateGradingSession,\n    initializeGradingSession,\n    nextStudentInSession,\n    previousStudentInSession,\n    // ── Navigation ───────────────────────────────\n    setActiveTab\n  } = useAssessment();\n\n  // ── Local State ──────────────────────────────────────────\n  const [showComments, setShowComments] = useState(false);\n  const [showRubricSection, setShowRubricSection] = useState(true);\n  const [showFeedbackSection, setShowFeedbackSection] = useState(true);\n  const [showAttachmentsSection, setShowAttachmentsSection] = useState(true);\n  const [showVideoSection, setShowVideoSection] = useState(true);\n  const [showAISection, setShowAISection] = useState(false);\n  const [showRubricComments, setShowRubricComments] = useState({});\n\n  // ── Additional UI State ──────────────────────────────────\n  const [pendingAttachment, setPendingAttachment] = useState('');\n  const [pendingVideoLink, setPendingVideoLink] = useState('');\n  const [videoTitle, setVideoTitle] = useState('');\n  const [criterionComments, setCriterionComments] = useState({});\n  const [aiSuggestions, setAiSuggestions] = useState({});\n  const [isGeneratingAI, setIsGeneratingAI] = useState(false);\n  const [dragOver, setDragOver] = useState(false);\n\n  // ── File Upload Refs ─────────────────────────────────────\n  const fileInputRef = useRef(null);\n  const dropZoneRef = useRef(null);\n\n  // ── Use appropriate rubric (shared or sample) ──────────────\n  const loadedRubric = sharedRubric || sampleRubric;\n\n  // ── Load saved data when student changes ───────────────────\n  useEffect(() => {\n    if (currentStudent !== null && currentStudent !== void 0 && currentStudent.id) {\n      console.log('🔍 Loading data for student:', currentStudent.name);\n      const gradeStatus = getGradeStatus(currentStudent.id);\n      console.log('📊 Grade status:', gradeStatus);\n      let savedData = null;\n      if (gradeStatus === 'final') {\n        savedData = loadFinalGrade ? loadFinalGrade(currentStudent.id) : null;\n        console.log('📋 Loading final grade data:', savedData ? 'FOUND' : 'NOT FOUND');\n      } else if (gradeStatus === 'draft') {\n        savedData = loadDraft(currentStudent.id);\n        console.log('📝 Loading draft data:', savedData ? 'FOUND' : 'NOT FOUND');\n      }\n      if (savedData) {\n        var _savedData$feedback, _savedData$feedback2, _savedData$feedback3, _savedData$attachment, _savedData$videoLinks, _savedData$latePolicy;\n        console.log('✅ Successfully loaded saved grade data');\n        setGradingFormData(prev => ({\n          ...prev,\n          ...savedData,\n          student: currentStudent\n        }));\n        console.log('🔄 Restored rubric grading:', Object.keys(savedData.rubricGrading || {}).length, 'criteria');\n        console.log('💬 Restored feedback:', {\n          general: (_savedData$feedback = savedData.feedback) !== null && _savedData$feedback !== void 0 && _savedData$feedback.general ? 'YES' : 'NO',\n          strengths: (_savedData$feedback2 = savedData.feedback) !== null && _savedData$feedback2 !== void 0 && _savedData$feedback2.strengths ? 'YES' : 'NO',\n          improvements: (_savedData$feedback3 = savedData.feedback) !== null && _savedData$feedback3 !== void 0 && _savedData$feedback3.improvements ? 'YES' : 'NO'\n        });\n        console.log('📎 Restored attachments:', ((_savedData$attachment = savedData.attachments) === null || _savedData$attachment === void 0 ? void 0 : _savedData$attachment.length) || 0);\n        console.log('🎥 Restored video links:', ((_savedData$videoLinks = savedData.videoLinks) === null || _savedData$videoLinks === void 0 ? void 0 : _savedData$videoLinks.length) || 0);\n        console.log('⏰ Restored late policy:', ((_savedData$latePolicy = savedData.latePolicy) === null || _savedData$latePolicy === void 0 ? void 0 : _savedData$latePolicy.level) || 'none');\n      } else {\n        console.log('🆕 Starting fresh for student:', currentStudent.name);\n        setGradingFormData(prev => ({\n          ...prev,\n          student: currentStudent,\n          rubricGrading: {},\n          feedback: {\n            general: '',\n            strengths: '',\n            improvements: ''\n          },\n          attachments: [],\n          videoLinks: [],\n          latePolicy: {\n            level: 'none',\n            penaltyApplied: false\n          }\n        }));\n      }\n    }\n  }, [currentStudent, getGradeStatus, loadDraft, loadFinalGrade, setGradingFormData]);\n\n  // ── Helper function to render formatted content ────────────\n  const renderFormattedContent = htmlContent => {\n    if (!htmlContent) return '';\n    let textContent = htmlContent.replace(/<br\\s*\\/?>/gi, '\\n').replace(/<\\/p>/gi, '\\n').replace(/<p[^>]*>/gi, '').replace(/<strong[^>]*>(.*?)<\\/strong>/gi, '**$1**').replace(/<b[^>]*>(.*?)<\\/b>/gi, '**$1**').replace(/<em[^>]*>(.*?)<\\/em>/gi, '*$1*').replace(/<i[^>]*>(.*?)<\\/i>/gi, '*$1*').replace(/<u[^>]*>(.*?)<\\/u>/gi, '_$1_').replace(/<h3[^>]*>(.*?)<\\/h3>/gi, '### $1\\n').replace(/<li[^>]*>(.*?)<\\/li>/gi, '• $1\\n').replace(/<\\/ul>/gi, '\\n').replace(/<ul[^>]*>/gi, '').replace(/<\\/ol>/gi, '\\n').replace(/<ol[^>]*>/gi, '').replace(/<[^>]*>/g, '').replace(/\\n\\s*\\n/g, '\\n').trim();\n    return textContent;\n  };\n\n  // ── Calculate total score with late policy ─────────────────\n  const calculateTotalScore = () => {\n    var _gradingData$latePoli, _gradingData$latePoli2;\n    let rawScore = 0;\n    if (loadedRubric && gradingData !== null && gradingData !== void 0 && gradingData.rubricGrading) {\n      rawScore = Object.values(gradingData.rubricGrading).reduce((total, grading) => {\n        const criterion = loadedRubric.criteria.find(c => c.id === grading.criterionId);\n        if (criterion && grading.selectedLevel) {\n          const level = loadedRubric.rubricLevels.find(l => l.level === grading.selectedLevel);\n          if (level) {\n            return total + criterion.maxPoints * level.multiplier;\n          }\n        }\n        return total;\n      }, 0);\n    }\n    const latePolicyLevel = latePolicyLevels[(gradingData === null || gradingData === void 0 ? void 0 : (_gradingData$latePoli = gradingData.latePolicy) === null || _gradingData$latePoli === void 0 ? void 0 : _gradingData$latePoli.level) || 'none'];\n    const finalScore = rawScore * latePolicyLevel.multiplier;\n    return {\n      rawScore: Math.round(rawScore * 100) / 100,\n      finalScore: Math.round(finalScore * 100) / 100,\n      penaltyApplied: (gradingData === null || gradingData === void 0 ? void 0 : (_gradingData$latePoli2 = gradingData.latePolicy) === null || _gradingData$latePoli2 === void 0 ? void 0 : _gradingData$latePoli2.level) !== 'none',\n      latePolicyDescription: latePolicyLevel.description\n    };\n  };\n\n  // ── Update late policy ─────────────────────────────────────\n  const updateLatePolicy = level => {\n    setGradingFormData(prevData => ({\n      ...prevData,\n      latePolicy: {\n        level: level,\n        penaltyApplied: level !== 'none'\n      }\n    }));\n  };\n\n  // ── Toggle sections ────────────────────────────────────────\n  const toggleRubricComments = criterionId => {\n    setShowRubricComments(prev => ({\n      ...prev,\n      [criterionId]: !prev[criterionId]\n    }));\n  };\n  const toggleSection = section => {\n    switch (section) {\n      case 'rubric':\n        setShowRubricSection(prev => !prev);\n        break;\n      case 'feedback':\n        setShowFeedbackSection(prev => !prev);\n        break;\n      case 'attachments':\n        setShowAttachmentsSection(prev => !prev);\n        break;\n      case 'video':\n        setShowVideoSection(prev => !prev);\n        break;\n      case 'ai':\n        setShowAISection(prev => !prev);\n        break;\n    }\n  };\n\n  // ── Feedback management ────────────────────────────────────\n  const updateFeedback = (field, value) => {\n    setGradingFormData(prev => ({\n      ...prev,\n      feedback: {\n        ...prev.feedback,\n        [field]: value\n      }\n    }));\n  };\n\n  // ── Criterion feedback management ──────────────────────────\n  const updateCriterionFeedback = (criterionId, comments) => {\n    setGradingFormData(prev => {\n      var _prev$rubricGrading;\n      return {\n        ...prev,\n        rubricGrading: {\n          ...prev.rubricGrading,\n          [criterionId]: {\n            ...((_prev$rubricGrading = prev.rubricGrading) === null || _prev$rubricGrading === void 0 ? void 0 : _prev$rubricGrading[criterionId]),\n            criterionId,\n            customComments: comments\n          }\n        }\n      };\n    });\n  };\n\n  // ── Add predefined feedback from library ───────────────────\n  const addPredefinedFeedback = (criterionId, comment, type) => {\n    var _gradingData$rubricGr;\n    const currentGrading = gradingData === null || gradingData === void 0 ? void 0 : (_gradingData$rubricGr = gradingData.rubricGrading) === null || _gradingData$rubricGr === void 0 ? void 0 : _gradingData$rubricGr[criterionId];\n    const currentComments = (currentGrading === null || currentGrading === void 0 ? void 0 : currentGrading.customComments) || '';\n    const prefix = type === 'strengths' ? '✅ ' : type === 'improvements' ? '🔄 ' : '💭 ';\n    const newComment = `${prefix}${comment}`;\n    const newComments = currentComments ? `${currentComments}\\n${newComment}` : newComment;\n    updateCriterionFeedback(criterionId, newComments);\n  };\n\n  // ── File Upload Handlers ───────────────────────────────────\n  const handleFileUpload = files => {\n    const newAttachments = Array.from(files).map(file => ({\n      id: Date.now() + Math.random(),\n      name: file.name,\n      size: file.size,\n      type: file.type,\n      file: file\n    }));\n    Promise.all(newAttachments.map(attachment => {\n      return new Promise(resolve => {\n        if (attachment.type.startsWith('image/')) {\n          const reader = new FileReader();\n          reader.onload = e => {\n            attachment.base64Data = e.target.result;\n            resolve(attachment);\n          };\n          reader.readAsDataURL(attachment.file);\n        } else {\n          resolve(attachment);\n        }\n      });\n    })).then(processedAttachments => {\n      setGradingFormData(prev => ({\n        ...prev,\n        attachments: [...(prev.attachments || []), ...processedAttachments]\n      }));\n    });\n  };\n  const removeAttachment = id => {\n    setGradingFormData(prev => {\n      var _prev$attachments;\n      return {\n        ...prev,\n        attachments: ((_prev$attachments = prev.attachments) === null || _prev$attachments === void 0 ? void 0 : _prev$attachments.filter(att => att.id !== id)) || []\n      };\n    });\n  };\n\n  // ── Video link management ──────────────────────────────────\n  const addVideoLink = () => {\n    if (pendingVideoLink.trim()) {\n      setGradingFormData(prev => ({\n        ...prev,\n        videoLinks: [...(prev.videoLinks || []), {\n          id: Date.now(),\n          url: pendingVideoLink.trim(),\n          title: videoTitle.trim() || 'Video Link',\n          addedDate: new Date().toISOString()\n        }]\n      }));\n      setPendingVideoLink('');\n      setVideoTitle('');\n    }\n  };\n  const removeVideoLink = linkId => {\n    setGradingFormData(prev => {\n      var _prev$videoLinks;\n      return {\n        ...prev,\n        videoLinks: ((_prev$videoLinks = prev.videoLinks) === null || _prev$videoLinks === void 0 ? void 0 : _prev$videoLinks.filter(link => link.id !== linkId)) || []\n      };\n    });\n  };\n\n  // ── Drag and Drop Handlers ─────────────────────────────────\n  const handleDragOver = useCallback(e => {\n    e.preventDefault();\n    setDragOver(true);\n  }, []);\n  const handleDragLeave = useCallback(e => {\n    e.preventDefault();\n    if (!e.currentTarget.contains(e.relatedTarget)) {\n      setDragOver(false);\n    }\n  }, []);\n  const handleDrop = useCallback(e => {\n    e.preventDefault();\n    setDragOver(false);\n    const files = Array.from(e.dataTransfer.files);\n    if (files.length > 0) {\n      handleFileUpload(files);\n    }\n  }, []);\n\n  // ── AI Grading Integration ─────────────────────────────────\n  const generateAIFeedback = async (criterionId, selectedLevel) => {\n    setIsGeneratingAI(true);\n    try {\n      // Simulate AI generation (replace with actual AI service)\n      await new Promise(resolve => setTimeout(resolve, 2000));\n      const criterion = loadedRubric.criteria.find(c => c.id === criterionId);\n      const level = loadedRubric.rubricLevels.find(l => l.level === selectedLevel);\n      const mockFeedback = {\n        strengths: [`Strong performance in ${criterion.name.toLowerCase()}`, 'Good technical execution evident'],\n        improvements: [`Consider enhancing ${criterion.name.toLowerCase()}`, 'Room for improvement in implementation'],\n        overall: `Performance at ${level.name} level demonstrates ${level.description.toLowerCase()}`\n      };\n      setAiSuggestions(prev => ({\n        ...prev,\n        [criterionId]: mockFeedback\n      }));\n    } catch (error) {\n      console.error('AI feedback generation failed:', error);\n    } finally {\n      setIsGeneratingAI(false);\n    }\n  };\n\n  // ── Export Functions ───────────────────────────────────────\n  const exportToHTML = () => {\n    var _gradingData$assignme, _gradingData$student, _gradingData$student2, _gradingData$student3, _gradingData$course, _gradingData$course2, _gradingData$assignme2, _gradingData$assignme3, _gradingData$feedback, _gradingData$feedback2, _gradingData$feedback3, _gradingData$student4, _gradingData$assignme4;\n    const scoreCalculation = calculateTotalScore();\n    const totalScore = scoreCalculation.finalScore;\n    const rawScore = scoreCalculation.rawScore;\n    const maxPoints = loadedRubric ? loadedRubric.criteria.reduce((sum, c) => sum + c.maxPoints, 0) : ((_gradingData$assignme = gradingData.assignment) === null || _gradingData$assignme === void 0 ? void 0 : _gradingData$assignme.maxPoints) || 100;\n    const percentage = (totalScore / maxPoints * 100).toFixed(1);\n    const currentDate = new Date().toLocaleDateString('en-US', {\n      weekday: 'long',\n      year: 'numeric',\n      month: 'long',\n      day: 'numeric'\n    });\n\n    // Build attachments HTML with embedded Base64 images\n    const attachmentsHTML = (gradingData.attachments || []).map((att, index) => {\n      if (att.base64Data) {\n        return `\n          <div class=\"attachment-item\">\n            <img src=\"${att.base64Data}\" \n                 alt=\"${att.name}\" \n                 class=\"clickable-image\"\n                 data-index=\"${index}\"\n                 style=\"max-width: 200px; max-height: 200px; object-fit: contain; display: block; margin-bottom: 0.5rem; border: 1px solid #ddd; border-radius: 4px;\" />\n            <div style=\"font-size: 0.875rem; font-weight: 500; word-break: break-word;\">${att.name}</div>\n            <div style=\"font-size: 0.75rem; color: #666;\">${(att.size / 1024).toFixed(1)} KB</div>\n            <div style=\"font-size: 0.75rem; color: #007bff; margin-top: 4px;\">Click to enlarge</div>\n          </div>\n        `;\n      } else {\n        return `\n          <div class=\"attachment-item\">\n            <div style=\"width: 40px; height: 40px; background: #f3f4f6; border-radius: 4px; display: flex; align-items: center; justify-content: center; margin: 0 auto 0.5rem auto;\">\n              📄\n            </div>\n            <div style=\"font-size: 0.875rem; font-weight: 500; word-break: break-word;\">${att.name}</div>\n            <div style=\"font-size: 0.75rem; color: #666;\">${(att.size / 1024).toFixed(1)} KB</div>\n          </div>\n        `;\n      }\n    }).join('');\n\n    // Build video links HTML\n    const videoLinksHTML = (gradingData.videoLinks || []).map(link => `\n      <div class=\"video-link-item\" style=\"background: #f8f9fa; border: 1px solid #e9ecef; border-radius: 8px; padding: 1rem; margin-bottom: 1rem;\">\n        <div style=\"display: flex; align-items: center; gap: 0.5rem; margin-bottom: 0.5rem;\">\n          <span style=\"font-size: 1.25rem;\">🎥</span>\n          <strong style=\"color: #495057;\">${link.title}</strong>\n        </div>\n        <a href=\"${link.url}\" target=\"_blank\" rel=\"noopener noreferrer\" style=\"color: #007bff; text-decoration: none; word-break: break-all;\">\n          ${link.url}\n        </a>\n      </div>\n    `).join('');\n    const htmlContent = `\n<!DOCTYPE html>\n<html>\n<head>\n    <meta charset=\"UTF-8\">\n    <title>Grade Report - ${((_gradingData$student = gradingData.student) === null || _gradingData$student === void 0 ? void 0 : _gradingData$student.name) || 'Student'}</title>\n    <style>\n        body { font-family: Arial, sans-serif; margin: 40px; line-height: 1.6; color: #333; }\n        .header { border-bottom: 3px solid #007bff; padding-bottom: 20px; margin-bottom: 30px; }\n        .student-info { background: #f8f9fa; padding: 20px; border-radius: 8px; margin-bottom: 30px; }\n        .score-summary { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 20px; border-radius: 8px; margin-bottom: 30px; }\n        .rubric-table { width: 100%; border-collapse: collapse; margin-bottom: 30px; }\n        .rubric-table th, .rubric-table td { border: 1px solid #ddd; padding: 12px; text-align: left; }\n        .rubric-table th { background-color: #f2f2f2; font-weight: bold; }\n        .feedback-section { background: #fff3cd; border: 1px solid #ffeaa7; border-radius: 8px; padding: 20px; margin-bottom: 20px; }\n        .attachments-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 20px; margin-top: 20px; }\n        .attachment-item { text-align: center; border: 1px solid #ddd; border-radius: 8px; padding: 15px; }\n        .clickable-image { cursor: pointer; transition: transform 0.2s; }\n        .clickable-image:hover { transform: scale(1.05); }\n        .modal { display: none; position: fixed; z-index: 1000; left: 0; top: 0; width: 100%; height: 100%; background-color: rgba(0,0,0,0.8); }\n        .modal-content { position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); max-width: 90%; max-height: 90%; }\n        .modal img { max-width: 100%; max-height: 100%; object-fit: contain; }\n        .close { position: absolute; top: 10px; right: 25px; color: #fff; font-size: 35px; font-weight: bold; cursor: pointer; }\n        @media print { .modal { display: none !important; } }\n    </style>\n</head>\n<body>\n    <div class=\"header\">\n        <h1>Grade Report</h1>\n        <p><strong>Generated:</strong> ${currentDate}</p>\n    </div>\n\n    <div class=\"student-info\">\n        <h2>Student Information</h2>\n        <p><strong>Name:</strong> ${((_gradingData$student2 = gradingData.student) === null || _gradingData$student2 === void 0 ? void 0 : _gradingData$student2.name) || 'N/A'}</p>\n        <p><strong>Email:</strong> ${((_gradingData$student3 = gradingData.student) === null || _gradingData$student3 === void 0 ? void 0 : _gradingData$student3.email) || 'N/A'}</p>\n        <p><strong>Course:</strong> ${((_gradingData$course = gradingData.course) === null || _gradingData$course === void 0 ? void 0 : _gradingData$course.code) || 'N/A'} - ${((_gradingData$course2 = gradingData.course) === null || _gradingData$course2 === void 0 ? void 0 : _gradingData$course2.name) || 'N/A'}</p>\n        <p><strong>Assignment:</strong> ${((_gradingData$assignme2 = gradingData.assignment) === null || _gradingData$assignme2 === void 0 ? void 0 : _gradingData$assignme2.name) || 'N/A'}</p>\n        <p><strong>Due Date:</strong> ${((_gradingData$assignme3 = gradingData.assignment) === null || _gradingData$assignme3 === void 0 ? void 0 : _gradingData$assignme3.dueDate) || 'N/A'}</p>\n    </div>\n\n    <div class=\"score-summary\">\n        <h2>Final Score</h2>\n        <div style=\"display: flex; justify-content: space-between; align-items: center;\">\n            <div>\n                <div style=\"font-size: 2rem; font-weight: bold;\">${totalScore} / ${maxPoints}</div>\n                <div style=\"font-size: 1.2rem;\">${percentage}%</div>\n            </div>\n            <div style=\"text-align: right;\">\n                ${scoreCalculation.penaltyApplied ? `\n                    <div style=\"font-size: 0.9rem; opacity: 0.9;\">Raw Score: ${rawScore}</div>\n                    <div style=\"font-size: 0.9rem; opacity: 0.9;\">Late Penalty Applied</div>\n                ` : ''}\n            </div>\n        </div>\n    </div>\n\n    ${loadedRubric ? `\n    <div class=\"rubric-section\">\n        <h2>Rubric Assessment</h2>\n        <table class=\"rubric-table\">\n            <thead>\n                <tr>\n                    <th>Criterion</th>\n                    <th>Level</th>\n                    <th>Points</th>\n                    <th>Comments</th>\n                </tr>\n            </thead>\n            <tbody>\n                ${loadedRubric.criteria.map(criterion => {\n      var _gradingData$rubricGr2;\n      const grading = (_gradingData$rubricGr2 = gradingData.rubricGrading) === null || _gradingData$rubricGr2 === void 0 ? void 0 : _gradingData$rubricGr2[criterion.id];\n      const level = grading !== null && grading !== void 0 && grading.selectedLevel ? loadedRubric.rubricLevels.find(l => l.level === grading.selectedLevel) : null;\n      const points = level ? Math.round(criterion.maxPoints * level.multiplier) : 0;\n      return `\n                    <tr>\n                        <td><strong>${criterion.name}</strong><br><small>${criterion.description}</small></td>\n                        <td>${level ? level.name : 'Not graded'}</td>\n                        <td>${points} / ${criterion.maxPoints}</td>\n                        <td>${(grading === null || grading === void 0 ? void 0 : grading.customComments) || 'No comments'}</td>\n                    </tr>\n                  `;\n    }).join('')}\n            </tbody>\n        </table>\n    </div>\n    ` : ''}\n\n    ${(_gradingData$feedback = gradingData.feedback) !== null && _gradingData$feedback !== void 0 && _gradingData$feedback.general || (_gradingData$feedback2 = gradingData.feedback) !== null && _gradingData$feedback2 !== void 0 && _gradingData$feedback2.strengths || (_gradingData$feedback3 = gradingData.feedback) !== null && _gradingData$feedback3 !== void 0 && _gradingData$feedback3.improvements ? `\n    <div class=\"feedback-section\">\n        <h2>Instructor Feedback</h2>\n        ${gradingData.feedback.general ? `\n            <div style=\"margin-bottom: 15px;\">\n                <h3>General Comments:</h3>\n                <p>${gradingData.feedback.general.replace(/\\n/g, '<br>')}</p>\n            </div>\n        ` : ''}\n        ${gradingData.feedback.strengths ? `\n            <div style=\"margin-bottom: 15px;\">\n                <h3>✅ Strengths:</h3>\n                <p>${gradingData.feedback.strengths.replace(/\\n/g, '<br>')}</p>\n            </div>\n        ` : ''}\n        ${gradingData.feedback.improvements ? `\n            <div style=\"margin-bottom: 15px;\">\n                <h3>🔄 Areas for Improvement:</h3>\n                <p>${gradingData.feedback.improvements.replace(/\\n/g, '<br>')}</p>\n            </div>\n        ` : ''}\n    </div>\n    ` : ''}\n\n    ${(gradingData.attachments || []).length > 0 ? `\n    <div class=\"attachments-section\">\n        <h2>📎 Attachments</h2>\n        <div class=\"attachments-grid\">\n            ${attachmentsHTML}\n        </div>\n    </div>\n    ` : ''}\n\n    ${(gradingData.videoLinks || []).length > 0 ? `\n    <div class=\"video-section\">\n        <h2>🎥 Video Links</h2>\n        ${videoLinksHTML}\n    </div>\n    ` : ''}\n\n    <div id=\"imageModal\" class=\"modal\">\n        <span class=\"close\">&times;</span>\n        <img class=\"modal-content\" id=\"modalImage\">\n    </div>\n\n    <script>\n        function openImageModal(src) {\n            document.getElementById('imageModal').style.display = 'block';\n            document.getElementById('modalImage').src = src;\n        }\n\n        function closeImageModal() {\n            document.getElementById('imageModal').style.display = 'none';\n        }\n\n        document.addEventListener('DOMContentLoaded', function() {\n            // Add click handlers to images\n            document.querySelectorAll('.clickable-image').forEach(img => {\n                img.addEventListener('click', function() {\n                    openImageModal(this.src);\n                });\n            });\n\n            // Close modal handlers\n            document.querySelector('.close').addEventListener('click', closeImageModal);\n            document.getElementById('imageModal').addEventListener('click', function(e) {\n                if (e.target === this) closeImageModal();\n            });\n            document.addEventListener('keydown', function(e) {\n                if (e.key === 'Escape') closeImageModal();\n            });\n        });\n    </script>\n</body>\n</html>`;\n    const htmlBlob = new Blob([htmlContent], {\n      type: 'text/html'\n    });\n    const url = URL.createObjectURL(htmlBlob);\n    const link = document.createElement('a');\n    link.href = url;\n    link.download = `grade_report_${((_gradingData$student4 = gradingData.student) === null || _gradingData$student4 === void 0 ? void 0 : _gradingData$student4.name) || 'student'}_${((_gradingData$assignme4 = gradingData.assignment) === null || _gradingData$assignme4 === void 0 ? void 0 : _gradingData$assignme4.name) || 'assignment'}.html`;\n    link.click();\n    URL.revokeObjectURL(url);\n  };\n  const exportToPDF = () => {\n    exportToHTML();\n    setTimeout(() => {\n      alert('HTML report downloaded! To create PDF:\\n\\n1. Open the HTML file in your browser\\n2. Press Ctrl+P (or Cmd+P on Mac)\\n3. Select \"Save as PDF\"\\n4. Adjust settings and save');\n    }, 500);\n  };\n\n  // ── Navigation handlers ────────────────────────────────────\n  const handleNextStudentAsDraft = () => {\n    if (currentStudent !== null && currentStudent !== void 0 && currentStudent.id) {\n      saveDraft(currentStudent.id, gradingData);\n    }\n    const success = nextStudentInSession('draft');\n    if (!success) {\n      alert('No more students in the session!');\n    }\n  };\n  const handleNextStudentAsFinal = () => {\n    if (currentStudent !== null && currentStudent !== void 0 && currentStudent.id) {\n      saveFinalGrade(currentStudent.id, gradingData);\n    }\n    const success = nextStudentInSession('final');\n    if (!success) {\n      alert('No more students in the session!');\n    }\n  };\n  const handlePreviousStudent = () => {\n    const success = previousStudentInSession();\n    if (!success) {\n      alert('Already at the first student!');\n    }\n  };\n\n  // ── Calculate max possible score ───────────────────────────\n  const maxPossibleScore = loadedRubric ? loadedRubric.criteria.reduce((total, criterion) => total + criterion.maxPoints, 0) : ((_gradingData$assignme5 = gradingData.assignment) === null || _gradingData$assignme5 === void 0 ? void 0 : _gradingData$assignme5.maxPoints) || 100;\n  const scoreData = calculateTotalScore();\n\n  // ── Main Render ─────────────────────────────────────────────\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      maxWidth: '1200px',\n      margin: '0 auto',\n      padding: '1.5rem',\n      backgroundColor: '#ffffff',\n      minHeight: '100vh'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginBottom: '2rem',\n        paddingBottom: '1rem',\n        borderBottom: '2px solid #e5e7eb'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        style: {\n          fontSize: '2rem',\n          fontWeight: '700',\n          color: '#1f2937',\n          marginBottom: '0.5rem'\n        },\n        children: \"\\uD83C\\uDF93 Grading Interface\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 842,\n        columnNumber: 9\n      }, this), currentStudent && /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: 'flex',\n          justifyContent: 'space-between',\n          alignItems: 'center',\n          backgroundColor: '#f9fafb',\n          padding: '1rem',\n          borderRadius: '0.5rem',\n          marginTop: '1rem'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            style: {\n              fontSize: '1.25rem',\n              fontWeight: '600',\n              color: '#374151',\n              marginBottom: '0.25rem'\n            },\n            children: currentStudent.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 861,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            style: {\n              fontSize: '0.875rem',\n              color: '#6b7280'\n            },\n            children: currentStudent.email\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 869,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 860,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            textAlign: 'right'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              fontSize: '0.875rem',\n              color: '#6b7280'\n            },\n            children: [\"Session Progress: \", ((gradingSession === null || gradingSession === void 0 ? void 0 : gradingSession.currentStudentIndex) || 0) + 1, \" of \", (gradingSession === null || gradingSession === void 0 ? void 0 : gradingSession.totalStudents) || 1]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 874,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              fontSize: '1.25rem',\n              fontWeight: '600',\n              color: '#059669'\n            },\n            children: [\"Score: \", scoreData.finalScore, \" / \", maxPossibleScore]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 877,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 873,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 851,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 837,\n      columnNumber: 7\n    }, this), (sharedCourseDetails || loadedRubric.assignmentInfo) && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        backgroundColor: '#eff6ff',\n        padding: '1rem',\n        borderRadius: '0.5rem',\n        marginBottom: '1.5rem',\n        border: '1px solid #bfdbfe'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        style: {\n          fontSize: '1.125rem',\n          fontWeight: '600',\n          color: '#1e40af',\n          marginBottom: '0.5rem'\n        },\n        children: [(sharedCourseDetails === null || sharedCourseDetails === void 0 ? void 0 : (_sharedCourseDetails$ = sharedCourseDetails.course) === null || _sharedCourseDetails$ === void 0 ? void 0 : _sharedCourseDetails$.code) || 'Course', \" - \", (sharedCourseDetails === null || sharedCourseDetails === void 0 ? void 0 : (_sharedCourseDetails$2 = sharedCourseDetails.course) === null || _sharedCourseDetails$2 === void 0 ? void 0 : _sharedCourseDetails$2.name) || loadedRubric.assignmentInfo.title]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 894,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        style: {\n          fontSize: '0.875rem',\n          color: '#374151'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"Assignment:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 898,\n          columnNumber: 13\n        }, this), \" \", (sharedCourseDetails === null || sharedCourseDetails === void 0 ? void 0 : (_sharedCourseDetails$3 = sharedCourseDetails.assignment) === null || _sharedCourseDetails$3 === void 0 ? void 0 : _sharedCourseDetails$3.name) || loadedRubric.assignmentInfo.title, \" |\", /*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \" Due:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 899,\n          columnNumber: 13\n        }, this), \" \", (sharedCourseDetails === null || sharedCourseDetails === void 0 ? void 0 : (_sharedCourseDetails$4 = sharedCourseDetails.assignment) === null || _sharedCourseDetails$4 === void 0 ? void 0 : _sharedCourseDetails$4.dueDate) || 'N/A', \" |\", /*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \" Max Points:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 900,\n          columnNumber: 13\n        }, this), \" \", (sharedCourseDetails === null || sharedCourseDetails === void 0 ? void 0 : (_sharedCourseDetails$5 = sharedCourseDetails.assignment) === null || _sharedCourseDetails$5 === void 0 ? void 0 : _sharedCourseDetails$5.maxPoints) || loadedRubric.assignmentInfo.totalPoints]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 897,\n        columnNumber: 11\n      }, this), loadedRubric.assignmentInfo.description && /*#__PURE__*/_jsxDEV(\"p\", {\n        style: {\n          fontSize: '0.875rem',\n          color: '#374151',\n          marginTop: '0.5rem'\n        },\n        children: loadedRubric.assignmentInfo.description\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 903,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 887,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        backgroundColor: '#ffffff',\n        border: '1px solid #d1d5db',\n        borderRadius: '0.75rem',\n        marginBottom: '1.5rem',\n        overflow: 'hidden'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          backgroundColor: '#f3f4f6',\n          padding: '1rem',\n          borderBottom: '1px solid #d1d5db',\n          display: 'flex',\n          justifyContent: 'space-between',\n          alignItems: 'center',\n          cursor: 'pointer'\n        },\n        onClick: () => toggleSection('rubric'),\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          style: {\n            fontSize: '1.25rem',\n            fontWeight: '600',\n            color: '#374151',\n            margin: 0\n          },\n          children: \"\\uD83D\\uDCCA Rubric Assessment\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 930,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          style: {\n            fontSize: '1.5rem',\n            color: '#6b7280'\n          },\n          children: showRubricSection ? '−' : '+'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 933,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 918,\n        columnNumber: 9\n      }, this), showRubricSection && /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          padding: '1.5rem'\n        },\n        children: [loadedRubric.criteria.map(criterion => {\n          var _gradingData$rubricGr3, _loadedRubric$rubricL, _loadedRubric$rubricL2, _criterion$levels2, _criterion$levels2$cu, _loadedRubric$rubricL3;\n          const currentGrading = gradingData === null || gradingData === void 0 ? void 0 : (_gradingData$rubricGr3 = gradingData.rubricGrading) === null || _gradingData$rubricGr3 === void 0 ? void 0 : _gradingData$rubricGr3[criterion.id];\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              border: '1px solid #e5e7eb',\n              borderRadius: '0.5rem',\n              padding: '1.5rem',\n              marginBottom: '1.5rem',\n              backgroundColor: '#fafafa'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                display: 'flex',\n                justifyContent: 'space-between',\n                alignItems: 'flex-start',\n                marginBottom: '1rem'\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  flex: 1\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                  style: {\n                    fontSize: '1.125rem',\n                    fontWeight: '600',\n                    color: '#374151'\n                  },\n                  children: [criterion.name, /*#__PURE__*/_jsxDEV(\"span\", {\n                    style: {\n                      color: '#3b82f6',\n                      marginLeft: '0.5rem'\n                    },\n                    children: [\"(\", criterion.maxPoints, \" pts)\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 967,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 961,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  style: {\n                    fontSize: '0.875rem',\n                    color: '#6b7280',\n                    marginTop: '0.25rem'\n                  },\n                  children: renderFormattedContent(criterion.description)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 971,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 960,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  display: 'flex',\n                  gap: '0.5rem',\n                  marginLeft: '1rem'\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => toggleRubricComments(criterion.id),\n                  style: {\n                    color: '#3b82f6',\n                    background: 'none',\n                    border: 'none',\n                    fontSize: '0.875rem',\n                    textDecoration: 'underline',\n                    cursor: 'pointer'\n                  },\n                  children: [showRubricComments[criterion.id] ? 'Hide' : 'Show', \" Details\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 980,\n                  columnNumber: 23\n                }, this), (currentGrading === null || currentGrading === void 0 ? void 0 : currentGrading.selectedLevel) && /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => generateAIFeedback(criterion.id, currentGrading.selectedLevel),\n                  disabled: isGeneratingAI,\n                  style: {\n                    color: '#8b5cf6',\n                    background: 'none',\n                    border: 'none',\n                    fontSize: '0.875rem',\n                    textDecoration: 'underline',\n                    cursor: 'pointer',\n                    opacity: isGeneratingAI ? 0.5 : 1\n                  },\n                  children: isGeneratingAI ? '⏳ AI...' : '🤖 AI Feedback'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 994,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 979,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 954,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                display: 'grid',\n                gridTemplateColumns: 'repeat(auto-fit, minmax(140px, 1fr))',\n                gap: '0.5rem',\n                marginBottom: '1rem'\n              },\n              children: loadedRubric.rubricLevels.map(level => {\n                const isSelected = (currentGrading === null || currentGrading === void 0 ? void 0 : currentGrading.selectedLevel) === level.level;\n                const points = Math.round(criterion.maxPoints * level.multiplier);\n                const btnStyle = {\n                  padding: '0.75rem',\n                  borderRadius: '0.5rem',\n                  fontSize: '0.875rem',\n                  fontWeight: 500,\n                  cursor: 'pointer',\n                  textAlign: 'center',\n                  transition: 'all 140ms ease-in-out',\n                  border: `2px solid ${isSelected ? level.color : '#d1d5db'}`,\n                  backgroundColor: isSelected ? level.color : '#f3f4f6',\n                  color: isSelected ? '#ffffff' : '#374151',\n                  transform: isSelected ? 'scale(1.08)' : 'scale(1)',\n                  boxShadow: isSelected ? `0 0 0 3px ${level.color}55` : 'none'\n                };\n                return /*#__PURE__*/_jsxDEV(\"button\", {\n                  style: btnStyle,\n                  onClick: e => {\n                    e.preventDefault();\n                    e.stopPropagation();\n                    console.log('🎯 Button clicked:', criterion.id, level.level);\n                    updateRubricGrading(criterion.id, level.level);\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    style: {\n                      fontWeight: 600\n                    },\n                    children: level.name\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1050,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    style: {\n                      fontSize: '0.75rem',\n                      marginTop: '0.25rem'\n                    },\n                    children: [points, \" pts\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1051,\n                    columnNumber: 27\n                  }, this)]\n                }, level.level, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1040,\n                  columnNumber: 25\n                }, this);\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1014,\n              columnNumber: 19\n            }, this), showRubricComments[criterion.id] && /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                background: '#f9fafb',\n                borderRadius: '0.5rem',\n                padding: '1rem',\n                marginBottom: '1rem'\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n                style: {\n                  fontWeight: '600',\n                  color: '#374151',\n                  marginBottom: '0.75rem'\n                },\n                children: \"Level Descriptions:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1067,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  display: 'grid',\n                  gridTemplateColumns: 'repeat(auto-fit, minmax(250px, 1fr))',\n                  gap: '0.75rem'\n                },\n                children: loadedRubric.rubricLevels.map(level => {\n                  var _criterion$levels, _criterion$levels$lev;\n                  return /*#__PURE__*/_jsxDEV(\"div\", {\n                    style: {\n                      padding: '0.75rem',\n                      border: `2px solid ${level.color}`,\n                      borderRadius: '0.375rem',\n                      backgroundColor: `${level.color}10`\n                    },\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      style: {\n                        fontWeight: '600',\n                        color: level.color,\n                        marginBottom: '0.25rem'\n                      },\n                      children: level.name\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1089,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      style: {\n                        fontSize: '0.75rem',\n                        color: '#374151'\n                      },\n                      children: ((_criterion$levels = criterion.levels) === null || _criterion$levels === void 0 ? void 0 : (_criterion$levels$lev = _criterion$levels[level.level]) === null || _criterion$levels$lev === void 0 ? void 0 : _criterion$levels$lev.description) || level.description\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1096,\n                      columnNumber: 29\n                    }, this)]\n                  }, level.level, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1080,\n                    columnNumber: 27\n                  }, this);\n                })\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1074,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1061,\n              columnNumber: 21\n            }, this), criterion.feedbackLibrary && /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                background: '#fef3c7',\n                border: '1px solid #fbbf24',\n                borderRadius: '0.5rem',\n                padding: '1rem',\n                marginBottom: '1rem'\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n                style: {\n                  fontWeight: '600',\n                  color: '#92400e',\n                  marginBottom: '0.75rem'\n                },\n                children: \"\\uD83D\\uDCA1 Quick Feedback Options:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1114,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  display: 'grid',\n                  gridTemplateColumns: 'repeat(auto-fit, minmax(200px, 1fr))',\n                  gap: '1rem'\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    style: {\n                      fontWeight: '500',\n                      color: '#059669',\n                      marginBottom: '0.5rem'\n                    },\n                    children: \"\\u2705 Strengths:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1127,\n                    columnNumber: 27\n                  }, this), criterion.feedbackLibrary.strengths.map((comment, idx) => /*#__PURE__*/_jsxDEV(\"button\", {\n                    onClick: () => addPredefinedFeedback(criterion.id, comment, 'strengths'),\n                    style: {\n                      display: 'block',\n                      width: '100%',\n                      marginBottom: '0.25rem',\n                      padding: '0.25rem 0.5rem',\n                      backgroundColor: '#f0fdf4',\n                      border: '1px solid #22c55e',\n                      borderRadius: '0.25rem',\n                      fontSize: '0.75rem',\n                      color: '#166534',\n                      cursor: 'pointer',\n                      textAlign: 'left'\n                    },\n                    children: [\"+ \", comment]\n                  }, idx, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1131,\n                    columnNumber: 29\n                  }, this))]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1126,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    style: {\n                      fontWeight: '500',\n                      color: '#dc2626',\n                      marginBottom: '0.5rem'\n                    },\n                    children: \"\\uD83D\\uDD04 Improvements:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1153,\n                    columnNumber: 27\n                  }, this), criterion.feedbackLibrary.improvements.map((comment, idx) => /*#__PURE__*/_jsxDEV(\"button\", {\n                    onClick: () => addPredefinedFeedback(criterion.id, comment, 'improvements'),\n                    style: {\n                      display: 'block',\n                      width: '100%',\n                      marginBottom: '0.25rem',\n                      padding: '0.25rem 0.5rem',\n                      backgroundColor: '#fef2f2',\n                      border: '1px solid #ef4444',\n                      borderRadius: '0.25rem',\n                      fontSize: '0.75rem',\n                      color: '#991b1b',\n                      cursor: 'pointer',\n                      textAlign: 'left'\n                    },\n                    children: [\"+ \", comment]\n                  }, idx, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1157,\n                    columnNumber: 29\n                  }, this))]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1152,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1121,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1107,\n              columnNumber: 21\n            }, this), aiSuggestions[criterion.id] && /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                background: '#f3e8ff',\n                border: '1px solid #8b5cf6',\n                borderRadius: '0.5rem',\n                padding: '1rem',\n                marginBottom: '1rem'\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n                style: {\n                  fontWeight: '600',\n                  color: '#6b21a8',\n                  marginBottom: '0.75rem'\n                },\n                children: \"\\uD83E\\uDD16 AI Suggestions:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1191,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  display: 'grid',\n                  gridTemplateColumns: 'repeat(auto-fit, minmax(200px, 1fr))',\n                  gap: '1rem'\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    style: {\n                      fontWeight: '500',\n                      color: '#059669',\n                      marginBottom: '0.5rem'\n                    },\n                    children: \"Strengths:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1204,\n                    columnNumber: 27\n                  }, this), aiSuggestions[criterion.id].strengths.map((comment, idx) => /*#__PURE__*/_jsxDEV(\"div\", {\n                    style: {\n                      fontSize: '0.75rem',\n                      marginBottom: '0.25rem'\n                    },\n                    children: [\"\\u2022 \", comment]\n                  }, idx, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1208,\n                    columnNumber: 29\n                  }, this))]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1203,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    style: {\n                      fontWeight: '500',\n                      color: '#dc2626',\n                      marginBottom: '0.5rem'\n                    },\n                    children: \"Improvements:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1214,\n                    columnNumber: 27\n                  }, this), aiSuggestions[criterion.id].improvements.map((comment, idx) => /*#__PURE__*/_jsxDEV(\"div\", {\n                    style: {\n                      fontSize: '0.75rem',\n                      marginBottom: '0.25rem'\n                    },\n                    children: [\"\\u2022 \", comment]\n                  }, idx, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1218,\n                    columnNumber: 29\n                  }, this))]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1213,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1198,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1184,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                marginTop: '1rem'\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                style: {\n                  display: 'block',\n                  fontSize: '0.875rem',\n                  fontWeight: '500',\n                  color: '#374151',\n                  marginBottom: '0.5rem'\n                },\n                children: [\"Specific Feedback for \", criterion.name, \":\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1229,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n                value: (currentGrading === null || currentGrading === void 0 ? void 0 : currentGrading.customComments) || '',\n                onChange: e => updateCriterionFeedback(criterion.id, e.target.value),\n                style: {\n                  width: '100%',\n                  padding: '0.75rem',\n                  border: '1px solid #d1d5db',\n                  borderRadius: '0.5rem',\n                  fontSize: '0.875rem',\n                  resize: 'vertical',\n                  minHeight: '80px'\n                },\n                rows: \"3\",\n                placeholder: \"Add specific feedback for this criterion...\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1238,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1228,\n              columnNumber: 19\n            }, this), (currentGrading === null || currentGrading === void 0 ? void 0 : currentGrading.selectedLevel) && /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                marginTop: '0.75rem',\n                padding: '0.75rem',\n                background: '#eff6ff',\n                borderRadius: '0.25rem',\n                border: '1px solid #bfdbfe'\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  fontSize: '0.875rem'\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"Selected Level:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1265,\n                  columnNumber: 25\n                }, this), \" \", (_loadedRubric$rubricL = loadedRubric.rubricLevels.find(l => l.level === currentGrading.selectedLevel)) === null || _loadedRubric$rubricL === void 0 ? void 0 : _loadedRubric$rubricL.name, ' ', \"(\", Math.round(criterion.maxPoints * ((_loadedRubric$rubricL2 = loadedRubric.rubricLevels.find(l => l.level === currentGrading.selectedLevel)) === null || _loadedRubric$rubricL2 === void 0 ? void 0 : _loadedRubric$rubricL2.multiplier)), \" pts)\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1264,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  fontSize: '0.875rem',\n                  color: '#374151',\n                  marginTop: '0.25rem'\n                },\n                children: ((_criterion$levels2 = criterion.levels) === null || _criterion$levels2 === void 0 ? void 0 : (_criterion$levels2$cu = _criterion$levels2[currentGrading.selectedLevel]) === null || _criterion$levels2$cu === void 0 ? void 0 : _criterion$levels2$cu.description) || ((_loadedRubric$rubricL3 = loadedRubric.rubricLevels.find(l => l.level === currentGrading.selectedLevel)) === null || _loadedRubric$rubricL3 === void 0 ? void 0 : _loadedRubric$rubricL3.description)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1268,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1257,\n              columnNumber: 21\n            }, this)]\n          }, criterion.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 944,\n            columnNumber: 17\n          }, this);\n        }), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginTop: '1.5rem',\n            padding: '1rem',\n            backgroundColor: '#f0f9ff',\n            borderRadius: '0.5rem',\n            border: '1px solid #0ea5e9'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            style: {\n              fontSize: '1.125rem',\n              fontWeight: '600',\n              color: '#0c4a6e',\n              marginBottom: '0.5rem'\n            },\n            children: \"\\uD83D\\uDCC8 Rubric Summary\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1290,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              display: 'grid',\n              gridTemplateColumns: 'repeat(auto-fit, minmax(200px, 1fr))',\n              gap: '1rem'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  fontSize: '0.875rem',\n                  color: '#64748b'\n                },\n                children: \"Raw Score:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1300,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  fontSize: '1.25rem',\n                  fontWeight: '600',\n                  color: '#0f172a'\n                },\n                children: [scoreData.rawScore, \" / \", maxPossibleScore]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1301,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1299,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  fontSize: '0.875rem',\n                  color: '#64748b'\n                },\n                children: \"Final Score:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1306,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  fontSize: '1.25rem',\n                  fontWeight: '600',\n                  color: '#059669'\n                },\n                children: [scoreData.finalScore, \" / \", maxPossibleScore]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1307,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1305,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  fontSize: '0.875rem',\n                  color: '#64748b'\n                },\n                children: \"Percentage:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1312,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  fontSize: '1.25rem',\n                  fontWeight: '600',\n                  color: '#7c3aed'\n                },\n                children: [Math.round(scoreData.finalScore / maxPossibleScore * 100), \"%\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1313,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1311,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1298,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1283,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 939,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 911,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        backgroundColor: '#ffffff',\n        border: '1px solid #d1d5db',\n        borderRadius: '0.75rem',\n        marginBottom: '1.5rem',\n        overflow: 'hidden'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          backgroundColor: '#fef3c7',\n          padding: '1rem',\n          borderBottom: '1px solid #d1d5db'\n        },\n        children: /*#__PURE__*/_jsxDEV(\"h3\", {\n          style: {\n            fontSize: '1.25rem',\n            fontWeight: '600',\n            color: '#92400e',\n            margin: 0\n          },\n          children: \"\\u23F0 Late Policy\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1336,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1331,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          padding: '1.5rem'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: 'grid',\n            gridTemplateColumns: 'repeat(auto-fit, minmax(120px, 1fr))',\n            gap: '0.5rem',\n            marginBottom: '1rem'\n          },\n          children: Object.entries(latePolicyLevels).map(([level, config]) => {\n            var _gradingData$latePoli3, _gradingData$latePoli4, _gradingData$latePoli5;\n            return /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => updateLatePolicy(level),\n              style: {\n                padding: '0.75rem',\n                borderRadius: '0.5rem',\n                border: `2px solid ${(gradingData === null || gradingData === void 0 ? void 0 : (_gradingData$latePoli3 = gradingData.latePolicy) === null || _gradingData$latePoli3 === void 0 ? void 0 : _gradingData$latePoli3.level) === level ? '#f59e0b' : '#d1d5db'}`,\n                backgroundColor: (gradingData === null || gradingData === void 0 ? void 0 : (_gradingData$latePoli4 = gradingData.latePolicy) === null || _gradingData$latePoli4 === void 0 ? void 0 : _gradingData$latePoli4.level) === level ? '#fbbf24' : '#ffffff',\n                color: (gradingData === null || gradingData === void 0 ? void 0 : (_gradingData$latePoli5 = gradingData.latePolicy) === null || _gradingData$latePoli5 === void 0 ? void 0 : _gradingData$latePoli5.level) === level ? '#ffffff' : '#374151',\n                fontSize: '0.875rem',\n                fontWeight: '500',\n                cursor: 'pointer',\n                textAlign: 'center',\n                transition: 'all 0.2s ease'\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  fontWeight: '600'\n                },\n                children: level.charAt(0).toUpperCase() + level.slice(1)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1369,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  fontSize: '0.75rem',\n                  marginTop: '0.25rem'\n                },\n                children: [Math.round(config.multiplier * 100), \"%\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1372,\n                columnNumber: 17\n              }, this)]\n            }, level, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1353,\n              columnNumber: 15\n            }, this);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1346,\n          columnNumber: 11\n        }, this), (gradingData === null || gradingData === void 0 ? void 0 : (_gradingData$latePoli6 = gradingData.latePolicy) === null || _gradingData$latePoli6 === void 0 ? void 0 : _gradingData$latePoli6.level) !== 'none' && /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            padding: '0.75rem',\n            backgroundColor: '#fef3c7',\n            borderRadius: '0.25rem',\n            fontSize: '0.875rem',\n            color: '#92400e'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Applied:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1386,\n            columnNumber: 15\n          }, this), \" \", latePolicyLevels[gradingData.latePolicy.level].description]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1379,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1345,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1324,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        backgroundColor: '#ffffff',\n        border: '1px solid #d1d5db',\n        borderRadius: '0.75rem',\n        marginBottom: '1.5rem',\n        overflow: 'hidden'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          backgroundColor: '#f3f4f6',\n          padding: '1rem',\n          borderBottom: '1px solid #d1d5db',\n          display: 'flex',\n          justifyContent: 'space-between',\n          alignItems: 'center',\n          cursor: 'pointer'\n        },\n        onClick: () => toggleSection('feedback'),\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          style: {\n            fontSize: '1.25rem',\n            fontWeight: '600',\n            color: '#374151',\n            margin: 0\n          },\n          children: \"\\uD83D\\uDCAC General Feedback\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1412,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          style: {\n            fontSize: '1.5rem',\n            color: '#6b7280'\n          },\n          children: showFeedbackSection ? '−' : '+'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1415,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1400,\n        columnNumber: 9\n      }, this), showFeedbackSection && /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          padding: '1.5rem'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginBottom: '1.5rem'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            style: {\n              display: 'block',\n              fontSize: '0.875rem',\n              fontWeight: '500',\n              color: '#374151',\n              marginBottom: '0.5rem'\n            },\n            children: \"General Comments:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1423,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n            value: (gradingData === null || gradingData === void 0 ? void 0 : (_gradingData$feedback4 = gradingData.feedback) === null || _gradingData$feedback4 === void 0 ? void 0 : _gradingData$feedback4.general) || '',\n            onChange: e => updateFeedback('general', e.target.value),\n            style: {\n              width: '100%',\n              padding: '0.75rem',\n              border: '1px solid #d1d5db',\n              borderRadius: '0.5rem',\n              fontSize: '0.875rem',\n              resize: 'vertical',\n              minHeight: '100px'\n            },\n            placeholder: \"Provide overall feedback on the submission...\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1432,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1422,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: 'grid',\n            gridTemplateColumns: 'repeat(auto-fit, minmax(300px, 1fr))',\n            gap: '1.5rem'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              style: {\n                display: 'block',\n                fontSize: '0.875rem',\n                fontWeight: '500',\n                color: '#059669',\n                marginBottom: '0.5rem'\n              },\n              children: \"\\u2705 Strengths:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1454,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n              value: (gradingData === null || gradingData === void 0 ? void 0 : (_gradingData$feedback5 = gradingData.feedback) === null || _gradingData$feedback5 === void 0 ? void 0 : _gradingData$feedback5.strengths) || '',\n              onChange: e => updateFeedback('strengths', e.target.value),\n              style: {\n                width: '100%',\n                padding: '0.75rem',\n                border: '1px solid #10b981',\n                borderRadius: '0.5rem',\n                fontSize: '0.875rem',\n                resize: 'vertical',\n                minHeight: '80px'\n              },\n              placeholder: \"What did the student do well?\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1463,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1453,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              style: {\n                display: 'block',\n                fontSize: '0.875rem',\n                fontWeight: '500',\n                color: '#dc2626',\n                marginBottom: '0.5rem'\n              },\n              children: \"\\uD83D\\uDD04 Areas for Improvement:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1480,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n              value: (gradingData === null || gradingData === void 0 ? void 0 : (_gradingData$feedback6 = gradingData.feedback) === null || _gradingData$feedback6 === void 0 ? void 0 : _gradingData$feedback6.improvements) || '',\n              onChange: e => updateFeedback('improvements', e.target.value),\n              style: {\n                width: '100%',\n                padding: '0.75rem',\n                border: '1px solid #ef4444',\n                borderRadius: '0.5rem',\n                fontSize: '0.875rem',\n                resize: 'vertical',\n                minHeight: '80px'\n              },\n              placeholder: \"What could be improved?\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1489,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1479,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1448,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1421,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1393,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        backgroundColor: '#ffffff',\n        border: '1px solid #d1d5db',\n        borderRadius: '0.75rem',\n        marginBottom: '1.5rem',\n        overflow: 'hidden'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          backgroundColor: '#f3f4f6',\n          padding: '1rem',\n          borderBottom: '1px solid #d1d5db',\n          display: 'flex',\n          justifyContent: 'space-between',\n          alignItems: 'center',\n          cursor: 'pointer'\n        },\n        onClick: () => toggleSection('attachments'),\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          style: {\n            fontSize: '1.25rem',\n            fontWeight: '600',\n            color: '#374151',\n            margin: 0\n          },\n          children: \"\\uD83D\\uDCCE Attachments\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1529,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          style: {\n            fontSize: '1.5rem',\n            color: '#6b7280'\n          },\n          children: showAttachmentsSection ? '−' : '+'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1532,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1517,\n        columnNumber: 9\n      }, this), showAttachmentsSection && /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          padding: '1.5rem'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          ref: dropZoneRef,\n          onDragOver: handleDragOver,\n          onDragLeave: handleDragLeave,\n          onDrop: handleDrop,\n          style: {\n            border: `2px dashed ${dragOver ? '#3b82f6' : '#d1d5db'}`,\n            borderRadius: '0.5rem',\n            padding: '2rem',\n            textAlign: 'center',\n            backgroundColor: dragOver ? '#eff6ff' : '#f9fafb',\n            marginBottom: '1rem',\n            cursor: 'pointer',\n            transition: 'all 0.2s ease'\n          },\n          onClick: () => {\n            var _fileInputRef$current;\n            return (_fileInputRef$current = fileInputRef.current) === null || _fileInputRef$current === void 0 ? void 0 : _fileInputRef$current.click();\n          },\n          children: [/*#__PURE__*/_jsxDEV(Upload, {\n            size: 48,\n            style: {\n              margin: '0 auto',\n              marginBottom: '1rem',\n              color: '#6b7280'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1557,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            style: {\n              fontSize: '1rem',\n              color: '#374151',\n              marginBottom: '0.5rem'\n            },\n            children: dragOver ? 'Drop files here!' : 'Drag & drop files here or click to browse'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1558,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            style: {\n              fontSize: '0.875rem',\n              color: '#6b7280'\n            },\n            children: \"Supports images, documents, and other file types\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1561,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1540,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          ref: fileInputRef,\n          type: \"file\",\n          multiple: true,\n          onChange: e => handleFileUpload(e.target.files),\n          style: {\n            display: 'none'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1566,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: 'flex',\n            gap: '0.5rem',\n            marginBottom: '1rem'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            value: pendingAttachment,\n            onChange: e => setPendingAttachment(e.target.value),\n            placeholder: \"Or add attachment name/description\",\n            style: {\n              flex: 1,\n              padding: '0.75rem',\n              border: '1px solid #d1d5db',\n              borderRadius: '0.5rem',\n              fontSize: '0.875rem'\n            },\n            onKeyPress: e => {\n              if (e.key === 'Enter' && pendingAttachment.trim()) {\n                setGradingFormData(prev => ({\n                  ...prev,\n                  attachments: [...(prev.attachments || []), {\n                    id: Date.now(),\n                    name: pendingAttachment.trim(),\n                    addedDate: new Date().toISOString(),\n                    type: 'text',\n                    size: 0\n                  }]\n                }));\n                setPendingAttachment('');\n              }\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1580,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => {\n              if (pendingAttachment.trim()) {\n                setGradingFormData(prev => ({\n                  ...prev,\n                  attachments: [...(prev.attachments || []), {\n                    id: Date.now(),\n                    name: pendingAttachment.trim(),\n                    addedDate: new Date().toISOString(),\n                    type: 'text',\n                    size: 0\n                  }]\n                }));\n                setPendingAttachment('');\n              }\n            },\n            style: {\n              padding: '0.75rem 1rem',\n              backgroundColor: '#3b82f6',\n              color: '#ffffff',\n              border: 'none',\n              borderRadius: '0.5rem',\n              fontSize: '0.875rem',\n              fontWeight: '500',\n              cursor: 'pointer'\n            },\n            children: \"Add\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1608,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1575,\n          columnNumber: 13\n        }, this), (gradingData === null || gradingData === void 0 ? void 0 : gradingData.attachments) && gradingData.attachments.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            style: {\n              fontSize: '1rem',\n              fontWeight: '600',\n              color: '#374151',\n              marginBottom: '0.75rem'\n            },\n            children: \"Current Attachments:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1642,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              display: 'grid',\n              gridTemplateColumns: 'repeat(auto-fit, minmax(200px, 1fr))',\n              gap: '1rem'\n            },\n            children: gradingData.attachments.map(attachment => /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                border: '1px solid #e5e7eb',\n                borderRadius: '0.5rem',\n                padding: '1rem',\n                backgroundColor: '#f9fafb',\n                position: 'relative'\n              },\n              children: [attachment.base64Data ? /*#__PURE__*/_jsxDEV(\"img\", {\n                src: attachment.base64Data,\n                alt: attachment.name,\n                style: {\n                  width: '100%',\n                  height: '120px',\n                  objectFit: 'cover',\n                  borderRadius: '0.25rem',\n                  marginBottom: '0.5rem',\n                  cursor: 'pointer'\n                },\n                onClick: () => {\n                  // Create modal for image viewing\n                  const modal = document.createElement('div');\n                  modal.style.cssText = `\n                              position: fixed; top: 0; left: 0; width: 100%; height: 100%;\n                              background: rgba(0,0,0,0.8); z-index: 1000; display: flex;\n                              align-items: center; justify-content: center; cursor: pointer;\n                            `;\n                  const img = document.createElement('img');\n                  img.src = attachment.base64Data;\n                  img.style.cssText = 'max-width: 90%; max-height: 90%; object-fit: contain;';\n                  modal.appendChild(img);\n                  modal.onclick = () => document.body.removeChild(modal);\n                  document.body.appendChild(modal);\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1667,\n                columnNumber: 25\n              }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  width: '100%',\n                  height: '120px',\n                  backgroundColor: '#e5e7eb',\n                  borderRadius: '0.25rem',\n                  display: 'flex',\n                  alignItems: 'center',\n                  justifyContent: 'center',\n                  marginBottom: '0.5rem',\n                  fontSize: '2rem'\n                },\n                children: \"\\uD83D\\uDCC4\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1695,\n                columnNumber: 25\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  fontWeight: '500',\n                  color: '#374151',\n                  marginBottom: '0.25rem'\n                },\n                children: attachment.name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1709,\n                columnNumber: 23\n              }, this), attachment.size > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  fontSize: '0.75rem',\n                  color: '#6b7280',\n                  marginBottom: '0.5rem'\n                },\n                children: [(attachment.size / 1024).toFixed(1), \" KB\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1713,\n                columnNumber: 25\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => removeAttachment(attachment.id),\n                style: {\n                  position: 'absolute',\n                  top: '0.5rem',\n                  right: '0.5rem',\n                  width: '24px',\n                  height: '24px',\n                  backgroundColor: '#ef4444',\n                  color: '#ffffff',\n                  border: 'none',\n                  borderRadius: '50%',\n                  fontSize: '0.75rem',\n                  cursor: 'pointer',\n                  display: 'flex',\n                  alignItems: 'center',\n                  justifyContent: 'center'\n                },\n                children: \"\\xD7\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1717,\n                columnNumber: 23\n              }, this)]\n            }, attachment.id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1656,\n              columnNumber: 21\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1650,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1641,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1538,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1510,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        backgroundColor: '#ffffff',\n        border: '1px solid #d1d5db',\n        borderRadius: '0.75rem',\n        marginBottom: '1.5rem',\n        overflow: 'hidden'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          backgroundColor: '#f3f4f6',\n          padding: '1rem',\n          borderBottom: '1px solid #d1d5db',\n          display: 'flex',\n          justifyContent: 'space-between',\n          alignItems: 'center',\n          cursor: 'pointer'\n        },\n        onClick: () => toggleSection('video'),\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          style: {\n            fontSize: '1.25rem',\n            fontWeight: '600',\n            color: '#374151',\n            margin: 0\n          },\n          children: \"\\uD83C\\uDFA5 Video Links\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1767,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          style: {\n            fontSize: '1.5rem',\n            color: '#6b7280'\n          },\n          children: showVideoSection ? '−' : '+'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1770,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1755,\n        columnNumber: 9\n      }, this), showVideoSection && /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          padding: '1.5rem'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: 'grid',\n            gridTemplateColumns: '2fr 1fr auto',\n            gap: '0.5rem',\n            marginBottom: '1rem'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"url\",\n            value: pendingVideoLink,\n            onChange: e => setPendingVideoLink(e.target.value),\n            placeholder: \"Video URL (YouTube, Vimeo, etc.)\",\n            style: {\n              padding: '0.75rem',\n              border: '1px solid #d1d5db',\n              borderRadius: '0.5rem',\n              fontSize: '0.875rem'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1783,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            value: videoTitle,\n            onChange: e => setVideoTitle(e.target.value),\n            placeholder: \"Video title (optional)\",\n            style: {\n              padding: '0.75rem',\n              border: '1px solid #d1d5db',\n              borderRadius: '0.5rem',\n              fontSize: '0.875rem'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1795,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: addVideoLink,\n            style: {\n              padding: '0.75rem 1rem',\n              backgroundColor: '#ef4444',\n              color: '#ffffff',\n              border: 'none',\n              borderRadius: '0.5rem',\n              fontSize: '0.875rem',\n              fontWeight: '500',\n              cursor: 'pointer'\n            },\n            children: \"Add\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1807,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1777,\n          columnNumber: 13\n        }, this), (gradingData === null || gradingData === void 0 ? void 0 : gradingData.videoLinks) && gradingData.videoLinks.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            style: {\n              fontSize: '1rem',\n              fontWeight: '600',\n              color: '#374151',\n              marginBottom: '0.75rem'\n            },\n            children: \"Current Video Links:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1826,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              display: 'flex',\n              flexDirection: 'column',\n              gap: '0.5rem'\n            },\n            children: gradingData.videoLinks.map(link => /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                display: 'flex',\n                justifyContent: 'space-between',\n                alignItems: 'center',\n                padding: '0.75rem',\n                backgroundColor: '#f9fafb',\n                borderRadius: '0.375rem',\n                border: '1px solid #e5e7eb'\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  flex: 1\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  style: {\n                    fontWeight: '500',\n                    color: '#374151',\n                    marginBottom: '0.25rem'\n                  },\n                  children: link.title\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1849,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n                  href: link.url,\n                  target: \"_blank\",\n                  rel: \"noopener noreferrer\",\n                  style: {\n                    color: '#3b82f6',\n                    textDecoration: 'underline',\n                    fontSize: '0.875rem',\n                    wordBreak: 'break-all'\n                  },\n                  children: link.url\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1852,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  style: {\n                    fontSize: '0.75rem',\n                    color: '#6b7280',\n                    marginTop: '0.25rem'\n                  },\n                  children: [\"Added: \", new Date(link.addedDate).toLocaleDateString()]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1865,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1848,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => removeVideoLink(link.id),\n                style: {\n                  padding: '0.25rem 0.5rem',\n                  backgroundColor: '#ef4444',\n                  color: '#ffffff',\n                  border: 'none',\n                  borderRadius: '0.25rem',\n                  fontSize: '0.75rem',\n                  cursor: 'pointer',\n                  marginLeft: '1rem'\n                },\n                children: \"Remove\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1869,\n                columnNumber: 23\n              }, this)]\n            }, link.id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1836,\n              columnNumber: 21\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1834,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1825,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1776,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1748,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        backgroundColor: '#ffffff',\n        border: '1px solid #d1d5db',\n        borderRadius: '0.75rem',\n        marginBottom: '1.5rem',\n        overflow: 'hidden'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          backgroundColor: '#f3f4f6',\n          padding: '1rem',\n          borderBottom: '1px solid #d1d5db'\n        },\n        children: /*#__PURE__*/_jsxDEV(\"h3\", {\n          style: {\n            fontSize: '1.25rem',\n            fontWeight: '600',\n            color: '#374151',\n            margin: 0\n          },\n          children: \"\\uD83D\\uDCC4 Export Options\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1906,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1901,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          padding: '1.5rem'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: 'grid',\n            gridTemplateColumns: 'repeat(auto-fit, minmax(200px, 1fr))',\n            gap: '1rem'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: exportToHTML,\n            style: {\n              display: 'flex',\n              alignItems: 'center',\n              justifyContent: 'center',\n              gap: '0.5rem',\n              padding: '1rem',\n              backgroundColor: '#3b82f6',\n              color: '#ffffff',\n              border: 'none',\n              borderRadius: '0.5rem',\n              fontSize: '0.875rem',\n              fontWeight: '500',\n              cursor: 'pointer'\n            },\n            children: [/*#__PURE__*/_jsxDEV(FileText, {\n              size: 20\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1938,\n              columnNumber: 15\n            }, this), \"Export as HTML\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1921,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: exportToPDF,\n            style: {\n              display: 'flex',\n              alignItems: 'center',\n              justifyContent: 'center',\n              gap: '0.5rem',\n              padding: '1rem',\n              backgroundColor: '#ef4444',\n              color: '#ffffff',\n              border: 'none',\n              borderRadius: '0.5rem',\n              fontSize: '0.875rem',\n              fontWeight: '500',\n              cursor: 'pointer'\n            },\n            children: [/*#__PURE__*/_jsxDEV(FileDown, {\n              size: 20\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1958,\n              columnNumber: 15\n            }, this), \"Export as PDF\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1941,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1916,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          style: {\n            fontSize: '0.75rem',\n            color: '#6b7280',\n            marginTop: '1rem',\n            textAlign: 'center'\n          },\n          children: \"Export creates complete grade reports with rubric details, feedback, and attachments\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1962,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1915,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1894,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        position: 'sticky',\n        bottom: '1rem',\n        backgroundColor: '#ffffff',\n        border: '1px solid #d1d5db',\n        borderRadius: '0.75rem',\n        padding: '1.5rem',\n        boxShadow: '0 10px 15px -3px rgba(0, 0, 0, 0.1)'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: 'grid',\n          gridTemplateColumns: 'auto 1fr auto auto',\n          gap: '1rem',\n          alignItems: 'center'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handlePreviousStudent,\n          disabled: !(gradingSession !== null && gradingSession !== void 0 && gradingSession.active) || (gradingSession === null || gradingSession === void 0 ? void 0 : gradingSession.currentStudentIndex) === 0,\n          style: {\n            display: 'flex',\n            alignItems: 'center',\n            gap: '0.5rem',\n            padding: '0.75rem 1rem',\n            backgroundColor: gradingSession !== null && gradingSession !== void 0 && gradingSession.active && (gradingSession === null || gradingSession === void 0 ? void 0 : gradingSession.currentStudentIndex) > 0 ? '#6b7280' : '#d1d5db',\n            color: '#ffffff',\n            border: 'none',\n            borderRadius: '0.5rem',\n            fontSize: '0.875rem',\n            fontWeight: '500',\n            cursor: gradingSession !== null && gradingSession !== void 0 && gradingSession.active && (gradingSession === null || gradingSession === void 0 ? void 0 : gradingSession.currentStudentIndex) > 0 ? 'pointer' : 'not-allowed'\n          },\n          children: [/*#__PURE__*/_jsxDEV(ArrowLeft, {\n            size: 16\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2007,\n            columnNumber: 13\n          }, this), \"Previous\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1990,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            textAlign: 'center'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              fontSize: '0.875rem',\n              color: '#6b7280'\n            },\n            children: [\"Current Score: \", /*#__PURE__*/_jsxDEV(\"strong\", {\n              children: [scoreData.finalScore, \" / \", maxPossibleScore]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2014,\n              columnNumber: 30\n            }, this), scoreData.penaltyApplied && /*#__PURE__*/_jsxDEV(\"span\", {\n              style: {\n                color: '#f59e0b',\n                marginLeft: '0.5rem'\n              },\n              children: \"(Late penalty applied)\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2016,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2013,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              fontSize: '0.75rem',\n              color: '#9ca3af',\n              marginTop: '0.25rem'\n            },\n            children: [Math.round(scoreData.finalScore / maxPossibleScore * 100), \"% | Grade: \", scoreData.finalScore >= maxPossibleScore * 0.9 ? 'A' : scoreData.finalScore >= maxPossibleScore * 0.8 ? 'B' : scoreData.finalScore >= maxPossibleScore * 0.7 ? 'C' : scoreData.finalScore >= maxPossibleScore * 0.6 ? 'D' : 'F']\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2021,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2012,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleNextStudentAsDraft,\n          style: {\n            display: 'flex',\n            alignItems: 'center',\n            gap: '0.5rem',\n            padding: '0.75rem 1.5rem',\n            backgroundColor: '#f59e0b',\n            color: '#ffffff',\n            border: 'none',\n            borderRadius: '0.5rem',\n            fontSize: '0.875rem',\n            fontWeight: '500',\n            cursor: 'pointer'\n          },\n          children: [/*#__PURE__*/_jsxDEV(Save, {\n            size: 16\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2047,\n            columnNumber: 13\n          }, this), \"Save as Draft & Continue\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2031,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleNextStudentAsFinal,\n          style: {\n            display: 'flex',\n            alignItems: 'center',\n            gap: '0.5rem',\n            padding: '0.75rem 1.5rem',\n            backgroundColor: '#059669',\n            color: '#ffffff',\n            border: 'none',\n            borderRadius: '0.5rem',\n            fontSize: '0.875rem',\n            fontWeight: '500',\n            cursor: 'pointer'\n          },\n          children: [/*#__PURE__*/_jsxDEV(CheckCircle, {\n            size: 16\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2068,\n            columnNumber: 13\n          }, this), \"Finalize & Continue\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2052,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1983,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginTop: '1rem',\n          display: 'flex',\n          justifyContent: 'center',\n          gap: '1rem',\n          flexWrap: 'wrap'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => {\n            if (currentStudent !== null && currentStudent !== void 0 && currentStudent.id) {\n              saveDraft(currentStudent.id, gradingData);\n              alert('Draft saved successfully!');\n            }\n          },\n          style: {\n            display: 'flex',\n            alignItems: 'center',\n            gap: '0.25rem',\n            padding: '0.5rem 1rem',\n            backgroundColor: '#3b82f6',\n            color: '#ffffff',\n            border: 'none',\n            borderRadius: '0.375rem',\n            fontSize: '0.75rem',\n            cursor: 'pointer'\n          },\n          children: [/*#__PURE__*/_jsxDEV(Save, {\n            size: 14\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2101,\n            columnNumber: 13\n          }, this), \"Save Draft Only\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2081,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setActiveTab('class-manager'),\n          style: {\n            display: 'flex',\n            alignItems: 'center',\n            gap: '0.25rem',\n            padding: '0.5rem 1rem',\n            backgroundColor: '#6b7280',\n            color: '#ffffff',\n            border: 'none',\n            borderRadius: '0.375rem',\n            fontSize: '0.75rem',\n            cursor: 'pointer'\n          },\n          children: [/*#__PURE__*/_jsxDEV(Users, {\n            size: 14\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2120,\n            columnNumber: 13\n          }, this), \"Back to Class Manager\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2105,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => {\n            clearGradingFormData();\n            alert('Form cleared! Starting fresh.');\n          },\n          style: {\n            display: 'flex',\n            alignItems: 'center',\n            gap: '0.25rem',\n            padding: '0.5rem 1rem',\n            backgroundColor: '#dc2626',\n            color: '#ffffff',\n            border: 'none',\n            borderRadius: '0.375rem',\n            fontSize: '0.75rem',\n            cursor: 'pointer'\n          },\n          children: [/*#__PURE__*/_jsxDEV(RotateCcw, {\n            size: 14\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2142,\n            columnNumber: 13\n          }, this), \"Clear Form\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2124,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 2074,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1974,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 829,\n    columnNumber: 5\n  }, this);\n};\n_s(GradingTemplate, \"1SVAqxTO34Ve62UtVIWsERy84z0=\", false, function () {\n  return [useAssessment];\n});\n_c = GradingTemplate;\nexport default GradingTemplate;\nvar _c;\n$RefreshReg$(_c, \"GradingTemplate\");","map":{"version":3,"names":["React","useState","useRef","useEffect","useCallback","Download","Upload","FileText","Video","Plus","X","Save","FileDown","Bot","ChevronDown","ChevronUp","ArrowLeft","ArrowRight","Users","PlayCircle","CheckCircle","Clock","SkipForward","SkipBack","Pause","RotateCcw","useAssessment","jsxDEV","_jsxDEV","latePolicyLevels","none","multiplier","description","minor","moderate","major","severe","sampleRubric","assignmentInfo","title","weight","passingThreshold","totalPoints","rubricLevels","level","name","color","criteria","id","maxPoints","levels","incomplete","pointRange","unacceptable","developing","acceptable","emerging","accomplished","exceptional","feedbackLibrary","strengths","improvements","general","GradingTemplate","_s","_gradingData$assignme5","_sharedCourseDetails$","_sharedCourseDetails$2","_sharedCourseDetails$3","_sharedCourseDetails$4","_sharedCourseDetails$5","_gradingData$latePoli6","_gradingData$feedback4","_gradingData$feedback5","_gradingData$feedback6","sharedRubric","sharedCourseDetails","setSharedCourseDetails","gradingData","setGradingFormData","updateStudentInfo","updateCourseInfo","updateAssignmentInfo","updateRubricGrading","clearGradingFormData","classList","setClassList","currentStudent","setCurrentStudent","saveDraft","loadDraft","saveFinalGrade","loadFinalGrade","finalGrades","getGradeStatus","gradingSession","setGradingSession","updateGradingSession","initializeGradingSession","nextStudentInSession","previousStudentInSession","setActiveTab","showComments","setShowComments","showRubricSection","setShowRubricSection","showFeedbackSection","setShowFeedbackSection","showAttachmentsSection","setShowAttachmentsSection","showVideoSection","setShowVideoSection","showAISection","setShowAISection","showRubricComments","setShowRubricComments","pendingAttachment","setPendingAttachment","pendingVideoLink","setPendingVideoLink","videoTitle","setVideoTitle","criterionComments","setCriterionComments","aiSuggestions","setAiSuggestions","isGeneratingAI","setIsGeneratingAI","dragOver","setDragOver","fileInputRef","dropZoneRef","loadedRubric","console","log","gradeStatus","savedData","_savedData$feedback","_savedData$feedback2","_savedData$feedback3","_savedData$attachment","_savedData$videoLinks","_savedData$latePolicy","prev","student","Object","keys","rubricGrading","length","feedback","attachments","videoLinks","latePolicy","penaltyApplied","renderFormattedContent","htmlContent","textContent","replace","trim","calculateTotalScore","_gradingData$latePoli","_gradingData$latePoli2","rawScore","values","reduce","total","grading","criterion","find","c","criterionId","selectedLevel","l","latePolicyLevel","finalScore","Math","round","latePolicyDescription","updateLatePolicy","prevData","toggleRubricComments","toggleSection","section","updateFeedback","field","value","updateCriterionFeedback","comments","_prev$rubricGrading","customComments","addPredefinedFeedback","comment","type","_gradingData$rubricGr","currentGrading","currentComments","prefix","newComment","newComments","handleFileUpload","files","newAttachments","Array","from","map","file","Date","now","random","size","Promise","all","attachment","resolve","startsWith","reader","FileReader","onload","e","base64Data","target","result","readAsDataURL","then","processedAttachments","removeAttachment","_prev$attachments","filter","att","addVideoLink","url","addedDate","toISOString","removeVideoLink","linkId","_prev$videoLinks","link","handleDragOver","preventDefault","handleDragLeave","currentTarget","contains","relatedTarget","handleDrop","dataTransfer","generateAIFeedback","setTimeout","mockFeedback","toLowerCase","overall","error","exportToHTML","_gradingData$assignme","_gradingData$student","_gradingData$student2","_gradingData$student3","_gradingData$course","_gradingData$course2","_gradingData$assignme2","_gradingData$assignme3","_gradingData$feedback","_gradingData$feedback2","_gradingData$feedback3","_gradingData$student4","_gradingData$assignme4","scoreCalculation","totalScore","sum","assignment","percentage","toFixed","currentDate","toLocaleDateString","weekday","year","month","day","attachmentsHTML","index","join","videoLinksHTML","email","course","code","dueDate","_gradingData$rubricGr2","points","htmlBlob","Blob","URL","createObjectURL","document","createElement","href","download","click","revokeObjectURL","exportToPDF","alert","handleNextStudentAsDraft","success","handleNextStudentAsFinal","handlePreviousStudent","maxPossibleScore","scoreData","style","maxWidth","margin","padding","backgroundColor","minHeight","children","marginBottom","paddingBottom","borderBottom","fontSize","fontWeight","fileName","_jsxFileName","lineNumber","columnNumber","display","justifyContent","alignItems","borderRadius","marginTop","textAlign","currentStudentIndex","totalStudents","border","overflow","cursor","onClick","_gradingData$rubricGr3","_loadedRubric$rubricL","_loadedRubric$rubricL2","_criterion$levels2","_criterion$levels2$cu","_loadedRubric$rubricL3","flex","marginLeft","gap","background","textDecoration","disabled","opacity","gridTemplateColumns","isSelected","btnStyle","transition","transform","boxShadow","stopPropagation","_criterion$levels","_criterion$levels$lev","idx","width","onChange","resize","rows","placeholder","entries","config","_gradingData$latePoli3","_gradingData$latePoli4","_gradingData$latePoli5","charAt","toUpperCase","slice","ref","onDragOver","onDragLeave","onDrop","_fileInputRef$current","current","multiple","onKeyPress","key","position","src","alt","height","objectFit","modal","cssText","img","appendChild","onclick","body","removeChild","top","right","flexDirection","rel","wordBreak","bottom","active","flexWrap","_c","$RefreshReg$"],"sources":["C:/local clones/rubric-creation-app/src/components/GradingTemplate.js"],"sourcesContent":["import React, { useState, useRef, useEffect, useCallback } from 'react';\r\nimport {\r\n  Download, Upload, FileText, Video, Plus, X, Save, FileDown, Bot,\r\n  ChevronDown, ChevronUp, ArrowLeft, ArrowRight, Users, PlayCircle,\r\n  CheckCircle, Clock, SkipForward, SkipBack, Pause, RotateCcw\r\n} from 'lucide-react';\r\nimport { useAssessment } from './SharedContext';\r\n\r\n// Late policy levels configuration\r\nconst latePolicyLevels = {\r\n  none: { multiplier: 1.0, description: 'No late penalty applied' },\r\n  minor: { multiplier: 0.95, description: '5% penalty for minor lateness' },\r\n  moderate: { multiplier: 0.85, description: '15% penalty for moderate lateness' },\r\n  major: { multiplier: 0.7, description: '30% penalty for major lateness' },\r\n  severe: { multiplier: 0.5, description: '50% penalty for severe lateness' }\r\n};\r\n\r\n// Sample comprehensive rubric from the PDF\r\nconst sampleRubric = {\r\n  assignmentInfo: {\r\n    title: \"Digital Portfolio Project - Final Showcase\",\r\n    description: \"Students will create a comprehensive digital portfolio showcasing their best work from the semester, including 5-7 completed projects with professional presentation, artist statements, and technical documentation. The portfolio must demonstrate growth, technical proficiency, and creative vision suitable for industry presentation.\",\r\n    weight: 30,\r\n    passingThreshold: 65,\r\n    totalPoints: 120\r\n  },\r\n  rubricLevels: [\r\n    { level: 'incomplete', name: 'Incomplete', description: 'No submission or unusable', color: '#95a5a6', multiplier: 0 },\r\n    { level: 'unacceptable', name: 'Unacceptable', description: 'Below minimum standards', color: '#e74c3c', multiplier: 0.3 },\r\n    { level: 'developing', name: 'Developing', description: 'Approaching standards', color: '#f39c12', multiplier: 0.55 },\r\n    { level: 'acceptable', name: 'Acceptable (PASS)', description: 'Meets minimum standards', color: '#27ae60', multiplier: 0.7 },\r\n    { level: 'emerging', name: 'Emerging', description: 'Above standard expectations', color: '#2980b9', multiplier: 0.82 },\r\n    { level: 'accomplished', name: 'Accomplished', description: 'Strong professional quality', color: '#16a085', multiplier: 0.92 },\r\n    { level: 'exceptional', name: 'Exceptional', description: 'Outstanding professional quality', color: '#8e44ad', multiplier: 1.0 }\r\n  ],\r\n  criteria: [\r\n    {\r\n      id: 'technical-proficiency',\r\n      name: 'Technical Proficiency & Craft',\r\n      description: 'Demonstration of technical skills, software mastery, and attention to detail in execution',\r\n      maxPoints: 35,\r\n      weight: 29,\r\n      levels: {\r\n        incomplete: { description: 'No technical work submitted or files corrupted/unusable.', pointRange: '0' },\r\n        unacceptable: { description: 'Severe technical issues: poor resolution, improper file formats, broken links, or significant software handling problems that interfere with viewing work.', pointRange: '8-12' },\r\n        developing: { description: 'Basic technical competency shown but with noticeable issues: inconsistent quality, some resolution problems, or workflow inefficiencies. Software use shows beginner-level understanding.', pointRange: '16-21' },\r\n        acceptable: { description: 'Solid technical foundation with appropriate file formats, good resolution, and functional navigation. Demonstrates competent use of course software with minimal technical distractions.', pointRange: '22-26' },\r\n        emerging: { description: 'Strong technical execution with sophisticated understanding of software capabilities, proper file management, and polished presentation. Shows advanced workflow knowledge.', pointRange: '27-29' },\r\n        accomplished: { description: 'Excellent technical mastery demonstrating advanced software skills, innovative use of tools, and professional-grade execution that enhances the overall portfolio presentation.', pointRange: '30-32' },\r\n        exceptional: { description: 'Outstanding technical excellence showing mastery that exceeds course expectations, innovative problem-solving, and techniques that demonstrate readiness for professional practice.', pointRange: '33-35' }\r\n      },\r\n      feedbackLibrary: {\r\n        strengths: [\r\n          'Excellent technical execution',\r\n          'Advanced software proficiency demonstrated',\r\n          'Professional file management and organization',\r\n          'Innovative use of tools and techniques',\r\n          'High attention to technical detail'\r\n        ],\r\n        improvements: [\r\n          'Improve file resolution and formats',\r\n          'Work on software efficiency and workflow',\r\n          'Address technical consistency issues',\r\n          'Enhance navigation and functionality',\r\n          'Practice advanced software techniques'\r\n        ],\r\n        general: [\r\n          'Technical skills are developing appropriately',\r\n          'Shows good understanding of course software',\r\n          'Professional technical standards maintained'\r\n        ]\r\n      }\r\n    },\r\n    {\r\n      id: 'creative-vision',\r\n      name: 'Creative Vision & Conceptual Development',\r\n      description: 'Evidence of original thinking, creative problem-solving, and conceptual depth in project development',\r\n      maxPoints: 30,\r\n      weight: 25,\r\n      levels: {\r\n        incomplete: { description: 'No evidence of creative development or conceptual thinking.', pointRange: '0' },\r\n        unacceptable: { description: 'Limited creativity with derivative or superficial concepts. Little evidence of original thinking or creative problem-solving.', pointRange: '7-10' },\r\n        developing: { description: 'Some creative elements present but concepts lack depth or originality. Beginning to show personal voice but needs further development.', pointRange: '14-18' },\r\n        acceptable: { description: 'Good creative foundation with evidence of original thinking and personal artistic voice. Concepts are well-developed and show creative problem-solving.', pointRange: '19-22' },\r\n        emerging: { description: 'Strong creative vision with sophisticated conceptual development. Shows unique perspective and innovative approaches to creative challenges.', pointRange: '23-25' },\r\n        accomplished: { description: 'Excellent creative mastery with compelling original concepts that demonstrate advanced creative thinking and artistic maturity.', pointRange: '26-28' },\r\n        exceptional: { description: 'Outstanding creative excellence with innovative concepts that push boundaries and demonstrate exceptional artistic vision and creative leadership.', pointRange: '29-30' }\r\n      },\r\n      feedbackLibrary: {\r\n        strengths: [\r\n          'Strong creative vision evident',\r\n          'Innovative conceptual approach',\r\n          'Unique artistic perspective shown',\r\n          'Excellent creative problem-solving',\r\n          'Compelling original concepts'\r\n        ],\r\n        improvements: [\r\n          'Develop concepts with greater depth',\r\n          'Push creative boundaries further',\r\n          'Strengthen personal artistic voice',\r\n          'Explore more innovative approaches',\r\n          'Enhance conceptual sophistication'\r\n        ],\r\n        general: [\r\n          'Creative development is progressing well',\r\n          'Shows good creative foundation',\r\n          'Artistic voice is emerging appropriately'\r\n        ]\r\n      }\r\n    },\r\n    {\r\n      id: 'presentation-communication',\r\n      name: 'Presentation & Communication',\r\n      description: 'Quality of portfolio organization, visual presentation, and ability to communicate artistic intent effectively',\r\n      maxPoints: 25,\r\n      weight: 21,\r\n      levels: {\r\n        incomplete: { description: 'No coherent presentation or communication of work.', pointRange: '0' },\r\n        unacceptable: { description: 'Poor organization with unclear presentation. Lacks effective communication of artistic intent or project development.', pointRange: '6-8' },\r\n        developing: { description: 'Basic organization present but presentation lacks polish. Some communication of intent but needs clearer articulation.', pointRange: '11-15' },\r\n        acceptable: { description: 'Well-organized presentation with clear communication of artistic concepts. Professional appearance suitable for academic review.', pointRange: '16-19' },\r\n        emerging: { description: 'Strong presentation skills with sophisticated organization and clear, compelling communication of creative process and intent.', pointRange: '20-21' },\r\n        accomplished: { description: 'Excellent presentation demonstrating advanced communication skills and professional-quality organization that enhances the work significantly.', pointRange: '22-23' },\r\n        exceptional: { description: 'Outstanding presentation excellence that demonstrates exceptional communication skills and creates a compelling, professional portfolio experience.', pointRange: '24-25' }\r\n      },\r\n      feedbackLibrary: {\r\n        strengths: [\r\n          'Excellent portfolio organization',\r\n          'Clear communication of artistic intent',\r\n          'Professional presentation quality',\r\n          'Compelling visual narrative',\r\n          'Strong presentation skills'\r\n        ],\r\n        improvements: [\r\n          'Improve portfolio organization',\r\n          'Clarify communication of concepts',\r\n          'Enhance visual presentation',\r\n          'Strengthen narrative structure',\r\n          'Polish presentation elements'\r\n        ],\r\n        general: [\r\n          'Presentation skills are developing',\r\n          'Good communication foundation',\r\n          'Professional standards maintained'\r\n        ]\r\n      }\r\n    },\r\n    {\r\n      id: 'professional-readiness',\r\n      name: 'Professional Readiness & Industry Standards',\r\n      description: 'Demonstration of work quality and presentation standards appropriate for professional portfolio review',\r\n      maxPoints: 30,\r\n      weight: 25,\r\n      levels: {\r\n        incomplete: { description: 'Work does not meet basic professional standards.', pointRange: '0' },\r\n        unacceptable: { description: 'Significant gaps in professional presentation. Work quality below industry standards for portfolio review.', pointRange: '7-10' },\r\n        developing: { description: 'Approaching professional standards but needs improvement in quality and presentation for industry readiness.', pointRange: '14-18' },\r\n        acceptable: { description: 'Meets professional standards with portfolio quality appropriate for industry review and academic requirements.', pointRange: '19-22' },\r\n        emerging: { description: 'Strong professional quality that exceeds basic standards and demonstrates readiness for industry presentation.', pointRange: '23-25' },\r\n        accomplished: { description: 'Excellent professional preparation with portfolio demonstrating high industry standards and career readiness.', pointRange: '26-28' },\r\n        exceptional: { description: 'Outstanding professional excellence that demonstrates exceptional career preparation and industry-leading quality.', pointRange: '29-30' }\r\n      },\r\n      feedbackLibrary: {\r\n        strengths: [\r\n          'Industry-ready presentation',\r\n          'Professional attention to detail',\r\n          'Strong career preparation',\r\n          'Excellent professional standards',\r\n          'Portfolio demonstrates readiness'\r\n        ],\r\n        improvements: [\r\n          'Research industry standards',\r\n          'Improve professional presentation',\r\n          'Add career preparation elements',\r\n          'Consider industry feedback',\r\n          'Enhance portfolio quality'\r\n        ],\r\n        general: [\r\n          'Shows strong professional development',\r\n          'Portfolio demonstrates career readiness',\r\n          'Professional standards are evident'\r\n        ]\r\n      }\r\n    }\r\n  ]\r\n};\r\n\r\nconst GradingTemplate = () => {\r\n  // ── Get shared context with fixed imports ──────────────────\r\n  const {\r\n    // ── Rubric & Course Details ───────────────────\r\n    sharedRubric,\r\n    sharedCourseDetails,\r\n    setSharedCourseDetails,\r\n\r\n    // ── Grading Form Data ─────────────────────────\r\n    gradingData,\r\n    setGradingFormData,\r\n\r\n    // ── Update Helpers ────────────────────────────\r\n    updateStudentInfo,\r\n    updateCourseInfo,\r\n    updateAssignmentInfo,\r\n    updateRubricGrading,           // ← CRITICAL: Fixed import for buttons\r\n    clearGradingFormData,\r\n\r\n    // ── Class List State ─────────────────────────\r\n    classList,\r\n    setClassList,\r\n\r\n    // ── Current Student ──────────────────────────\r\n    currentStudent,\r\n    setCurrentStudent,\r\n\r\n    // ── Draft & Final Helpers ────────────────────\r\n    saveDraft,\r\n    loadDraft,\r\n    saveFinalGrade,\r\n    loadFinalGrade,\r\n    finalGrades,\r\n    getGradeStatus,\r\n\r\n    // ── Batch Grading Session ────────────────────\r\n    gradingSession,\r\n    setGradingSession,\r\n    updateGradingSession,\r\n    initializeGradingSession,\r\n    nextStudentInSession,\r\n    previousStudentInSession,\r\n\r\n    // ── Navigation ───────────────────────────────\r\n    setActiveTab,\r\n  } = useAssessment();\r\n\r\n  // ── Local State ──────────────────────────────────────────\r\n  const [showComments, setShowComments] = useState(false);\r\n  const [showRubricSection, setShowRubricSection] = useState(true);\r\n  const [showFeedbackSection, setShowFeedbackSection] = useState(true);\r\n  const [showAttachmentsSection, setShowAttachmentsSection] = useState(true);\r\n  const [showVideoSection, setShowVideoSection] = useState(true);\r\n  const [showAISection, setShowAISection] = useState(false);\r\n  const [showRubricComments, setShowRubricComments] = useState({});\r\n\r\n  // ── Additional UI State ──────────────────────────────────\r\n  const [pendingAttachment, setPendingAttachment] = useState('');\r\n  const [pendingVideoLink, setPendingVideoLink] = useState('');\r\n  const [videoTitle, setVideoTitle] = useState('');\r\n  const [criterionComments, setCriterionComments] = useState({});\r\n  const [aiSuggestions, setAiSuggestions] = useState({});\r\n  const [isGeneratingAI, setIsGeneratingAI] = useState(false);\r\n  const [dragOver, setDragOver] = useState(false);\r\n\r\n  // ── File Upload Refs ─────────────────────────────────────\r\n  const fileInputRef = useRef(null);\r\n  const dropZoneRef = useRef(null);\r\n\r\n  // ── Use appropriate rubric (shared or sample) ──────────────\r\n  const loadedRubric = sharedRubric || sampleRubric;\r\n\r\n  // ── Load saved data when student changes ───────────────────\r\n  useEffect(() => {\r\n    if (currentStudent?.id) {\r\n      console.log('🔍 Loading data for student:', currentStudent.name);\r\n\r\n      const gradeStatus = getGradeStatus(currentStudent.id);\r\n      console.log('📊 Grade status:', gradeStatus);\r\n\r\n      let savedData = null;\r\n\r\n      if (gradeStatus === 'final') {\r\n        savedData = loadFinalGrade ? loadFinalGrade(currentStudent.id) : null;\r\n        console.log('📋 Loading final grade data:', savedData ? 'FOUND' : 'NOT FOUND');\r\n      } else if (gradeStatus === 'draft') {\r\n        savedData = loadDraft(currentStudent.id);\r\n        console.log('📝 Loading draft data:', savedData ? 'FOUND' : 'NOT FOUND');\r\n      }\r\n\r\n      if (savedData) {\r\n        console.log('✅ Successfully loaded saved grade data');\r\n\r\n        setGradingFormData(prev => ({\r\n          ...prev,\r\n          ...savedData,\r\n          student: currentStudent\r\n        }));\r\n\r\n        console.log('🔄 Restored rubric grading:', Object.keys(savedData.rubricGrading || {}).length, 'criteria');\r\n        console.log('💬 Restored feedback:', {\r\n          general: savedData.feedback?.general ? 'YES' : 'NO',\r\n          strengths: savedData.feedback?.strengths ? 'YES' : 'NO',\r\n          improvements: savedData.feedback?.improvements ? 'YES' : 'NO'\r\n        });\r\n        console.log('📎 Restored attachments:', savedData.attachments?.length || 0);\r\n        console.log('🎥 Restored video links:', savedData.videoLinks?.length || 0);\r\n        console.log('⏰ Restored late policy:', savedData.latePolicy?.level || 'none');\r\n      } else {\r\n        console.log('🆕 Starting fresh for student:', currentStudent.name);\r\n\r\n        setGradingFormData(prev => ({\r\n          ...prev,\r\n          student: currentStudent,\r\n          rubricGrading: {},\r\n          feedback: { general: '', strengths: '', improvements: '' },\r\n          attachments: [],\r\n          videoLinks: [],\r\n          latePolicy: { level: 'none', penaltyApplied: false }\r\n        }));\r\n      }\r\n    }\r\n  }, [currentStudent, getGradeStatus, loadDraft, loadFinalGrade, setGradingFormData]);\r\n\r\n  // ── Helper function to render formatted content ────────────\r\n  const renderFormattedContent = (htmlContent) => {\r\n    if (!htmlContent) return '';\r\n\r\n    let textContent = htmlContent\r\n      .replace(/<br\\s*\\/?>/gi, '\\n')\r\n      .replace(/<\\/p>/gi, '\\n')\r\n      .replace(/<p[^>]*>/gi, '')\r\n      .replace(/<strong[^>]*>(.*?)<\\/strong>/gi, '**$1**')\r\n      .replace(/<b[^>]*>(.*?)<\\/b>/gi, '**$1**')\r\n      .replace(/<em[^>]*>(.*?)<\\/em>/gi, '*$1*')\r\n      .replace(/<i[^>]*>(.*?)<\\/i>/gi, '*$1*')\r\n      .replace(/<u[^>]*>(.*?)<\\/u>/gi, '_$1_')\r\n      .replace(/<h3[^>]*>(.*?)<\\/h3>/gi, '### $1\\n')\r\n      .replace(/<li[^>]*>(.*?)<\\/li>/gi, '• $1\\n')\r\n      .replace(/<\\/ul>/gi, '\\n')\r\n      .replace(/<ul[^>]*>/gi, '')\r\n      .replace(/<\\/ol>/gi, '\\n')\r\n      .replace(/<ol[^>]*>/gi, '')\r\n      .replace(/<[^>]*>/g, '')\r\n      .replace(/\\n\\s*\\n/g, '\\n')\r\n      .trim();\r\n\r\n    return textContent;\r\n  };\r\n\r\n  // ── Calculate total score with late policy ─────────────────\r\n  const calculateTotalScore = () => {\r\n    let rawScore = 0;\r\n\r\n    if (loadedRubric && gradingData?.rubricGrading) {\r\n      rawScore = Object.values(gradingData.rubricGrading).reduce((total, grading) => {\r\n        const criterion = loadedRubric.criteria.find(c => c.id === grading.criterionId);\r\n        if (criterion && grading.selectedLevel) {\r\n          const level = loadedRubric.rubricLevels.find(l => l.level === grading.selectedLevel);\r\n          if (level) {\r\n            return total + (criterion.maxPoints * level.multiplier);\r\n          }\r\n        }\r\n        return total;\r\n      }, 0);\r\n    }\r\n\r\n    const latePolicyLevel = latePolicyLevels[gradingData?.latePolicy?.level || 'none'];\r\n    const finalScore = rawScore * latePolicyLevel.multiplier;\r\n\r\n    return {\r\n      rawScore: Math.round(rawScore * 100) / 100,\r\n      finalScore: Math.round(finalScore * 100) / 100,\r\n      penaltyApplied: gradingData?.latePolicy?.level !== 'none',\r\n      latePolicyDescription: latePolicyLevel.description\r\n    };\r\n  };\r\n\r\n  // ── Update late policy ─────────────────────────────────────\r\n  const updateLatePolicy = (level) => {\r\n    setGradingFormData(prevData => ({\r\n      ...prevData,\r\n      latePolicy: {\r\n        level: level,\r\n        penaltyApplied: level !== 'none'\r\n      }\r\n    }));\r\n  };\r\n\r\n  // ── Toggle sections ────────────────────────────────────────\r\n  const toggleRubricComments = (criterionId) => {\r\n    setShowRubricComments(prev => ({\r\n      ...prev,\r\n      [criterionId]: !prev[criterionId]\r\n    }));\r\n  };\r\n\r\n  const toggleSection = (section) => {\r\n    switch (section) {\r\n      case 'rubric':\r\n        setShowRubricSection(prev => !prev);\r\n        break;\r\n      case 'feedback':\r\n        setShowFeedbackSection(prev => !prev);\r\n        break;\r\n      case 'attachments':\r\n        setShowAttachmentsSection(prev => !prev);\r\n        break;\r\n      case 'video':\r\n        setShowVideoSection(prev => !prev);\r\n        break;\r\n      case 'ai':\r\n        setShowAISection(prev => !prev);\r\n        break;\r\n    }\r\n  };\r\n\r\n  // ── Feedback management ────────────────────────────────────\r\n  const updateFeedback = (field, value) => {\r\n    setGradingFormData(prev => ({\r\n      ...prev,\r\n      feedback: {\r\n        ...prev.feedback,\r\n        [field]: value\r\n      }\r\n    }));\r\n  };\r\n\r\n  // ── Criterion feedback management ──────────────────────────\r\n  const updateCriterionFeedback = (criterionId, comments) => {\r\n    setGradingFormData(prev => ({\r\n      ...prev,\r\n      rubricGrading: {\r\n        ...prev.rubricGrading,\r\n        [criterionId]: {\r\n          ...prev.rubricGrading?.[criterionId],\r\n          criterionId,\r\n          customComments: comments\r\n        }\r\n      }\r\n    }));\r\n  };\r\n\r\n  // ── Add predefined feedback from library ───────────────────\r\n  const addPredefinedFeedback = (criterionId, comment, type) => {\r\n    const currentGrading = gradingData?.rubricGrading?.[criterionId];\r\n    const currentComments = currentGrading?.customComments || '';\r\n    const prefix = type === 'strengths' ? '✅ ' : type === 'improvements' ? '🔄 ' : '💭 ';\r\n    const newComment = `${prefix}${comment}`;\r\n    const newComments = currentComments ? `${currentComments}\\n${newComment}` : newComment;\r\n\r\n    updateCriterionFeedback(criterionId, newComments);\r\n  };\r\n\r\n  // ── File Upload Handlers ───────────────────────────────────\r\n  const handleFileUpload = (files) => {\r\n    const newAttachments = Array.from(files).map(file => ({\r\n      id: Date.now() + Math.random(),\r\n      name: file.name,\r\n      size: file.size,\r\n      type: file.type,\r\n      file: file\r\n    }));\r\n\r\n    Promise.all(newAttachments.map(attachment => {\r\n      return new Promise((resolve) => {\r\n        if (attachment.type.startsWith('image/')) {\r\n          const reader = new FileReader();\r\n          reader.onload = (e) => {\r\n            attachment.base64Data = e.target.result;\r\n            resolve(attachment);\r\n          };\r\n          reader.readAsDataURL(attachment.file);\r\n        } else {\r\n          resolve(attachment);\r\n        }\r\n      });\r\n    })).then(processedAttachments => {\r\n      setGradingFormData(prev => ({\r\n        ...prev,\r\n        attachments: [...(prev.attachments || []), ...processedAttachments]\r\n      }));\r\n    });\r\n  };\r\n\r\n  const removeAttachment = (id) => {\r\n    setGradingFormData(prev => ({\r\n      ...prev,\r\n      attachments: prev.attachments?.filter(att => att.id !== id) || []\r\n    }));\r\n  };\r\n\r\n  // ── Video link management ──────────────────────────────────\r\n  const addVideoLink = () => {\r\n    if (pendingVideoLink.trim()) {\r\n      setGradingFormData(prev => ({\r\n        ...prev,\r\n        videoLinks: [...(prev.videoLinks || []), {\r\n          id: Date.now(),\r\n          url: pendingVideoLink.trim(),\r\n          title: videoTitle.trim() || 'Video Link',\r\n          addedDate: new Date().toISOString()\r\n        }]\r\n      }));\r\n      setPendingVideoLink('');\r\n      setVideoTitle('');\r\n    }\r\n  };\r\n\r\n  const removeVideoLink = (linkId) => {\r\n    setGradingFormData(prev => ({\r\n      ...prev,\r\n      videoLinks: prev.videoLinks?.filter(link => link.id !== linkId) || []\r\n    }));\r\n  };\r\n\r\n  // ── Drag and Drop Handlers ─────────────────────────────────\r\n  const handleDragOver = useCallback((e) => {\r\n    e.preventDefault();\r\n    setDragOver(true);\r\n  }, []);\r\n\r\n  const handleDragLeave = useCallback((e) => {\r\n    e.preventDefault();\r\n    if (!e.currentTarget.contains(e.relatedTarget)) {\r\n      setDragOver(false);\r\n    }\r\n  }, []);\r\n\r\n  const handleDrop = useCallback((e) => {\r\n    e.preventDefault();\r\n    setDragOver(false);\r\n    const files = Array.from(e.dataTransfer.files);\r\n    if (files.length > 0) {\r\n      handleFileUpload(files);\r\n    }\r\n  }, []);\r\n\r\n  // ── AI Grading Integration ─────────────────────────────────\r\n  const generateAIFeedback = async (criterionId, selectedLevel) => {\r\n    setIsGeneratingAI(true);\r\n\r\n    try {\r\n      // Simulate AI generation (replace with actual AI service)\r\n      await new Promise(resolve => setTimeout(resolve, 2000));\r\n\r\n      const criterion = loadedRubric.criteria.find(c => c.id === criterionId);\r\n      const level = loadedRubric.rubricLevels.find(l => l.level === selectedLevel);\r\n\r\n      const mockFeedback = {\r\n        strengths: [`Strong performance in ${criterion.name.toLowerCase()}`, 'Good technical execution evident'],\r\n        improvements: [`Consider enhancing ${criterion.name.toLowerCase()}`, 'Room for improvement in implementation'],\r\n        overall: `Performance at ${level.name} level demonstrates ${level.description.toLowerCase()}`\r\n      };\r\n\r\n      setAiSuggestions(prev => ({\r\n        ...prev,\r\n        [criterionId]: mockFeedback\r\n      }));\r\n    } catch (error) {\r\n      console.error('AI feedback generation failed:', error);\r\n    } finally {\r\n      setIsGeneratingAI(false);\r\n    }\r\n  };\r\n\r\n  // ── Export Functions ───────────────────────────────────────\r\n  const exportToHTML = () => {\r\n    const scoreCalculation = calculateTotalScore();\r\n    const totalScore = scoreCalculation.finalScore;\r\n    const rawScore = scoreCalculation.rawScore;\r\n    const maxPoints = loadedRubric ?\r\n      loadedRubric.criteria.reduce((sum, c) => sum + c.maxPoints, 0) :\r\n      gradingData.assignment?.maxPoints || 100;\r\n    const percentage = ((totalScore / maxPoints) * 100).toFixed(1);\r\n    const currentDate = new Date().toLocaleDateString('en-US', {\r\n      weekday: 'long',\r\n      year: 'numeric',\r\n      month: 'long',\r\n      day: 'numeric'\r\n    });\r\n\r\n    // Build attachments HTML with embedded Base64 images\r\n    const attachmentsHTML = (gradingData.attachments || []).map((att, index) => {\r\n      if (att.base64Data) {\r\n        return `\r\n          <div class=\"attachment-item\">\r\n            <img src=\"${att.base64Data}\" \r\n                 alt=\"${att.name}\" \r\n                 class=\"clickable-image\"\r\n                 data-index=\"${index}\"\r\n                 style=\"max-width: 200px; max-height: 200px; object-fit: contain; display: block; margin-bottom: 0.5rem; border: 1px solid #ddd; border-radius: 4px;\" />\r\n            <div style=\"font-size: 0.875rem; font-weight: 500; word-break: break-word;\">${att.name}</div>\r\n            <div style=\"font-size: 0.75rem; color: #666;\">${(att.size / 1024).toFixed(1)} KB</div>\r\n            <div style=\"font-size: 0.75rem; color: #007bff; margin-top: 4px;\">Click to enlarge</div>\r\n          </div>\r\n        `;\r\n      } else {\r\n        return `\r\n          <div class=\"attachment-item\">\r\n            <div style=\"width: 40px; height: 40px; background: #f3f4f6; border-radius: 4px; display: flex; align-items: center; justify-content: center; margin: 0 auto 0.5rem auto;\">\r\n              📄\r\n            </div>\r\n            <div style=\"font-size: 0.875rem; font-weight: 500; word-break: break-word;\">${att.name}</div>\r\n            <div style=\"font-size: 0.75rem; color: #666;\">${(att.size / 1024).toFixed(1)} KB</div>\r\n          </div>\r\n        `;\r\n      }\r\n    }).join('');\r\n\r\n    // Build video links HTML\r\n    const videoLinksHTML = (gradingData.videoLinks || []).map(link => `\r\n      <div class=\"video-link-item\" style=\"background: #f8f9fa; border: 1px solid #e9ecef; border-radius: 8px; padding: 1rem; margin-bottom: 1rem;\">\r\n        <div style=\"display: flex; align-items: center; gap: 0.5rem; margin-bottom: 0.5rem;\">\r\n          <span style=\"font-size: 1.25rem;\">🎥</span>\r\n          <strong style=\"color: #495057;\">${link.title}</strong>\r\n        </div>\r\n        <a href=\"${link.url}\" target=\"_blank\" rel=\"noopener noreferrer\" style=\"color: #007bff; text-decoration: none; word-break: break-all;\">\r\n          ${link.url}\r\n        </a>\r\n      </div>\r\n    `).join('');\r\n\r\n    const htmlContent = `\r\n<!DOCTYPE html>\r\n<html>\r\n<head>\r\n    <meta charset=\"UTF-8\">\r\n    <title>Grade Report - ${gradingData.student?.name || 'Student'}</title>\r\n    <style>\r\n        body { font-family: Arial, sans-serif; margin: 40px; line-height: 1.6; color: #333; }\r\n        .header { border-bottom: 3px solid #007bff; padding-bottom: 20px; margin-bottom: 30px; }\r\n        .student-info { background: #f8f9fa; padding: 20px; border-radius: 8px; margin-bottom: 30px; }\r\n        .score-summary { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 20px; border-radius: 8px; margin-bottom: 30px; }\r\n        .rubric-table { width: 100%; border-collapse: collapse; margin-bottom: 30px; }\r\n        .rubric-table th, .rubric-table td { border: 1px solid #ddd; padding: 12px; text-align: left; }\r\n        .rubric-table th { background-color: #f2f2f2; font-weight: bold; }\r\n        .feedback-section { background: #fff3cd; border: 1px solid #ffeaa7; border-radius: 8px; padding: 20px; margin-bottom: 20px; }\r\n        .attachments-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 20px; margin-top: 20px; }\r\n        .attachment-item { text-align: center; border: 1px solid #ddd; border-radius: 8px; padding: 15px; }\r\n        .clickable-image { cursor: pointer; transition: transform 0.2s; }\r\n        .clickable-image:hover { transform: scale(1.05); }\r\n        .modal { display: none; position: fixed; z-index: 1000; left: 0; top: 0; width: 100%; height: 100%; background-color: rgba(0,0,0,0.8); }\r\n        .modal-content { position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); max-width: 90%; max-height: 90%; }\r\n        .modal img { max-width: 100%; max-height: 100%; object-fit: contain; }\r\n        .close { position: absolute; top: 10px; right: 25px; color: #fff; font-size: 35px; font-weight: bold; cursor: pointer; }\r\n        @media print { .modal { display: none !important; } }\r\n    </style>\r\n</head>\r\n<body>\r\n    <div class=\"header\">\r\n        <h1>Grade Report</h1>\r\n        <p><strong>Generated:</strong> ${currentDate}</p>\r\n    </div>\r\n\r\n    <div class=\"student-info\">\r\n        <h2>Student Information</h2>\r\n        <p><strong>Name:</strong> ${gradingData.student?.name || 'N/A'}</p>\r\n        <p><strong>Email:</strong> ${gradingData.student?.email || 'N/A'}</p>\r\n        <p><strong>Course:</strong> ${gradingData.course?.code || 'N/A'} - ${gradingData.course?.name || 'N/A'}</p>\r\n        <p><strong>Assignment:</strong> ${gradingData.assignment?.name || 'N/A'}</p>\r\n        <p><strong>Due Date:</strong> ${gradingData.assignment?.dueDate || 'N/A'}</p>\r\n    </div>\r\n\r\n    <div class=\"score-summary\">\r\n        <h2>Final Score</h2>\r\n        <div style=\"display: flex; justify-content: space-between; align-items: center;\">\r\n            <div>\r\n                <div style=\"font-size: 2rem; font-weight: bold;\">${totalScore} / ${maxPoints}</div>\r\n                <div style=\"font-size: 1.2rem;\">${percentage}%</div>\r\n            </div>\r\n            <div style=\"text-align: right;\">\r\n                ${scoreCalculation.penaltyApplied ? `\r\n                    <div style=\"font-size: 0.9rem; opacity: 0.9;\">Raw Score: ${rawScore}</div>\r\n                    <div style=\"font-size: 0.9rem; opacity: 0.9;\">Late Penalty Applied</div>\r\n                ` : ''}\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n    ${loadedRubric ? `\r\n    <div class=\"rubric-section\">\r\n        <h2>Rubric Assessment</h2>\r\n        <table class=\"rubric-table\">\r\n            <thead>\r\n                <tr>\r\n                    <th>Criterion</th>\r\n                    <th>Level</th>\r\n                    <th>Points</th>\r\n                    <th>Comments</th>\r\n                </tr>\r\n            </thead>\r\n            <tbody>\r\n                ${loadedRubric.criteria.map(criterion => {\r\n      const grading = gradingData.rubricGrading?.[criterion.id];\r\n      const level = grading?.selectedLevel ?\r\n        loadedRubric.rubricLevels.find(l => l.level === grading.selectedLevel) : null;\r\n      const points = level ? Math.round(criterion.maxPoints * level.multiplier) : 0;\r\n\r\n      return `\r\n                    <tr>\r\n                        <td><strong>${criterion.name}</strong><br><small>${criterion.description}</small></td>\r\n                        <td>${level ? level.name : 'Not graded'}</td>\r\n                        <td>${points} / ${criterion.maxPoints}</td>\r\n                        <td>${grading?.customComments || 'No comments'}</td>\r\n                    </tr>\r\n                  `;\r\n    }).join('')}\r\n            </tbody>\r\n        </table>\r\n    </div>\r\n    ` : ''}\r\n\r\n    ${gradingData.feedback?.general || gradingData.feedback?.strengths || gradingData.feedback?.improvements ? `\r\n    <div class=\"feedback-section\">\r\n        <h2>Instructor Feedback</h2>\r\n        ${gradingData.feedback.general ? `\r\n            <div style=\"margin-bottom: 15px;\">\r\n                <h3>General Comments:</h3>\r\n                <p>${gradingData.feedback.general.replace(/\\n/g, '<br>')}</p>\r\n            </div>\r\n        ` : ''}\r\n        ${gradingData.feedback.strengths ? `\r\n            <div style=\"margin-bottom: 15px;\">\r\n                <h3>✅ Strengths:</h3>\r\n                <p>${gradingData.feedback.strengths.replace(/\\n/g, '<br>')}</p>\r\n            </div>\r\n        ` : ''}\r\n        ${gradingData.feedback.improvements ? `\r\n            <div style=\"margin-bottom: 15px;\">\r\n                <h3>🔄 Areas for Improvement:</h3>\r\n                <p>${gradingData.feedback.improvements.replace(/\\n/g, '<br>')}</p>\r\n            </div>\r\n        ` : ''}\r\n    </div>\r\n    ` : ''}\r\n\r\n    ${(gradingData.attachments || []).length > 0 ? `\r\n    <div class=\"attachments-section\">\r\n        <h2>📎 Attachments</h2>\r\n        <div class=\"attachments-grid\">\r\n            ${attachmentsHTML}\r\n        </div>\r\n    </div>\r\n    ` : ''}\r\n\r\n    ${(gradingData.videoLinks || []).length > 0 ? `\r\n    <div class=\"video-section\">\r\n        <h2>🎥 Video Links</h2>\r\n        ${videoLinksHTML}\r\n    </div>\r\n    ` : ''}\r\n\r\n    <div id=\"imageModal\" class=\"modal\">\r\n        <span class=\"close\">&times;</span>\r\n        <img class=\"modal-content\" id=\"modalImage\">\r\n    </div>\r\n\r\n    <script>\r\n        function openImageModal(src) {\r\n            document.getElementById('imageModal').style.display = 'block';\r\n            document.getElementById('modalImage').src = src;\r\n        }\r\n\r\n        function closeImageModal() {\r\n            document.getElementById('imageModal').style.display = 'none';\r\n        }\r\n\r\n        document.addEventListener('DOMContentLoaded', function() {\r\n            // Add click handlers to images\r\n            document.querySelectorAll('.clickable-image').forEach(img => {\r\n                img.addEventListener('click', function() {\r\n                    openImageModal(this.src);\r\n                });\r\n            });\r\n\r\n            // Close modal handlers\r\n            document.querySelector('.close').addEventListener('click', closeImageModal);\r\n            document.getElementById('imageModal').addEventListener('click', function(e) {\r\n                if (e.target === this) closeImageModal();\r\n            });\r\n            document.addEventListener('keydown', function(e) {\r\n                if (e.key === 'Escape') closeImageModal();\r\n            });\r\n        });\r\n    </script>\r\n</body>\r\n</html>`;\r\n\r\n    const htmlBlob = new Blob([htmlContent], { type: 'text/html' });\r\n    const url = URL.createObjectURL(htmlBlob);\r\n    const link = document.createElement('a');\r\n    link.href = url;\r\n    link.download = `grade_report_${gradingData.student?.name || 'student'}_${gradingData.assignment?.name || 'assignment'}.html`;\r\n    link.click();\r\n    URL.revokeObjectURL(url);\r\n  };\r\n\r\n  const exportToPDF = () => {\r\n    exportToHTML();\r\n    setTimeout(() => {\r\n      alert('HTML report downloaded! To create PDF:\\n\\n1. Open the HTML file in your browser\\n2. Press Ctrl+P (or Cmd+P on Mac)\\n3. Select \"Save as PDF\"\\n4. Adjust settings and save');\r\n    }, 500);\r\n  };\r\n\r\n  // ── Navigation handlers ────────────────────────────────────\r\n  const handleNextStudentAsDraft = () => {\r\n    if (currentStudent?.id) {\r\n      saveDraft(currentStudent.id, gradingData);\r\n    }\r\n    const success = nextStudentInSession('draft');\r\n    if (!success) {\r\n      alert('No more students in the session!');\r\n    }\r\n  };\r\n\r\n  const handleNextStudentAsFinal = () => {\r\n    if (currentStudent?.id) {\r\n      saveFinalGrade(currentStudent.id, gradingData);\r\n    }\r\n    const success = nextStudentInSession('final');\r\n    if (!success) {\r\n      alert('No more students in the session!');\r\n    }\r\n  };\r\n\r\n  const handlePreviousStudent = () => {\r\n    const success = previousStudentInSession();\r\n    if (!success) {\r\n      alert('Already at the first student!');\r\n    }\r\n  };\r\n\r\n  // ── Calculate max possible score ───────────────────────────\r\n  const maxPossibleScore = loadedRubric ?\r\n    loadedRubric.criteria.reduce((total, criterion) => total + criterion.maxPoints, 0) :\r\n    gradingData.assignment?.maxPoints || 100;\r\n  const scoreData = calculateTotalScore();\r\n\r\n  // ── Main Render ─────────────────────────────────────────────\r\n  return (\r\n    <div style={{\r\n      maxWidth: '1200px',\r\n      margin: '0 auto',\r\n      padding: '1.5rem',\r\n      backgroundColor: '#ffffff',\r\n      minHeight: '100vh'\r\n    }}>\r\n      {/* Header */}\r\n      <div style={{\r\n        marginBottom: '2rem',\r\n        paddingBottom: '1rem',\r\n        borderBottom: '2px solid #e5e7eb'\r\n      }}>\r\n        <h1 style={{\r\n          fontSize: '2rem',\r\n          fontWeight: '700',\r\n          color: '#1f2937',\r\n          marginBottom: '0.5rem'\r\n        }}>\r\n          🎓 Grading Interface\r\n        </h1>\r\n        {currentStudent && (\r\n          <div style={{\r\n            display: 'flex',\r\n            justifyContent: 'space-between',\r\n            alignItems: 'center',\r\n            backgroundColor: '#f9fafb',\r\n            padding: '1rem',\r\n            borderRadius: '0.5rem',\r\n            marginTop: '1rem'\r\n          }}>\r\n            <div>\r\n              <h2 style={{\r\n                fontSize: '1.25rem',\r\n                fontWeight: '600',\r\n                color: '#374151',\r\n                marginBottom: '0.25rem'\r\n              }}>\r\n                {currentStudent.name}\r\n              </h2>\r\n              <p style={{ fontSize: '0.875rem', color: '#6b7280' }}>\r\n                {currentStudent.email}\r\n              </p>\r\n            </div>\r\n            <div style={{ textAlign: 'right' }}>\r\n              <div style={{ fontSize: '0.875rem', color: '#6b7280' }}>\r\n                Session Progress: {(gradingSession?.currentStudentIndex || 0) + 1} of {gradingSession?.totalStudents || 1}\r\n              </div>\r\n              <div style={{ fontSize: '1.25rem', fontWeight: '600', color: '#059669' }}>\r\n                Score: {scoreData.finalScore} / {maxPossibleScore}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      {/* Course & Assignment Info */}\r\n      {(sharedCourseDetails || loadedRubric.assignmentInfo) && (\r\n        <div style={{\r\n          backgroundColor: '#eff6ff',\r\n          padding: '1rem',\r\n          borderRadius: '0.5rem',\r\n          marginBottom: '1.5rem',\r\n          border: '1px solid #bfdbfe'\r\n        }}>\r\n          <h3 style={{ fontSize: '1.125rem', fontWeight: '600', color: '#1e40af', marginBottom: '0.5rem' }}>\r\n            {sharedCourseDetails?.course?.code || 'Course'} - {sharedCourseDetails?.course?.name || loadedRubric.assignmentInfo.title}\r\n          </h3>\r\n          <p style={{ fontSize: '0.875rem', color: '#374151' }}>\r\n            <strong>Assignment:</strong> {sharedCourseDetails?.assignment?.name || loadedRubric.assignmentInfo.title} |\r\n            <strong> Due:</strong> {sharedCourseDetails?.assignment?.dueDate || 'N/A'} |\r\n            <strong> Max Points:</strong> {sharedCourseDetails?.assignment?.maxPoints || loadedRubric.assignmentInfo.totalPoints}\r\n          </p>\r\n          {loadedRubric.assignmentInfo.description && (\r\n            <p style={{ fontSize: '0.875rem', color: '#374151', marginTop: '0.5rem' }}>\r\n              {loadedRubric.assignmentInfo.description}\r\n            </p>\r\n          )}\r\n        </div>\r\n      )}\r\n\r\n      {/* Rubric Grading Section */}\r\n      <div style={{\r\n        backgroundColor: '#ffffff',\r\n        border: '1px solid #d1d5db',\r\n        borderRadius: '0.75rem',\r\n        marginBottom: '1.5rem',\r\n        overflow: 'hidden'\r\n      }}>\r\n        <div\r\n          style={{\r\n            backgroundColor: '#f3f4f6',\r\n            padding: '1rem',\r\n            borderBottom: '1px solid #d1d5db',\r\n            display: 'flex',\r\n            justifyContent: 'space-between',\r\n            alignItems: 'center',\r\n            cursor: 'pointer'\r\n          }}\r\n          onClick={() => toggleSection('rubric')}\r\n        >\r\n          <h3 style={{ fontSize: '1.25rem', fontWeight: '600', color: '#374151', margin: 0 }}>\r\n            📊 Rubric Assessment\r\n          </h3>\r\n          <span style={{ fontSize: '1.5rem', color: '#6b7280' }}>\r\n            {showRubricSection ? '−' : '+'}\r\n          </span>\r\n        </div>\r\n\r\n        {showRubricSection && (\r\n          <div style={{ padding: '1.5rem' }}>\r\n            {loadedRubric.criteria.map((criterion) => {\r\n              const currentGrading = gradingData?.rubricGrading?.[criterion.id];\r\n\r\n              return (\r\n                <div\r\n                  key={criterion.id}\r\n                  style={{\r\n                    border: '1px solid #e5e7eb',\r\n                    borderRadius: '0.5rem',\r\n                    padding: '1.5rem',\r\n                    marginBottom: '1.5rem',\r\n                    backgroundColor: '#fafafa'\r\n                  }}\r\n                >\r\n                  <div style={{\r\n                    display: 'flex',\r\n                    justifyContent: 'space-between',\r\n                    alignItems: 'flex-start',\r\n                    marginBottom: '1rem'\r\n                  }}>\r\n                    <div style={{ flex: 1 }}>\r\n                      <h4 style={{\r\n                        fontSize: '1.125rem',\r\n                        fontWeight: '600',\r\n                        color: '#374151'\r\n                      }}>\r\n                        {criterion.name}\r\n                        <span style={{ color: '#3b82f6', marginLeft: '0.5rem' }}>\r\n                          ({criterion.maxPoints} pts)\r\n                        </span>\r\n                      </h4>\r\n                      <p style={{\r\n                        fontSize: '0.875rem',\r\n                        color: '#6b7280',\r\n                        marginTop: '0.25rem'\r\n                      }}>\r\n                        {renderFormattedContent(criterion.description)}\r\n                      </p>\r\n                    </div>\r\n                    <div style={{ display: 'flex', gap: '0.5rem', marginLeft: '1rem' }}>\r\n                      <button\r\n                        onClick={() => toggleRubricComments(criterion.id)}\r\n                        style={{\r\n                          color: '#3b82f6',\r\n                          background: 'none',\r\n                          border: 'none',\r\n                          fontSize: '0.875rem',\r\n                          textDecoration: 'underline',\r\n                          cursor: 'pointer'\r\n                        }}\r\n                      >\r\n                        {showRubricComments[criterion.id] ? 'Hide' : 'Show'} Details\r\n                      </button>\r\n                      {currentGrading?.selectedLevel && (\r\n                        <button\r\n                          onClick={() => generateAIFeedback(criterion.id, currentGrading.selectedLevel)}\r\n                          disabled={isGeneratingAI}\r\n                          style={{\r\n                            color: '#8b5cf6',\r\n                            background: 'none',\r\n                            border: 'none',\r\n                            fontSize: '0.875rem',\r\n                            textDecoration: 'underline',\r\n                            cursor: 'pointer',\r\n                            opacity: isGeneratingAI ? 0.5 : 1\r\n                          }}\r\n                        >\r\n                          {isGeneratingAI ? '⏳ AI...' : '🤖 AI Feedback'}\r\n                        </button>\r\n                      )}\r\n                    </div>\r\n                  </div>\r\n\r\n                  {/* Level Selection Buttons - ✅ FIXED */}\r\n                  <div style={{\r\n                    display: 'grid',\r\n                    gridTemplateColumns: 'repeat(auto-fit, minmax(140px, 1fr))',\r\n                    gap: '0.5rem',\r\n                    marginBottom: '1rem'\r\n                  }}>\r\n                    {loadedRubric.rubricLevels.map((level) => {\r\n                      const isSelected = currentGrading?.selectedLevel === level.level;\r\n                      const points = Math.round(criterion.maxPoints * level.multiplier);\r\n\r\n                      const btnStyle = {\r\n                        padding: '0.75rem',\r\n                        borderRadius: '0.5rem',\r\n                        fontSize: '0.875rem',\r\n                        fontWeight: 500,\r\n                        cursor: 'pointer',\r\n                        textAlign: 'center',\r\n                        transition: 'all 140ms ease-in-out',\r\n                        border: `2px solid ${isSelected ? level.color : '#d1d5db'}`,\r\n                        backgroundColor: isSelected ? level.color : '#f3f4f6',\r\n                        color: isSelected ? '#ffffff' : '#374151',\r\n                        transform: isSelected ? 'scale(1.08)' : 'scale(1)',\r\n                        boxShadow: isSelected ? `0 0 0 3px ${level.color}55` : 'none'\r\n                      };\r\n\r\n                      return (\r\n                        <button\r\n                          key={level.level}\r\n                          style={btnStyle}\r\n                          onClick={(e) => {\r\n                            e.preventDefault();\r\n                            e.stopPropagation();\r\n                            console.log('🎯 Button clicked:', criterion.id, level.level);\r\n                            updateRubricGrading(criterion.id, level.level);\r\n                          }}\r\n                        >\r\n                          <div style={{ fontWeight: 600 }}>{level.name}</div>\r\n                          <div style={{ fontSize: '0.75rem', marginTop: '0.25rem' }}>\r\n                            {points} pts\r\n                          </div>\r\n                        </button>\r\n                      );\r\n                    })}\r\n                  </div>\r\n\r\n                  {/* Level Descriptions */}\r\n                  {showRubricComments[criterion.id] && (\r\n                    <div style={{\r\n                      background: '#f9fafb',\r\n                      borderRadius: '0.5rem',\r\n                      padding: '1rem',\r\n                      marginBottom: '1rem'\r\n                    }}>\r\n                      <h5 style={{\r\n                        fontWeight: '600',\r\n                        color: '#374151',\r\n                        marginBottom: '0.75rem'\r\n                      }}>\r\n                        Level Descriptions:\r\n                      </h5>\r\n                      <div style={{\r\n                        display: 'grid',\r\n                        gridTemplateColumns: 'repeat(auto-fit, minmax(250px, 1fr))',\r\n                        gap: '0.75rem'\r\n                      }}>\r\n                        {loadedRubric.rubricLevels.map((level) => (\r\n                          <div\r\n                            key={level.level}\r\n                            style={{\r\n                              padding: '0.75rem',\r\n                              border: `2px solid ${level.color}`,\r\n                              borderRadius: '0.375rem',\r\n                              backgroundColor: `${level.color}10`\r\n                            }}\r\n                          >\r\n                            <div style={{\r\n                              fontWeight: '600',\r\n                              color: level.color,\r\n                              marginBottom: '0.25rem'\r\n                            }}>\r\n                              {level.name}\r\n                            </div>\r\n                            <div style={{ fontSize: '0.75rem', color: '#374151' }}>\r\n                              {criterion.levels?.[level.level]?.description || level.description}\r\n                            </div>\r\n                          </div>\r\n                        ))}\r\n                      </div>\r\n                    </div>\r\n                  )}\r\n\r\n                  {/* Feedback Library Integration */}\r\n                  {criterion.feedbackLibrary && (\r\n                    <div style={{\r\n                      background: '#fef3c7',\r\n                      border: '1px solid #fbbf24',\r\n                      borderRadius: '0.5rem',\r\n                      padding: '1rem',\r\n                      marginBottom: '1rem'\r\n                    }}>\r\n                      <h5 style={{\r\n                        fontWeight: '600',\r\n                        color: '#92400e',\r\n                        marginBottom: '0.75rem'\r\n                      }}>\r\n                        💡 Quick Feedback Options:\r\n                      </h5>\r\n                      <div style={{\r\n                        display: 'grid',\r\n                        gridTemplateColumns: 'repeat(auto-fit, minmax(200px, 1fr))',\r\n                        gap: '1rem'\r\n                      }}>\r\n                        <div>\r\n                          <div style={{ fontWeight: '500', color: '#059669', marginBottom: '0.5rem' }}>\r\n                            ✅ Strengths:\r\n                          </div>\r\n                          {criterion.feedbackLibrary.strengths.map((comment, idx) => (\r\n                            <button\r\n                              key={idx}\r\n                              onClick={() => addPredefinedFeedback(criterion.id, comment, 'strengths')}\r\n                              style={{\r\n                                display: 'block',\r\n                                width: '100%',\r\n                                marginBottom: '0.25rem',\r\n                                padding: '0.25rem 0.5rem',\r\n                                backgroundColor: '#f0fdf4',\r\n                                border: '1px solid #22c55e',\r\n                                borderRadius: '0.25rem',\r\n                                fontSize: '0.75rem',\r\n                                color: '#166534',\r\n                                cursor: 'pointer',\r\n                                textAlign: 'left'\r\n                              }}\r\n                            >\r\n                              + {comment}\r\n                            </button>\r\n                          ))}\r\n                        </div>\r\n                        <div>\r\n                          <div style={{ fontWeight: '500', color: '#dc2626', marginBottom: '0.5rem' }}>\r\n                            🔄 Improvements:\r\n                          </div>\r\n                          {criterion.feedbackLibrary.improvements.map((comment, idx) => (\r\n                            <button\r\n                              key={idx}\r\n                              onClick={() => addPredefinedFeedback(criterion.id, comment, 'improvements')}\r\n                              style={{\r\n                                display: 'block',\r\n                                width: '100%',\r\n                                marginBottom: '0.25rem',\r\n                                padding: '0.25rem 0.5rem',\r\n                                backgroundColor: '#fef2f2',\r\n                                border: '1px solid #ef4444',\r\n                                borderRadius: '0.25rem',\r\n                                fontSize: '0.75rem',\r\n                                color: '#991b1b',\r\n                                cursor: 'pointer',\r\n                                textAlign: 'left'\r\n                              }}\r\n                            >\r\n                              + {comment}\r\n                            </button>\r\n                          ))}\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  )}\r\n\r\n                  {/* AI Suggestions */}\r\n                  {aiSuggestions[criterion.id] && (\r\n                    <div style={{\r\n                      background: '#f3e8ff',\r\n                      border: '1px solid #8b5cf6',\r\n                      borderRadius: '0.5rem',\r\n                      padding: '1rem',\r\n                      marginBottom: '1rem'\r\n                    }}>\r\n                      <h5 style={{\r\n                        fontWeight: '600',\r\n                        color: '#6b21a8',\r\n                        marginBottom: '0.75rem'\r\n                      }}>\r\n                        🤖 AI Suggestions:\r\n                      </h5>\r\n                      <div style={{\r\n                        display: 'grid',\r\n                        gridTemplateColumns: 'repeat(auto-fit, minmax(200px, 1fr))',\r\n                        gap: '1rem'\r\n                      }}>\r\n                        <div>\r\n                          <div style={{ fontWeight: '500', color: '#059669', marginBottom: '0.5rem' }}>\r\n                            Strengths:\r\n                          </div>\r\n                          {aiSuggestions[criterion.id].strengths.map((comment, idx) => (\r\n                            <div key={idx} style={{ fontSize: '0.75rem', marginBottom: '0.25rem' }}>\r\n                              • {comment}\r\n                            </div>\r\n                          ))}\r\n                        </div>\r\n                        <div>\r\n                          <div style={{ fontWeight: '500', color: '#dc2626', marginBottom: '0.5rem' }}>\r\n                            Improvements:\r\n                          </div>\r\n                          {aiSuggestions[criterion.id].improvements.map((comment, idx) => (\r\n                            <div key={idx} style={{ fontSize: '0.75rem', marginBottom: '0.25rem' }}>\r\n                              • {comment}\r\n                            </div>\r\n                          ))}\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  )}\r\n\r\n                  {/* Criterion-specific Feedback */}\r\n                  <div style={{ marginTop: '1rem' }}>\r\n                    <label style={{\r\n                      display: 'block',\r\n                      fontSize: '0.875rem',\r\n                      fontWeight: '500',\r\n                      color: '#374151',\r\n                      marginBottom: '0.5rem'\r\n                    }}>\r\n                      Specific Feedback for {criterion.name}:\r\n                    </label>\r\n                    <textarea\r\n                      value={currentGrading?.customComments || ''}\r\n                      onChange={(e) => updateCriterionFeedback(criterion.id, e.target.value)}\r\n                      style={{\r\n                        width: '100%',\r\n                        padding: '0.75rem',\r\n                        border: '1px solid #d1d5db',\r\n                        borderRadius: '0.5rem',\r\n                        fontSize: '0.875rem',\r\n                        resize: 'vertical',\r\n                        minHeight: '80px'\r\n                      }}\r\n                      rows=\"3\"\r\n                      placeholder=\"Add specific feedback for this criterion...\"\r\n                    />\r\n                  </div>\r\n\r\n                  {/* Selected Level Feedback */}\r\n                  {currentGrading?.selectedLevel && (\r\n                    <div style={{\r\n                      marginTop: '0.75rem',\r\n                      padding: '0.75rem',\r\n                      background: '#eff6ff',\r\n                      borderRadius: '0.25rem',\r\n                      border: '1px solid #bfdbfe'\r\n                    }}>\r\n                      <div style={{ fontSize: '0.875rem' }}>\r\n                        <strong>Selected Level:</strong> {loadedRubric.rubricLevels.find(l => l.level === currentGrading.selectedLevel)?.name}\r\n                        {' '}({Math.round(criterion.maxPoints * loadedRubric.rubricLevels.find(l => l.level === currentGrading.selectedLevel)?.multiplier)} pts)\r\n                      </div>\r\n                      <div style={{\r\n                        fontSize: '0.875rem',\r\n                        color: '#374151',\r\n                        marginTop: '0.25rem'\r\n                      }}>\r\n                        {criterion.levels?.[currentGrading.selectedLevel]?.description ||\r\n                          loadedRubric.rubricLevels.find(l => l.level === currentGrading.selectedLevel)?.description}\r\n                      </div>\r\n                    </div>\r\n                  )}\r\n                </div>\r\n              );\r\n            })}\r\n\r\n            {/* Rubric Summary */}\r\n            <div style={{\r\n              marginTop: '1.5rem',\r\n              padding: '1rem',\r\n              backgroundColor: '#f0f9ff',\r\n              borderRadius: '0.5rem',\r\n              border: '1px solid #0ea5e9'\r\n            }}>\r\n              <h4 style={{\r\n                fontSize: '1.125rem',\r\n                fontWeight: '600',\r\n                color: '#0c4a6e',\r\n                marginBottom: '0.5rem'\r\n              }}>\r\n                📈 Rubric Summary\r\n              </h4>\r\n              <div style={{ display: 'grid', gridTemplateColumns: 'repeat(auto-fit, minmax(200px, 1fr))', gap: '1rem' }}>\r\n                <div>\r\n                  <div style={{ fontSize: '0.875rem', color: '#64748b' }}>Raw Score:</div>\r\n                  <div style={{ fontSize: '1.25rem', fontWeight: '600', color: '#0f172a' }}>\r\n                    {scoreData.rawScore} / {maxPossibleScore}\r\n                  </div>\r\n                </div>\r\n                <div>\r\n                  <div style={{ fontSize: '0.875rem', color: '#64748b' }}>Final Score:</div>\r\n                  <div style={{ fontSize: '1.25rem', fontWeight: '600', color: '#059669' }}>\r\n                    {scoreData.finalScore} / {maxPossibleScore}\r\n                  </div>\r\n                </div>\r\n                <div>\r\n                  <div style={{ fontSize: '0.875rem', color: '#64748b' }}>Percentage:</div>\r\n                  <div style={{ fontSize: '1.25rem', fontWeight: '600', color: '#7c3aed' }}>\r\n                    {Math.round((scoreData.finalScore / maxPossibleScore) * 100)}%\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      {/* Late Policy Section */}\r\n      <div style={{\r\n        backgroundColor: '#ffffff',\r\n        border: '1px solid #d1d5db',\r\n        borderRadius: '0.75rem',\r\n        marginBottom: '1.5rem',\r\n        overflow: 'hidden'\r\n      }}>\r\n        <div style={{\r\n          backgroundColor: '#fef3c7',\r\n          padding: '1rem',\r\n          borderBottom: '1px solid #d1d5db'\r\n        }}>\r\n          <h3 style={{\r\n            fontSize: '1.25rem',\r\n            fontWeight: '600',\r\n            color: '#92400e',\r\n            margin: 0\r\n          }}>\r\n            ⏰ Late Policy\r\n          </h3>\r\n        </div>\r\n        <div style={{ padding: '1.5rem' }}>\r\n          <div style={{\r\n            display: 'grid',\r\n            gridTemplateColumns: 'repeat(auto-fit, minmax(120px, 1fr))',\r\n            gap: '0.5rem',\r\n            marginBottom: '1rem'\r\n          }}>\r\n            {Object.entries(latePolicyLevels).map(([level, config]) => (\r\n              <button\r\n                key={level}\r\n                onClick={() => updateLatePolicy(level)}\r\n                style={{\r\n                  padding: '0.75rem',\r\n                  borderRadius: '0.5rem',\r\n                  border: `2px solid ${gradingData?.latePolicy?.level === level ? '#f59e0b' : '#d1d5db'}`,\r\n                  backgroundColor: gradingData?.latePolicy?.level === level ? '#fbbf24' : '#ffffff',\r\n                  color: gradingData?.latePolicy?.level === level ? '#ffffff' : '#374151',\r\n                  fontSize: '0.875rem',\r\n                  fontWeight: '500',\r\n                  cursor: 'pointer',\r\n                  textAlign: 'center',\r\n                  transition: 'all 0.2s ease'\r\n                }}\r\n              >\r\n                <div style={{ fontWeight: '600' }}>\r\n                  {level.charAt(0).toUpperCase() + level.slice(1)}\r\n                </div>\r\n                <div style={{ fontSize: '0.75rem', marginTop: '0.25rem' }}>\r\n                  {Math.round(config.multiplier * 100)}%\r\n                </div>\r\n              </button>\r\n            ))}\r\n          </div>\r\n          {gradingData?.latePolicy?.level !== 'none' && (\r\n            <div style={{\r\n              padding: '0.75rem',\r\n              backgroundColor: '#fef3c7',\r\n              borderRadius: '0.25rem',\r\n              fontSize: '0.875rem',\r\n              color: '#92400e'\r\n            }}>\r\n              <strong>Applied:</strong> {latePolicyLevels[gradingData.latePolicy.level].description}\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n\r\n      {/* Feedback Section */}\r\n      <div style={{\r\n        backgroundColor: '#ffffff',\r\n        border: '1px solid #d1d5db',\r\n        borderRadius: '0.75rem',\r\n        marginBottom: '1.5rem',\r\n        overflow: 'hidden'\r\n      }}>\r\n        <div\r\n          style={{\r\n            backgroundColor: '#f3f4f6',\r\n            padding: '1rem',\r\n            borderBottom: '1px solid #d1d5db',\r\n            display: 'flex',\r\n            justifyContent: 'space-between',\r\n            alignItems: 'center',\r\n            cursor: 'pointer'\r\n          }}\r\n          onClick={() => toggleSection('feedback')}\r\n        >\r\n          <h3 style={{ fontSize: '1.25rem', fontWeight: '600', color: '#374151', margin: 0 }}>\r\n            💬 General Feedback\r\n          </h3>\r\n          <span style={{ fontSize: '1.5rem', color: '#6b7280' }}>\r\n            {showFeedbackSection ? '−' : '+'}\r\n          </span>\r\n        </div>\r\n\r\n        {showFeedbackSection && (\r\n          <div style={{ padding: '1.5rem' }}>\r\n            <div style={{ marginBottom: '1.5rem' }}>\r\n              <label style={{\r\n                display: 'block',\r\n                fontSize: '0.875rem',\r\n                fontWeight: '500',\r\n                color: '#374151',\r\n                marginBottom: '0.5rem'\r\n              }}>\r\n                General Comments:\r\n              </label>\r\n              <textarea\r\n                value={gradingData?.feedback?.general || ''}\r\n                onChange={(e) => updateFeedback('general', e.target.value)}\r\n                style={{\r\n                  width: '100%',\r\n                  padding: '0.75rem',\r\n                  border: '1px solid #d1d5db',\r\n                  borderRadius: '0.5rem',\r\n                  fontSize: '0.875rem',\r\n                  resize: 'vertical',\r\n                  minHeight: '100px'\r\n                }}\r\n                placeholder=\"Provide overall feedback on the submission...\"\r\n              />\r\n            </div>\r\n\r\n            <div style={{\r\n              display: 'grid',\r\n              gridTemplateColumns: 'repeat(auto-fit, minmax(300px, 1fr))',\r\n              gap: '1.5rem'\r\n            }}>\r\n              <div>\r\n                <label style={{\r\n                  display: 'block',\r\n                  fontSize: '0.875rem',\r\n                  fontWeight: '500',\r\n                  color: '#059669',\r\n                  marginBottom: '0.5rem'\r\n                }}>\r\n                  ✅ Strengths:\r\n                </label>\r\n                <textarea\r\n                  value={gradingData?.feedback?.strengths || ''}\r\n                  onChange={(e) => updateFeedback('strengths', e.target.value)}\r\n                  style={{\r\n                    width: '100%',\r\n                    padding: '0.75rem',\r\n                    border: '1px solid #10b981',\r\n                    borderRadius: '0.5rem',\r\n                    fontSize: '0.875rem',\r\n                    resize: 'vertical',\r\n                    minHeight: '80px'\r\n                  }}\r\n                  placeholder=\"What did the student do well?\"\r\n                />\r\n              </div>\r\n\r\n              <div>\r\n                <label style={{\r\n                  display: 'block',\r\n                  fontSize: '0.875rem',\r\n                  fontWeight: '500',\r\n                  color: '#dc2626',\r\n                  marginBottom: '0.5rem'\r\n                }}>\r\n                  🔄 Areas for Improvement:\r\n                </label>\r\n                <textarea\r\n                  value={gradingData?.feedback?.improvements || ''}\r\n                  onChange={(e) => updateFeedback('improvements', e.target.value)}\r\n                  style={{\r\n                    width: '100%',\r\n                    padding: '0.75rem',\r\n                    border: '1px solid #ef4444',\r\n                    borderRadius: '0.5rem',\r\n                    fontSize: '0.875rem',\r\n                    resize: 'vertical',\r\n                    minHeight: '80px'\r\n                  }}\r\n                  placeholder=\"What could be improved?\"\r\n                />\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      {/* Attachments Section */}\r\n      <div style={{\r\n        backgroundColor: '#ffffff',\r\n        border: '1px solid #d1d5db',\r\n        borderRadius: '0.75rem',\r\n        marginBottom: '1.5rem',\r\n        overflow: 'hidden'\r\n      }}>\r\n        <div\r\n          style={{\r\n            backgroundColor: '#f3f4f6',\r\n            padding: '1rem',\r\n            borderBottom: '1px solid #d1d5db',\r\n            display: 'flex',\r\n            justifyContent: 'space-between',\r\n            alignItems: 'center',\r\n            cursor: 'pointer'\r\n          }}\r\n          onClick={() => toggleSection('attachments')}\r\n        >\r\n          <h3 style={{ fontSize: '1.25rem', fontWeight: '600', color: '#374151', margin: 0 }}>\r\n            📎 Attachments\r\n          </h3>\r\n          <span style={{ fontSize: '1.5rem', color: '#6b7280' }}>\r\n            {showAttachmentsSection ? '−' : '+'}\r\n          </span>\r\n        </div>\r\n\r\n        {showAttachmentsSection && (\r\n          <div style={{ padding: '1.5rem' }}>\r\n            {/* Drag and Drop Zone */}\r\n            <div\r\n              ref={dropZoneRef}\r\n              onDragOver={handleDragOver}\r\n              onDragLeave={handleDragLeave}\r\n              onDrop={handleDrop}\r\n              style={{\r\n                border: `2px dashed ${dragOver ? '#3b82f6' : '#d1d5db'}`,\r\n                borderRadius: '0.5rem',\r\n                padding: '2rem',\r\n                textAlign: 'center',\r\n                backgroundColor: dragOver ? '#eff6ff' : '#f9fafb',\r\n                marginBottom: '1rem',\r\n                cursor: 'pointer',\r\n                transition: 'all 0.2s ease'\r\n              }}\r\n              onClick={() => fileInputRef.current?.click()}\r\n            >\r\n              <Upload size={48} style={{ margin: '0 auto', marginBottom: '1rem', color: '#6b7280' }} />\r\n              <p style={{ fontSize: '1rem', color: '#374151', marginBottom: '0.5rem' }}>\r\n                {dragOver ? 'Drop files here!' : 'Drag & drop files here or click to browse'}\r\n              </p>\r\n              <p style={{ fontSize: '0.875rem', color: '#6b7280' }}>\r\n                Supports images, documents, and other file types\r\n              </p>\r\n            </div>\r\n\r\n            <input\r\n              ref={fileInputRef}\r\n              type=\"file\"\r\n              multiple\r\n              onChange={(e) => handleFileUpload(e.target.files)}\r\n              style={{ display: 'none' }}\r\n            />\r\n\r\n            {/* Text Attachment Input */}\r\n            <div style={{\r\n              display: 'flex',\r\n              gap: '0.5rem',\r\n              marginBottom: '1rem'\r\n            }}>\r\n              <input\r\n                type=\"text\"\r\n                value={pendingAttachment}\r\n                onChange={(e) => setPendingAttachment(e.target.value)}\r\n                placeholder=\"Or add attachment name/description\"\r\n                style={{\r\n                  flex: 1,\r\n                  padding: '0.75rem',\r\n                  border: '1px solid #d1d5db',\r\n                  borderRadius: '0.5rem',\r\n                  fontSize: '0.875rem'\r\n                }}\r\n                onKeyPress={(e) => {\r\n                  if (e.key === 'Enter' && pendingAttachment.trim()) {\r\n                    setGradingFormData(prev => ({\r\n                      ...prev,\r\n                      attachments: [...(prev.attachments || []), {\r\n                        id: Date.now(),\r\n                        name: pendingAttachment.trim(),\r\n                        addedDate: new Date().toISOString(),\r\n                        type: 'text',\r\n                        size: 0\r\n                      }]\r\n                    }));\r\n                    setPendingAttachment('');\r\n                  }\r\n                }}\r\n              />\r\n              <button\r\n                onClick={() => {\r\n                  if (pendingAttachment.trim()) {\r\n                    setGradingFormData(prev => ({\r\n                      ...prev,\r\n                      attachments: [...(prev.attachments || []), {\r\n                        id: Date.now(),\r\n                        name: pendingAttachment.trim(),\r\n                        addedDate: new Date().toISOString(),\r\n                        type: 'text',\r\n                        size: 0\r\n                      }]\r\n                    }));\r\n                    setPendingAttachment('');\r\n                  }\r\n                }}\r\n                style={{\r\n                  padding: '0.75rem 1rem',\r\n                  backgroundColor: '#3b82f6',\r\n                  color: '#ffffff',\r\n                  border: 'none',\r\n                  borderRadius: '0.5rem',\r\n                  fontSize: '0.875rem',\r\n                  fontWeight: '500',\r\n                  cursor: 'pointer'\r\n                }}\r\n              >\r\n                Add\r\n              </button>\r\n            </div>\r\n\r\n            {/* Current Attachments */}\r\n            {gradingData?.attachments && gradingData.attachments.length > 0 && (\r\n              <div>\r\n                <h4 style={{\r\n                  fontSize: '1rem',\r\n                  fontWeight: '600',\r\n                  color: '#374151',\r\n                  marginBottom: '0.75rem'\r\n                }}>\r\n                  Current Attachments:\r\n                </h4>\r\n                <div style={{\r\n                  display: 'grid',\r\n                  gridTemplateColumns: 'repeat(auto-fit, minmax(200px, 1fr))',\r\n                  gap: '1rem'\r\n                }}>\r\n                  {gradingData.attachments.map((attachment) => (\r\n                    <div\r\n                      key={attachment.id}\r\n                      style={{\r\n                        border: '1px solid #e5e7eb',\r\n                        borderRadius: '0.5rem',\r\n                        padding: '1rem',\r\n                        backgroundColor: '#f9fafb',\r\n                        position: 'relative'\r\n                      }}\r\n                    >\r\n                      {attachment.base64Data ? (\r\n                        <img\r\n                          src={attachment.base64Data}\r\n                          alt={attachment.name}\r\n                          style={{\r\n                            width: '100%',\r\n                            height: '120px',\r\n                            objectFit: 'cover',\r\n                            borderRadius: '0.25rem',\r\n                            marginBottom: '0.5rem',\r\n                            cursor: 'pointer'\r\n                          }}\r\n                          onClick={() => {\r\n                            // Create modal for image viewing\r\n                            const modal = document.createElement('div');\r\n                            modal.style.cssText = `\r\n                              position: fixed; top: 0; left: 0; width: 100%; height: 100%;\r\n                              background: rgba(0,0,0,0.8); z-index: 1000; display: flex;\r\n                              align-items: center; justify-content: center; cursor: pointer;\r\n                            `;\r\n                            const img = document.createElement('img');\r\n                            img.src = attachment.base64Data;\r\n                            img.style.cssText = 'max-width: 90%; max-height: 90%; object-fit: contain;';\r\n                            modal.appendChild(img);\r\n                            modal.onclick = () => document.body.removeChild(modal);\r\n                            document.body.appendChild(modal);\r\n                          }}\r\n                        />\r\n                      ) : (\r\n                        <div style={{\r\n                          width: '100%',\r\n                          height: '120px',\r\n                          backgroundColor: '#e5e7eb',\r\n                          borderRadius: '0.25rem',\r\n                          display: 'flex',\r\n                          alignItems: 'center',\r\n                          justifyContent: 'center',\r\n                          marginBottom: '0.5rem',\r\n                          fontSize: '2rem'\r\n                        }}>\r\n                          📄\r\n                        </div>\r\n                      )}\r\n                      <div style={{ fontWeight: '500', color: '#374151', marginBottom: '0.25rem' }}>\r\n                        {attachment.name}\r\n                      </div>\r\n                      {attachment.size > 0 && (\r\n                        <div style={{ fontSize: '0.75rem', color: '#6b7280', marginBottom: '0.5rem' }}>\r\n                          {(attachment.size / 1024).toFixed(1)} KB\r\n                        </div>\r\n                      )}\r\n                      <button\r\n                        onClick={() => removeAttachment(attachment.id)}\r\n                        style={{\r\n                          position: 'absolute',\r\n                          top: '0.5rem',\r\n                          right: '0.5rem',\r\n                          width: '24px',\r\n                          height: '24px',\r\n                          backgroundColor: '#ef4444',\r\n                          color: '#ffffff',\r\n                          border: 'none',\r\n                          borderRadius: '50%',\r\n                          fontSize: '0.75rem',\r\n                          cursor: 'pointer',\r\n                          display: 'flex',\r\n                          alignItems: 'center',\r\n                          justifyContent: 'center'\r\n                        }}\r\n                      >\r\n                        ×\r\n                      </button>\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n              </div>\r\n            )}\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      {/* Video Links Section */}\r\n      <div style={{\r\n        backgroundColor: '#ffffff',\r\n        border: '1px solid #d1d5db',\r\n        borderRadius: '0.75rem',\r\n        marginBottom: '1.5rem',\r\n        overflow: 'hidden'\r\n      }}>\r\n        <div\r\n          style={{\r\n            backgroundColor: '#f3f4f6',\r\n            padding: '1rem',\r\n            borderBottom: '1px solid #d1d5db',\r\n            display: 'flex',\r\n            justifyContent: 'space-between',\r\n            alignItems: 'center',\r\n            cursor: 'pointer'\r\n          }}\r\n          onClick={() => toggleSection('video')}\r\n        >\r\n          <h3 style={{ fontSize: '1.25rem', fontWeight: '600', color: '#374151', margin: 0 }}>\r\n            🎥 Video Links\r\n          </h3>\r\n          <span style={{ fontSize: '1.5rem', color: '#6b7280' }}>\r\n            {showVideoSection ? '−' : '+'}\r\n          </span>\r\n        </div>\r\n\r\n        {showVideoSection && (\r\n          <div style={{ padding: '1.5rem' }}>\r\n            <div style={{\r\n              display: 'grid',\r\n              gridTemplateColumns: '2fr 1fr auto',\r\n              gap: '0.5rem',\r\n              marginBottom: '1rem'\r\n            }}>\r\n              <input\r\n                type=\"url\"\r\n                value={pendingVideoLink}\r\n                onChange={(e) => setPendingVideoLink(e.target.value)}\r\n                placeholder=\"Video URL (YouTube, Vimeo, etc.)\"\r\n                style={{\r\n                  padding: '0.75rem',\r\n                  border: '1px solid #d1d5db',\r\n                  borderRadius: '0.5rem',\r\n                  fontSize: '0.875rem'\r\n                }}\r\n              />\r\n              <input\r\n                type=\"text\"\r\n                value={videoTitle}\r\n                onChange={(e) => setVideoTitle(e.target.value)}\r\n                placeholder=\"Video title (optional)\"\r\n                style={{\r\n                  padding: '0.75rem',\r\n                  border: '1px solid #d1d5db',\r\n                  borderRadius: '0.5rem',\r\n                  fontSize: '0.875rem'\r\n                }}\r\n              />\r\n              <button\r\n                onClick={addVideoLink}\r\n                style={{\r\n                  padding: '0.75rem 1rem',\r\n                  backgroundColor: '#ef4444',\r\n                  color: '#ffffff',\r\n                  border: 'none',\r\n                  borderRadius: '0.5rem',\r\n                  fontSize: '0.875rem',\r\n                  fontWeight: '500',\r\n                  cursor: 'pointer'\r\n                }}\r\n              >\r\n                Add\r\n              </button>\r\n            </div>\r\n\r\n            {gradingData?.videoLinks && gradingData.videoLinks.length > 0 && (\r\n              <div>\r\n                <h4 style={{\r\n                  fontSize: '1rem',\r\n                  fontWeight: '600',\r\n                  color: '#374151',\r\n                  marginBottom: '0.75rem'\r\n                }}>\r\n                  Current Video Links:\r\n                </h4>\r\n                <div style={{ display: 'flex', flexDirection: 'column', gap: '0.5rem' }}>\r\n                  {gradingData.videoLinks.map((link) => (\r\n                    <div\r\n                      key={link.id}\r\n                      style={{\r\n                        display: 'flex',\r\n                        justifyContent: 'space-between',\r\n                        alignItems: 'center',\r\n                        padding: '0.75rem',\r\n                        backgroundColor: '#f9fafb',\r\n                        borderRadius: '0.375rem',\r\n                        border: '1px solid #e5e7eb'\r\n                      }}\r\n                    >\r\n                      <div style={{ flex: 1 }}>\r\n                        <div style={{ fontWeight: '500', color: '#374151', marginBottom: '0.25rem' }}>\r\n                          {link.title}\r\n                        </div>\r\n                        <a\r\n                          href={link.url}\r\n                          target=\"_blank\"\r\n                          rel=\"noopener noreferrer\"\r\n                          style={{\r\n                            color: '#3b82f6',\r\n                            textDecoration: 'underline',\r\n                            fontSize: '0.875rem',\r\n                            wordBreak: 'break-all'\r\n                          }}\r\n                        >\r\n                          {link.url}\r\n                        </a>\r\n                        <div style={{ fontSize: '0.75rem', color: '#6b7280', marginTop: '0.25rem' }}>\r\n                          Added: {new Date(link.addedDate).toLocaleDateString()}\r\n                        </div>\r\n                      </div>\r\n                      <button\r\n                        onClick={() => removeVideoLink(link.id)}\r\n                        style={{\r\n                          padding: '0.25rem 0.5rem',\r\n                          backgroundColor: '#ef4444',\r\n                          color: '#ffffff',\r\n                          border: 'none',\r\n                          borderRadius: '0.25rem',\r\n                          fontSize: '0.75rem',\r\n                          cursor: 'pointer',\r\n                          marginLeft: '1rem'\r\n                        }}\r\n                      >\r\n                        Remove\r\n                      </button>\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n              </div>\r\n            )}\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      {/* Export Section */}\r\n      <div style={{\r\n        backgroundColor: '#ffffff',\r\n        border: '1px solid #d1d5db',\r\n        borderRadius: '0.75rem',\r\n        marginBottom: '1.5rem',\r\n        overflow: 'hidden'\r\n      }}>\r\n        <div style={{\r\n          backgroundColor: '#f3f4f6',\r\n          padding: '1rem',\r\n          borderBottom: '1px solid #d1d5db'\r\n        }}>\r\n          <h3 style={{\r\n            fontSize: '1.25rem',\r\n            fontWeight: '600',\r\n            color: '#374151',\r\n            margin: 0\r\n          }}>\r\n            📄 Export Options\r\n          </h3>\r\n        </div>\r\n        <div style={{ padding: '1.5rem' }}>\r\n          <div style={{\r\n            display: 'grid',\r\n            gridTemplateColumns: 'repeat(auto-fit, minmax(200px, 1fr))',\r\n            gap: '1rem'\r\n          }}>\r\n            <button\r\n              onClick={exportToHTML}\r\n              style={{\r\n                display: 'flex',\r\n                alignItems: 'center',\r\n                justifyContent: 'center',\r\n                gap: '0.5rem',\r\n                padding: '1rem',\r\n                backgroundColor: '#3b82f6',\r\n                color: '#ffffff',\r\n                border: 'none',\r\n                borderRadius: '0.5rem',\r\n                fontSize: '0.875rem',\r\n                fontWeight: '500',\r\n                cursor: 'pointer'\r\n              }}\r\n            >\r\n              <FileText size={20} />\r\n              Export as HTML\r\n            </button>\r\n            <button\r\n              onClick={exportToPDF}\r\n              style={{\r\n                display: 'flex',\r\n                alignItems: 'center',\r\n                justifyContent: 'center',\r\n                gap: '0.5rem',\r\n                padding: '1rem',\r\n                backgroundColor: '#ef4444',\r\n                color: '#ffffff',\r\n                border: 'none',\r\n                borderRadius: '0.5rem',\r\n                fontSize: '0.875rem',\r\n                fontWeight: '500',\r\n                cursor: 'pointer'\r\n              }}\r\n            >\r\n              <FileDown size={20} />\r\n              Export as PDF\r\n            </button>\r\n          </div>\r\n          <p style={{\r\n            fontSize: '0.75rem',\r\n            color: '#6b7280',\r\n            marginTop: '1rem',\r\n            textAlign: 'center'\r\n          }}>\r\n            Export creates complete grade reports with rubric details, feedback, and attachments\r\n          </p>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Navigation Buttons */}\r\n      <div style={{\r\n        position: 'sticky',\r\n        bottom: '1rem',\r\n        backgroundColor: '#ffffff',\r\n        border: '1px solid #d1d5db',\r\n        borderRadius: '0.75rem',\r\n        padding: '1.5rem',\r\n        boxShadow: '0 10px 15px -3px rgba(0, 0, 0, 0.1)'\r\n      }}>\r\n        <div style={{\r\n          display: 'grid',\r\n          gridTemplateColumns: 'auto 1fr auto auto',\r\n          gap: '1rem',\r\n          alignItems: 'center'\r\n        }}>\r\n          {/* Previous Student Button */}\r\n          <button\r\n            onClick={handlePreviousStudent}\r\n            disabled={!gradingSession?.active || gradingSession?.currentStudentIndex === 0}\r\n            style={{\r\n              display: 'flex',\r\n              alignItems: 'center',\r\n              gap: '0.5rem',\r\n              padding: '0.75rem 1rem',\r\n              backgroundColor: gradingSession?.active && gradingSession?.currentStudentIndex > 0 ? '#6b7280' : '#d1d5db',\r\n              color: '#ffffff',\r\n              border: 'none',\r\n              borderRadius: '0.5rem',\r\n              fontSize: '0.875rem',\r\n              fontWeight: '500',\r\n              cursor: gradingSession?.active && gradingSession?.currentStudentIndex > 0 ? 'pointer' : 'not-allowed'\r\n            }}\r\n          >\r\n            <ArrowLeft size={16} />\r\n            Previous\r\n          </button>\r\n\r\n          {/* Status Display */}\r\n          <div style={{ textAlign: 'center' }}>\r\n            <div style={{ fontSize: '0.875rem', color: '#6b7280' }}>\r\n              Current Score: <strong>{scoreData.finalScore} / {maxPossibleScore}</strong>\r\n              {scoreData.penaltyApplied && (\r\n                <span style={{ color: '#f59e0b', marginLeft: '0.5rem' }}>\r\n                  (Late penalty applied)\r\n                </span>\r\n              )}\r\n            </div>\r\n            <div style={{ fontSize: '0.75rem', color: '#9ca3af', marginTop: '0.25rem' }}>\r\n              {Math.round((scoreData.finalScore / maxPossibleScore) * 100)}% |\r\n              Grade: {scoreData.finalScore >= maxPossibleScore * 0.9 ? 'A' :\r\n                scoreData.finalScore >= maxPossibleScore * 0.8 ? 'B' :\r\n                  scoreData.finalScore >= maxPossibleScore * 0.7 ? 'C' :\r\n                    scoreData.finalScore >= maxPossibleScore * 0.6 ? 'D' : 'F'}\r\n            </div>\r\n          </div>\r\n\r\n          {/* Save as Draft Button */}\r\n          <button\r\n            onClick={handleNextStudentAsDraft}\r\n            style={{\r\n              display: 'flex',\r\n              alignItems: 'center',\r\n              gap: '0.5rem',\r\n              padding: '0.75rem 1.5rem',\r\n              backgroundColor: '#f59e0b',\r\n              color: '#ffffff',\r\n              border: 'none',\r\n              borderRadius: '0.5rem',\r\n              fontSize: '0.875rem',\r\n              fontWeight: '500',\r\n              cursor: 'pointer'\r\n            }}\r\n          >\r\n            <Save size={16} />\r\n            Save as Draft & Continue\r\n          </button>\r\n\r\n          {/* Finalize Button */}\r\n          <button\r\n            onClick={handleNextStudentAsFinal}\r\n            style={{\r\n              display: 'flex',\r\n              alignItems: 'center',\r\n              gap: '0.5rem',\r\n              padding: '0.75rem 1.5rem',\r\n              backgroundColor: '#059669',\r\n              color: '#ffffff',\r\n              border: 'none',\r\n              borderRadius: '0.5rem',\r\n              fontSize: '0.875rem',\r\n              fontWeight: '500',\r\n              cursor: 'pointer'\r\n            }}\r\n          >\r\n            <CheckCircle size={16} />\r\n            Finalize & Continue\r\n          </button>\r\n        </div>\r\n\r\n        {/* Additional Actions */}\r\n        <div style={{\r\n          marginTop: '1rem',\r\n          display: 'flex',\r\n          justifyContent: 'center',\r\n          gap: '1rem',\r\n          flexWrap: 'wrap'\r\n        }}>\r\n          <button\r\n            onClick={() => {\r\n              if (currentStudent?.id) {\r\n                saveDraft(currentStudent.id, gradingData);\r\n                alert('Draft saved successfully!');\r\n              }\r\n            }}\r\n            style={{\r\n              display: 'flex',\r\n              alignItems: 'center',\r\n              gap: '0.25rem',\r\n              padding: '0.5rem 1rem',\r\n              backgroundColor: '#3b82f6',\r\n              color: '#ffffff',\r\n              border: 'none',\r\n              borderRadius: '0.375rem',\r\n              fontSize: '0.75rem',\r\n              cursor: 'pointer'\r\n            }}\r\n          >\r\n            <Save size={14} />\r\n            Save Draft Only\r\n          </button>\r\n\r\n          <button\r\n            onClick={() => setActiveTab('class-manager')}\r\n            style={{\r\n              display: 'flex',\r\n              alignItems: 'center',\r\n              gap: '0.25rem',\r\n              padding: '0.5rem 1rem',\r\n              backgroundColor: '#6b7280',\r\n              color: '#ffffff',\r\n              border: 'none',\r\n              borderRadius: '0.375rem',\r\n              fontSize: '0.75rem',\r\n              cursor: 'pointer'\r\n            }}\r\n          >\r\n            <Users size={14} />\r\n            Back to Class Manager\r\n          </button>\r\n\r\n          <button\r\n            onClick={() => {\r\n              clearGradingFormData();\r\n              alert('Form cleared! Starting fresh.');\r\n            }}\r\n            style={{\r\n              display: 'flex',\r\n              alignItems: 'center',\r\n              gap: '0.25rem',\r\n              padding: '0.5rem 1rem',\r\n              backgroundColor: '#dc2626',\r\n              color: '#ffffff',\r\n              border: 'none',\r\n              borderRadius: '0.375rem',\r\n              fontSize: '0.75rem',\r\n              cursor: 'pointer'\r\n            }}\r\n          >\r\n            <RotateCcw size={14} />\r\n            Clear Form\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default GradingTemplate;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}