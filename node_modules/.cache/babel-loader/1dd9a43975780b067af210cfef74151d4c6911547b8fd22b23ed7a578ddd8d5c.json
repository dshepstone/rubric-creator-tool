{"ast":null,"code":"var _jsxFileName = \"C:\\\\local clones\\\\rubric-creation-app\\\\src\\\\components\\\\RubricCreator.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useRef, useEffect } from 'react';\nimport { Plus, X, Upload, Download, Save, FileText, RotateCcw, ChevronDown, ChevronUp, Maximize2, ArrowRight } from 'lucide-react';\nimport { useAssessment } from './SharedContext';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst RubricCreator = () => {\n  _s();\n  // Get shared context for better integration\n  const {\n    setSharedRubric,\n    transferRubricToGradingWithDetails,\n    persistentFormData,\n    updateCourseInfo,\n    updateAssignmentInfo\n  } = useAssessment();\n\n  // Default rubric levels (5+2 design)\n  const defaultLevels = [{\n    level: 'incomplete',\n    name: 'Incomplete',\n    description: 'No submission or unusable',\n    color: '#95a5a6',\n    multiplier: 0\n  }, {\n    level: 'unacceptable',\n    name: 'Unacceptable',\n    description: 'Below minimum standards',\n    color: '#e74c3c',\n    multiplier: 0.3\n  }, {\n    level: 'developing',\n    name: 'Developing',\n    description: 'Approaching standards',\n    color: '#f39c12',\n    multiplier: 0.55\n  }, {\n    level: 'acceptable',\n    name: 'Acceptable (PASS)',\n    description: 'Meets minimum standards',\n    color: '#27ae60',\n    multiplier: 0.7\n  }, {\n    level: 'emerging',\n    name: 'Emerging',\n    description: 'Above standard expectations',\n    color: '#2980b9',\n    multiplier: 0.82\n  }, {\n    level: 'accomplished',\n    name: 'Accomplished',\n    description: 'Strong professional quality',\n    color: '#16a085',\n    multiplier: 0.92\n  }, {\n    level: 'exceptional',\n    name: 'Exceptional',\n    description: 'Outstanding professional quality',\n    color: '#8e44ad',\n    multiplier: 1.0\n  }];\n\n  // State management - initialize with persistent data if available\n  const [rubricData, setRubricData] = useState(() => {\n    var _persistentFormData$a;\n    return {\n      assignmentInfo: {\n        title: (persistentFormData === null || persistentFormData === void 0 ? void 0 : (_persistentFormData$a = persistentFormData.assignment) === null || _persistentFormData$a === void 0 ? void 0 : _persistentFormData$a.name) || '',\n        description: '',\n        weight: 25,\n        passingThreshold: 60,\n        totalPoints: 100\n      },\n      rubricLevels: [...defaultLevels],\n      criteria: [{\n        id: 'criterion-1',\n        name: '',\n        description: '',\n        maxPoints: 20,\n        weight: 20,\n        levels: {},\n        feedbackLibrary: {\n          strengths: [],\n          improvements: [],\n          general: []\n        }\n      }]\n    };\n  });\n  const [pointingSystem, setPointingSystem] = useState('multiplier');\n  const [reversedOrder, setReversedOrder] = useState(false);\n  const [showGuide, setShowGuide] = useState(false);\n  const [expandedFeedback, setExpandedFeedback] = useState({});\n  const [modalEdit, setModalEdit] = useState({\n    show: false,\n    content: '',\n    field: null,\n    onSave: null\n  });\n\n  // Refs for file inputs\n  const importInputRef = useRef(null);\n\n  // Sync with persistent form data\n  useEffect(() => {\n    var _persistentFormData$a2;\n    if (persistentFormData !== null && persistentFormData !== void 0 && (_persistentFormData$a2 = persistentFormData.assignment) !== null && _persistentFormData$a2 !== void 0 && _persistentFormData$a2.name && !rubricData.assignmentInfo.title) {\n      setRubricData(prev => ({\n        ...prev,\n        assignmentInfo: {\n          ...prev.assignmentInfo,\n          title: persistentFormData.assignment.name\n        }\n      }));\n    }\n  }, [persistentFormData, rubricData.assignmentInfo.title]);\n\n  // Update persistent data when rubric changes\n  useEffect(() => {\n    if (rubricData.assignmentInfo.title) {\n      updateAssignmentInfo({\n        name: rubricData.assignmentInfo.title,\n        maxPoints: calculateTotalPoints()\n      });\n    }\n  }, [rubricData.assignmentInfo.title, updateAssignmentInfo]);\n\n  // Toggle feedback section expansion\n  const toggleFeedbackExpansion = criterionId => {\n    setExpandedFeedback(prev => ({\n      ...prev,\n      [criterionId]: !prev[criterionId]\n    }));\n  };\n\n  // Open modal for text editing\n  const openModalEdit = (content, field, onSave) => {\n    setModalEdit({\n      show: true,\n      content,\n      field,\n      onSave\n    });\n  };\n\n  // Close modal and save if needed\n  const closeModalEdit = (save = false) => {\n    if (save && modalEdit.onSave) {\n      modalEdit.onSave(modalEdit.content);\n    }\n    setModalEdit({\n      show: false,\n      content: '',\n      field: null,\n      onSave: null\n    });\n  };\n\n  // Calculate total points based on current settings\n  const calculateTotalPoints = () => {\n    return rubricData.criteria.reduce((total, criterion) => total + criterion.maxPoints, 0);\n  };\n\n  // Update total points when criteria change\n  useEffect(() => {\n    const newTotal = calculateTotalPoints();\n    setRubricData(prev => ({\n      ...prev,\n      assignmentInfo: {\n        ...prev.assignmentInfo,\n        totalPoints: newTotal\n      }\n    }));\n  }, [rubricData.criteria]);\n\n  // Add new criterion\n  const addCriterion = () => {\n    const newCriterion = {\n      id: `criterion-${Date.now()}`,\n      name: '',\n      description: '',\n      maxPoints: 20,\n      weight: 20,\n      levels: {},\n      feedbackLibrary: {\n        strengths: [],\n        improvements: [],\n        general: []\n      }\n    };\n    setRubricData(prev => ({\n      ...prev,\n      criteria: [...prev.criteria, newCriterion]\n    }));\n  };\n\n  // Remove criterion\n  const removeCriterion = criterionId => {\n    setRubricData(prev => ({\n      ...prev,\n      criteria: prev.criteria.filter(c => c.id !== criterionId)\n    }));\n  };\n\n  // Update criterion\n  const updateCriterion = (criterionId, field, value) => {\n    setRubricData(prev => ({\n      ...prev,\n      criteria: prev.criteria.map(criterion => criterion.id === criterionId ? {\n        ...criterion,\n        [field]: value\n      } : criterion)\n    }));\n  };\n\n  // Update criterion level description\n  const updateCriterionLevel = (criterionId, level, field, value) => {\n    setRubricData(prev => ({\n      ...prev,\n      criteria: prev.criteria.map(criterion => criterion.id === criterionId ? {\n        ...criterion,\n        levels: {\n          ...criterion.levels,\n          [level]: {\n            ...criterion.levels[level],\n            [field]: value\n          }\n        }\n      } : criterion)\n    }));\n  };\n\n  // Add feedback item to criterion\n  const addFeedbackItem = (criterionId, category, item) => {\n    setRubricData(prev => ({\n      ...prev,\n      criteria: prev.criteria.map(criterion => criterion.id === criterionId ? {\n        ...criterion,\n        feedbackLibrary: {\n          ...criterion.feedbackLibrary,\n          [category]: [...criterion.feedbackLibrary[category], item]\n        }\n      } : criterion)\n    }));\n  };\n\n  // Remove feedback item\n  const removeFeedbackItem = (criterionId, category, index) => {\n    setRubricData(prev => ({\n      ...prev,\n      criteria: prev.criteria.map(criterion => criterion.id === criterionId ? {\n        ...criterion,\n        feedbackLibrary: {\n          ...criterion.feedbackLibrary,\n          [category]: criterion.feedbackLibrary[category].filter((_, i) => i !== index)\n        }\n      } : criterion)\n    }));\n  };\n\n  // Calculate point range for a level\n  const calculatePointRange = (criterion, level) => {\n    const rubricLevel = rubricData.rubricLevels.find(l => l.level === level);\n    if (!rubricLevel) return '0';\n    if (pointingSystem === 'multiplier') {\n      const points = Math.round(criterion.maxPoints * rubricLevel.multiplier);\n      return level === 'incomplete' ? '0' : points.toString();\n    } else {\n      var _criterion$levels$lev;\n      // Custom points would be entered directly\n      return ((_criterion$levels$lev = criterion.levels[level]) === null || _criterion$levels$lev === void 0 ? void 0 : _criterion$levels$lev.pointRange) || '0';\n    }\n  };\n\n  // Get display levels (potentially reversed)\n  const getDisplayLevels = () => {\n    return reversedOrder ? [...rubricData.rubricLevels].reverse() : rubricData.rubricLevels;\n  };\n\n  // Save rubric to JSON\n  const saveRubric = () => {\n    const dataStr = JSON.stringify(rubricData, null, 2);\n    const dataBlob = new Blob([dataStr], {\n      type: 'application/json'\n    });\n    const url = URL.createObjectURL(dataBlob);\n    const link = document.createElement('a');\n    link.href = url;\n    link.download = `rubric_${rubricData.assignmentInfo.title.replace(/\\s+/g, '_')}_draft.json`;\n    link.click();\n    URL.revokeObjectURL(url);\n  };\n\n  // Export rubric for grading template\n  const exportForGrading = () => {\n    const exportData = {\n      ...rubricData\n    };\n\n    // Ensure all criterion levels have proper point ranges\n    exportData.criteria = exportData.criteria.map(criterion => ({\n      ...criterion,\n      levels: Object.fromEntries(rubricData.rubricLevels.map(level => {\n        var _criterion$levels$lev2;\n        return [level.level, {\n          pointRange: calculatePointRange(criterion, level.level),\n          description: ((_criterion$levels$lev2 = criterion.levels[level.level]) === null || _criterion$levels$lev2 === void 0 ? void 0 : _criterion$levels$lev2.description) || ''\n        }];\n      }))\n    }));\n\n    // Save to shared context for grading tool\n    setSharedRubric(exportData);\n\n    // Also download as before\n    const dataStr = JSON.stringify(exportData, null, 2);\n    const dataBlob = new Blob([dataStr], {\n      type: 'application/json'\n    });\n    const url = URL.createObjectURL(dataBlob);\n    const link = document.createElement('a');\n    link.href = url;\n    link.download = `rubric_${rubricData.assignmentInfo.title.replace(/\\s+/g, '_')}_final.json`;\n    link.click();\n    URL.revokeObjectURL(url);\n  };\n\n  // Transfer to grading tool directly with enhanced integration\n  const transferToGrading = () => {\n    const exportData = {\n      ...rubricData\n    };\n    exportData.criteria = exportData.criteria.map(criterion => ({\n      ...criterion,\n      levels: Object.fromEntries(rubricData.rubricLevels.map(level => {\n        var _criterion$levels$lev3;\n        return [level.level, {\n          pointRange: calculatePointRange(criterion, level.level),\n          description: ((_criterion$levels$lev3 = criterion.levels[level.level]) === null || _criterion$levels$lev3 === void 0 ? void 0 : _criterion$levels$lev3.description) || ''\n        }];\n      }))\n    }));\n\n    // Use enhanced transfer function that preserves form data\n    transferRubricToGradingWithDetails(exportData);\n  };\n\n  // Import rubric data\n  const importRubric = event => {\n    const file = event.target.files[0];\n    if (file) {\n      const reader = new FileReader();\n      reader.onload = e => {\n        try {\n          var _importedData$assignm;\n          const importedData = JSON.parse(e.target.result);\n          setRubricData(importedData);\n\n          // Update persistent form data\n          if ((_importedData$assignm = importedData.assignmentInfo) !== null && _importedData$assignm !== void 0 && _importedData$assignm.title) {\n            updateAssignmentInfo({\n              name: importedData.assignmentInfo.title,\n              maxPoints: importedData.assignmentInfo.totalPoints || calculateTotalPoints()\n            });\n          }\n        } catch (error) {\n          alert('Error loading rubric. Please check the JSON format.');\n        }\n      };\n      reader.readAsText(file);\n    }\n    // Reset file input\n    event.target.value = '';\n  };\n\n  // Export to HTML\n  const exportToHTML = () => {\n    const displayLevels = getDisplayLevels();\n    const htmlContent = `\n<!DOCTYPE html>\n<html>\n<head>\n    <meta charset=\"UTF-8\">\n    <title>${rubricData.assignmentInfo.title} - Rubric</title>\n    <style>\n        body { font-family: Arial, sans-serif; max-width: 1200px; margin: 0 auto; padding: 20px; line-height: 1.4; }\n        .header { text-align: center; margin-bottom: 30px; padding-bottom: 20px; border-bottom: 2px solid #333; }\n        .assignment-info { background: #f8f9fa; padding: 15px; border-radius: 8px; margin-bottom: 25px; }\n        .rubric-table { width: 100%; border-collapse: collapse; margin-bottom: 30px; font-size: 0.85rem; }\n        .rubric-table th, .rubric-table td { border: 1px solid #ddd; padding: 10px; text-align: left; vertical-align: top; }\n        .rubric-table th { background: #2c3e50; color: white; text-align: center; font-weight: 600; }\n        .level-header { text-align: center; font-weight: bold; }\n        .criterion-name { font-weight: bold; background: #f8f9fa; }\n        .point-range { text-align: center; font-weight: bold; color: #2c3e50; }\n        .overall-score { background: #e8f4fd; padding: 20px; border-radius: 8px; margin-top: 30px; }\n        .footer { margin-top: 40px; text-align: center; font-size: 0.9rem; color: #666; }\n    </style>\n</head>\n<body>\n    <div class=\"header\">\n        <h1>${rubricData.assignmentInfo.title}</h1>\n        <p>${rubricData.assignmentInfo.description}</p>\n    </div>\n    \n    <div class=\"assignment-info\">\n        <p><strong>Assignment Weight:</strong> ${rubricData.assignmentInfo.weight}% of Final Grade</p>\n        <p><strong>Passing Threshold:</strong> ${rubricData.assignmentInfo.passingThreshold}%</p>\n        <p><strong>Total Points:</strong> ${rubricData.assignmentInfo.totalPoints}</p>\n    </div>\n    \n    <table class=\"rubric-table\">\n        <thead>\n            <tr>\n                <th style=\"width: 20%\">Criterion</th>\n                ${displayLevels.map(level => `<th style=\"width: ${80 / displayLevels.length}%\">${level.name}</th>`).join('')}\n            </tr>\n        </thead>\n        <tbody>\n            ${rubricData.criteria.map(criterion => `\n                <tr>\n                    <td class=\"criterion-name\">\n                        <strong>${criterion.name}</strong> (${criterion.maxPoints} pts)\n                        <br><small style=\"color: #666; font-style: italic;\">${criterion.description}</small>\n                    </td>\n                    ${displayLevels.map(level => {\n      var _criterion$levels$lev4;\n      return `\n                        <td>\n                            <div class=\"point-range\">${calculatePointRange(criterion, level.level)} pts</div>\n                            <div style=\"margin-top: 8px; font-size: 0.9rem;\">\n                                ${((_criterion$levels$lev4 = criterion.levels[level.level]) === null || _criterion$levels$lev4 === void 0 ? void 0 : _criterion$levels$lev4.description) || 'Not defined'}\n                            </div>\n                        </td>\n                    `;\n    }).join('')}\n                </tr>\n            `).join('')}\n        </tbody>\n    </table>\n    \n    <div class=\"overall-score\">\n        <h3>Overall Score</h3>\n        <p>Each submission is assigned a level of achievement based on its overall rubric score.</p>\n        <div style=\"display: flex; gap: 10px; margin-top: 15px; flex-wrap: wrap;\">\n            ${displayLevels.map(level => `\n                <div style=\"flex: 1; min-width: 120px; text-align: center; padding: 10px; border: 2px solid ${level.color}; border-radius: 8px; background: ${level.color}15;\">\n                    <div style=\"font-weight: bold; color: ${level.color};\">${level.name}</div>\n                    <div style=\"font-size: 0.9rem; margin-top: 5px;\">${Math.round(rubricData.assignmentInfo.totalPoints * level.multiplier)} or more</div>\n                </div>\n            `).join('')}\n        </div>\n    </div>\n    \n    <div class=\"footer\">\n        <p>Generated on ${new Date().toLocaleDateString()} | Total Points: ${rubricData.assignmentInfo.totalPoints}</p>\n    </div>\n</body>\n</html>`;\n    const htmlBlob = new Blob([htmlContent], {\n      type: 'text/html'\n    });\n    const url = URL.createObjectURL(htmlBlob);\n    const link = document.createElement('a');\n    link.href = url;\n    link.download = `rubric_${rubricData.assignmentInfo.title.replace(/\\s+/g, '_')}_display.html`;\n    link.click();\n    URL.revokeObjectURL(url);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen bg-gray-50 p-6\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"max-w-7xl mx-auto bg-white rounded-lg shadow-lg\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-blue-900 text-white p-6 rounded-t-lg\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex justify-between items-center\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n              className: \"text-2xl font-bold\",\n              children: \"Rubric Creation Tool\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 430,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-blue-200\",\n              children: \"Professional Rubric Builder for Educational Assessment\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 431,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 429,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex gap-2 flex-wrap\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => {\n                var _importInputRef$curre;\n                return (_importInputRef$curre = importInputRef.current) === null || _importInputRef$curre === void 0 ? void 0 : _importInputRef$curre.click();\n              },\n              className: \"bg-purple-700 hover:bg-purple-600 px-3 py-2 rounded flex items-center gap-1 text-sm\",\n              title: \"Import AI-generated rubric content or existing rubric\",\n              children: [/*#__PURE__*/_jsxDEV(Upload, {\n                size: 14\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 439,\n                columnNumber: 33\n              }, this), \"Import\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 434,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: transferToGrading,\n              className: \"bg-blue-700 hover:bg-blue-600 px-3 py-2 rounded flex items-center gap-1 text-sm\",\n              title: \"Send rubric directly to grading tool\",\n              children: [/*#__PURE__*/_jsxDEV(ArrowRight, {\n                size: 14\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 447,\n                columnNumber: 33\n              }, this), \"Use for Grading\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 442,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: saveRubric,\n              className: \"bg-teal-700 hover:bg-teal-600 px-3 py-2 rounded flex items-center gap-1 text-sm\",\n              title: \"Save work in progress as JSON file\",\n              children: [/*#__PURE__*/_jsxDEV(Save, {\n                size: 14\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 455,\n                columnNumber: 33\n              }, this), \"Save Draft\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 450,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: exportForGrading,\n              className: \"bg-green-700 hover:bg-green-600 px-3 py-2 rounded flex items-center gap-1 text-sm\",\n              title: \"Export final rubric for use in grading template\",\n              children: [/*#__PURE__*/_jsxDEV(Download, {\n                size: 14\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 463,\n                columnNumber: 33\n              }, this), \"Export JSON\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 458,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: exportToHTML,\n              className: \"bg-orange-700 hover:bg-orange-600 px-3 py-2 rounded flex items-center gap-1 text-sm\",\n              title: \"Export HTML version for student distribution\",\n              children: [/*#__PURE__*/_jsxDEV(FileText, {\n                size: 14\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 471,\n                columnNumber: 33\n              }, this), \"Export HTML\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 466,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 433,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 428,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 427,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"p-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-gray-50 border border-gray-300 rounded-lg mb-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setShowGuide(!showGuide),\n            className: \"w-full p-3 text-left font-medium text-gray-700 hover:bg-gray-100 flex items-center justify-between\",\n            children: [\"\\uD83D\\uDCD6 Button Guide & Instructions\", /*#__PURE__*/_jsxDEV(\"span\", {\n              className: `transform transition-transform ${showGuide ? 'rotate-180' : ''}`,\n              children: \"\\u25BC\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 486,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 481,\n            columnNumber: 25\n          }, this), showGuide && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"p-4 border-t border-gray-300 text-sm\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"grid grid-cols-1 md:grid-cols-2 gap-6\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                  className: \"font-semibold text-gray-800 mb-2\",\n                  children: \"\\uD83D\\uDD27 Rubric Building\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 492,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n                  className: \"space-y-1 text-gray-700\",\n                  children: [/*#__PURE__*/_jsxDEV(\"li\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                      children: \"Import:\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 494,\n                      columnNumber: 49\n                    }, this), \" Load AI-generated rubric content or existing rubrics\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 494,\n                    columnNumber: 45\n                  }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                      children: \"Use for Grading:\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 495,\n                      columnNumber: 49\n                    }, this), \" Transfer directly to grading tool with data sync\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 495,\n                    columnNumber: 45\n                  }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                      children: \"Save Draft:\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 496,\n                      columnNumber: 49\n                    }, this), \" Save work in progress (JSON format)\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 496,\n                    columnNumber: 45\n                  }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                      children: \"Export JSON:\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 497,\n                      columnNumber: 49\n                    }, this), \" Final rubric for grading template use\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 497,\n                    columnNumber: 45\n                  }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                      children: \"Export HTML:\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 498,\n                      columnNumber: 49\n                    }, this), \" Student-friendly display version\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 498,\n                    columnNumber: 45\n                  }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                      children: \"Reverse Order:\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 499,\n                      columnNumber: 49\n                    }, this), \" Switch between low\\u2192high and high\\u2192low level ordering\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 499,\n                    columnNumber: 45\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 493,\n                  columnNumber: 41\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 491,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                  className: \"font-semibold text-gray-800 mb-2\",\n                  children: \"\\uD83D\\uDCDD Data Integration\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 503,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n                  className: \"space-y-1 text-gray-700\",\n                  children: [/*#__PURE__*/_jsxDEV(\"li\", {\n                    children: \"\\u2022 Assignment data automatically syncs with grading tool\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 505,\n                    columnNumber: 45\n                  }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                    children: \"\\u2022 Content persists when switching between tabs\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 506,\n                    columnNumber: 45\n                  }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                    children: \"\\u2022 Right-click text areas for full-page editing\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 507,\n                    columnNumber: 45\n                  }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                    children: \"\\u2022 Export HTML for student distribution\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 508,\n                    columnNumber: 45\n                  }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                    children: \"\\u2022 Import existing rubrics to continue work\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 509,\n                    columnNumber: 45\n                  }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                    children: \"\\u2022 All changes are automatically saved in context\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 510,\n                    columnNumber: 45\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 504,\n                  columnNumber: 41\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 502,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 490,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 489,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 480,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-blue-50 border border-blue-200 p-6 rounded-lg mb-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"text-lg font-semibold text-blue-800 mb-4\",\n            children: \"Assignment Information\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 520,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"grid grid-cols-1 md:grid-cols-2 gap-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"block text-sm font-medium text-gray-700 mb-1\",\n                children: \"Assignment Title\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 523,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                value: rubricData.assignmentInfo.title,\n                onChange: e => setRubricData(prev => ({\n                  ...prev,\n                  assignmentInfo: {\n                    ...prev.assignmentInfo,\n                    title: e.target.value\n                  }\n                })),\n                className: \"w-full p-3 border rounded-lg\",\n                placeholder: \"e.g., Assignment 4: Animation B Final\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 524,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 522,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"block text-sm font-medium text-gray-700 mb-1\",\n                children: \"Weight (% of Final Grade)\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 536,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"number\",\n                value: rubricData.assignmentInfo.weight,\n                onChange: e => setRubricData(prev => ({\n                  ...prev,\n                  assignmentInfo: {\n                    ...prev.assignmentInfo,\n                    weight: parseInt(e.target.value) || 0\n                  }\n                })),\n                className: \"w-full p-3 border rounded-lg\",\n                min: \"0\",\n                max: \"100\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 537,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 535,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"md:col-span-2\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"block text-sm font-medium text-gray-700 mb-1\",\n                children: \"Description\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 550,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n                value: rubricData.assignmentInfo.description,\n                onChange: e => setRubricData(prev => ({\n                  ...prev,\n                  assignmentInfo: {\n                    ...prev.assignmentInfo,\n                    description: e.target.value\n                  }\n                })),\n                onContextMenu: e => {\n                  e.preventDefault();\n                  openModalEdit(rubricData.assignmentInfo.description, 'Assignment Description', newContent => setRubricData(prev => ({\n                    ...prev,\n                    assignmentInfo: {\n                      ...prev.assignmentInfo,\n                      description: newContent\n                    }\n                  })));\n                },\n                className: \"w-full p-3 border rounded-lg resize-both\",\n                rows: \"2\",\n                placeholder: \"Brief description of the assignment and its requirements\",\n                title: \"Right-click for full-page editor\",\n                style: {\n                  minHeight: '60px',\n                  maxHeight: '200px',\n                  resize: 'both'\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 551,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 549,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"block text-sm font-medium text-gray-700 mb-1\",\n                children: \"Passing Threshold (%)\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 576,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"number\",\n                value: rubricData.assignmentInfo.passingThreshold,\n                onChange: e => setRubricData(prev => ({\n                  ...prev,\n                  assignmentInfo: {\n                    ...prev.assignmentInfo,\n                    passingThreshold: parseInt(e.target.value) || 0\n                  }\n                })),\n                className: \"w-full p-3 border rounded-lg\",\n                min: \"0\",\n                max: \"100\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 577,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 575,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"block text-sm font-medium text-gray-700 mb-1\",\n                children: \"Total Points (Calculated)\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 590,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"number\",\n                value: calculateTotalPoints(),\n                disabled: true,\n                className: \"w-full p-3 border rounded-lg bg-gray-100\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 591,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 589,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 521,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 519,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-yellow-50 border border-yellow-200 p-4 rounded-lg mb-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            className: \"font-semibold text-gray-800 mb-3\",\n            children: \"Point Calculation System\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 603,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex gap-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"flex items-center\",\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"radio\",\n                name: \"pointSystem\",\n                value: \"multiplier\",\n                checked: pointingSystem === 'multiplier',\n                onChange: e => setPointingSystem(e.target.value),\n                className: \"mr-2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 606,\n                columnNumber: 33\n              }, this), \"Automatic (Multiplier-based): Points calculated automatically based on level multipliers\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 605,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"flex items-center\",\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"radio\",\n                name: \"pointSystem\",\n                value: \"custom\",\n                checked: pointingSystem === 'custom',\n                onChange: e => setPointingSystem(e.target.value),\n                className: \"mr-2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 617,\n                columnNumber: 33\n              }, this), \"Custom: Manually set point ranges for each level\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 616,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 604,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 602,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-white border rounded-lg overflow-hidden mb-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-gray-50 p-4 border-b flex justify-between items-center\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"text-lg font-semibold text-gray-800\",\n              children: \"Rubric Matrix\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 633,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex gap-2\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => setReversedOrder(!reversedOrder),\n                className: \"bg-indigo-700 hover:bg-indigo-600 px-3 py-2 rounded flex items-center gap-1 text-sm\",\n                title: \"Reverse level order (lowest to highest or highest to lowest)\",\n                children: [/*#__PURE__*/_jsxDEV(RotateCcw, {\n                  size: 14\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 640,\n                  columnNumber: 37\n                }, this), reversedOrder ? 'Standard' : 'Reverse', \" Order\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 635,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: addCriterion,\n                className: \"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded flex items-center gap-2\",\n                children: [/*#__PURE__*/_jsxDEV(Plus, {\n                  size: 16\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 647,\n                  columnNumber: 37\n                }, this), \"Add Criterion\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 643,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 634,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 632,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"overflow-x-auto\",\n            children: /*#__PURE__*/_jsxDEV(\"table\", {\n              className: \"w-full border-collapse\",\n              children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n                children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                  className: \"bg-gray-100\",\n                  children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                    className: \"border p-3 text-left font-semibold\",\n                    style: {\n                      width: '200px'\n                    },\n                    children: \"Criterion\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 657,\n                    columnNumber: 41\n                  }, this), getDisplayLevels().map(level => /*#__PURE__*/_jsxDEV(\"th\", {\n                    className: \"border p-3 text-center font-semibold\",\n                    style: {\n                      backgroundColor: level.color + '20',\n                      color: level.color,\n                      minWidth: '150px'\n                    },\n                    children: level.name\n                  }, level.level, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 661,\n                    columnNumber: 45\n                  }, this)), /*#__PURE__*/_jsxDEV(\"th\", {\n                    className: \"border p-3 text-center font-semibold\",\n                    style: {\n                      width: '80px'\n                    },\n                    children: \"Actions\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 669,\n                    columnNumber: 41\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 656,\n                  columnNumber: 37\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 655,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n                children: rubricData.criteria.map(criterion => /*#__PURE__*/_jsxDEV(\"tr\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                    className: \"border p-3 bg-gray-50\",\n                    children: /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"space-y-2\",\n                      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                        type: \"text\",\n                        value: criterion.name,\n                        onChange: e => updateCriterion(criterion.id, 'name', e.target.value),\n                        className: \"w-full p-2 border rounded text-sm font-medium\",\n                        placeholder: \"Criterion name\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 680,\n                        columnNumber: 53\n                      }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n                        value: criterion.description,\n                        onChange: e => updateCriterion(criterion.id, 'description', e.target.value),\n                        onContextMenu: e => {\n                          e.preventDefault();\n                          openModalEdit(criterion.description, 'Criterion Description', newContent => updateCriterion(criterion.id, 'description', newContent));\n                        },\n                        className: \"w-full p-2 border rounded text-xs resize-both\",\n                        rows: \"2\",\n                        placeholder: \"Brief description\",\n                        title: \"Right-click for full-page editor\",\n                        style: {\n                          minHeight: '48px',\n                          maxHeight: '200px',\n                          resize: 'both'\n                        }\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 687,\n                        columnNumber: 53\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"flex gap-2\",\n                        children: /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"flex-1\",\n                          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                            className: \"text-xs text-gray-600\",\n                            children: \"Max Points\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 706,\n                            columnNumber: 61\n                          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                            type: \"number\",\n                            value: criterion.maxPoints,\n                            onChange: e => updateCriterion(criterion.id, 'maxPoints', parseInt(e.target.value) || 0),\n                            className: \"w-full p-1 border rounded text-sm\",\n                            min: \"0\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 707,\n                            columnNumber: 61\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 705,\n                          columnNumber: 57\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 704,\n                        columnNumber: 53\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 679,\n                      columnNumber: 49\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 678,\n                    columnNumber: 45\n                  }, this), getDisplayLevels().map(level => {\n                    var _criterion$levels$lev5, _criterion$levels$lev7;\n                    return /*#__PURE__*/_jsxDEV(\"td\", {\n                      className: \"border p-3 align-top\",\n                      children: /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"space-y-2\",\n                        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"text-center\",\n                          children: /*#__PURE__*/_jsxDEV(\"div\", {\n                            className: \"font-bold text-sm\",\n                            style: {\n                              color: level.color\n                            },\n                            children: [calculatePointRange(criterion, level.level), \" pts\"]\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 724,\n                            columnNumber: 61\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 723,\n                          columnNumber: 57\n                        }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n                          value: ((_criterion$levels$lev5 = criterion.levels[level.level]) === null || _criterion$levels$lev5 === void 0 ? void 0 : _criterion$levels$lev5.description) || '',\n                          onChange: e => updateCriterionLevel(criterion.id, level.level, 'description', e.target.value),\n                          onContextMenu: e => {\n                            var _criterion$levels$lev6;\n                            e.preventDefault();\n                            openModalEdit(((_criterion$levels$lev6 = criterion.levels[level.level]) === null || _criterion$levels$lev6 === void 0 ? void 0 : _criterion$levels$lev6.description) || '', `${level.name} Description`, newContent => updateCriterionLevel(criterion.id, level.level, 'description', newContent));\n                          },\n                          className: \"w-full p-2 border rounded text-xs resize-both\",\n                          rows: \"4\",\n                          placeholder: `${level.name} description...`,\n                          title: \"Right-click for full-page editor\",\n                          style: {\n                            minHeight: '80px',\n                            maxHeight: '300px',\n                            resize: 'both'\n                          }\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 728,\n                          columnNumber: 57\n                        }, this), pointingSystem === 'custom' && /*#__PURE__*/_jsxDEV(\"input\", {\n                          type: \"text\",\n                          value: ((_criterion$levels$lev7 = criterion.levels[level.level]) === null || _criterion$levels$lev7 === void 0 ? void 0 : _criterion$levels$lev7.pointRange) || '',\n                          onChange: e => updateCriterionLevel(criterion.id, level.level, 'pointRange', e.target.value),\n                          className: \"w-full p-1 border rounded text-xs text-center\",\n                          placeholder: \"Point range\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 746,\n                          columnNumber: 61\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 722,\n                        columnNumber: 53\n                      }, this)\n                    }, level.level, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 721,\n                      columnNumber: 49\n                    }, this);\n                  }), /*#__PURE__*/_jsxDEV(\"td\", {\n                    className: \"border p-3 text-center\",\n                    children: /*#__PURE__*/_jsxDEV(\"button\", {\n                      onClick: () => removeCriterion(criterion.id),\n                      className: \"text-red-600 hover:text-red-800 p-1\",\n                      disabled: rubricData.criteria.length === 1,\n                      children: /*#__PURE__*/_jsxDEV(X, {\n                        size: 16\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 765,\n                        columnNumber: 53\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 760,\n                      columnNumber: 49\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 759,\n                    columnNumber: 45\n                  }, this)]\n                }, criterion.id, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 676,\n                  columnNumber: 41\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 674,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 654,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 653,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 631,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mb-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"text-lg font-semibold text-gray-800 mb-4\",\n            children: \"Feedback Libraries\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 777,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"space-y-4\",\n            children: rubricData.criteria.map(criterion => /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"bg-gray-50 border rounded-lg\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => toggleFeedbackExpansion(criterion.id),\n                className: \"w-full p-4 text-left flex justify-between items-center hover:bg-gray-100 rounded-lg transition-colors\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                    className: \"font-semibold text-gray-800\",\n                    children: [criterion.name || 'Unnamed Criterion', \" - Feedback Library\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 786,\n                    columnNumber: 45\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"text-sm text-gray-600 mt-1\",\n                    children: [criterion.feedbackLibrary.strengths.length + criterion.feedbackLibrary.improvements.length + criterion.feedbackLibrary.general.length, \" feedback items\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 789,\n                    columnNumber: 45\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 785,\n                  columnNumber: 41\n                }, this), expandedFeedback[criterion.id] ? /*#__PURE__*/_jsxDEV(ChevronUp, {\n                  size: 20,\n                  className: \"text-gray-500\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 796,\n                  columnNumber: 45\n                }, this) : /*#__PURE__*/_jsxDEV(ChevronDown, {\n                  size: 20,\n                  className: \"text-gray-500\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 798,\n                  columnNumber: 45\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 781,\n                columnNumber: 37\n              }, this), expandedFeedback[criterion.id] && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"p-4 border-t border-gray-200 bg-white\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"grid grid-cols-1 lg:grid-cols-3 gap-4\",\n                  children: ['strengths', 'improvements', 'general'].map(category => /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"space-y-3\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"flex justify-between items-center\",\n                      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                        className: \"text-sm font-medium text-gray-700 capitalize\",\n                        children: [category, \" Comments\"]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 808,\n                        columnNumber: 61\n                      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                        onClick: () => {\n                          const newComment = prompt(`Add ${category} comment:`);\n                          if (newComment) {\n                            addFeedbackItem(criterion.id, category, newComment);\n                          }\n                        },\n                        className: \"text-blue-600 hover:text-blue-800 text-xs font-medium\",\n                        children: \"+ Add\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 811,\n                        columnNumber: 61\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 807,\n                      columnNumber: 57\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"space-y-2 max-h-48 overflow-y-auto\",\n                      children: [criterion.feedbackLibrary[category].map((item, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"flex items-start gap-2 text-xs\",\n                        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                          className: \"flex-1 p-2 bg-gray-50 rounded border cursor-pointer hover:bg-gray-100\",\n                          onClick: () => {\n                            openModalEdit(item, `${category} Comment`, newContent => {\n                              const updatedFeedback = [...criterion.feedbackLibrary[category]];\n                              updatedFeedback[index] = newContent;\n                              setRubricData(prev => ({\n                                ...prev,\n                                criteria: prev.criteria.map(c => c.id === criterion.id ? {\n                                  ...c,\n                                  feedbackLibrary: {\n                                    ...c.feedbackLibrary,\n                                    [category]: updatedFeedback\n                                  }\n                                } : c)\n                              }));\n                            });\n                          },\n                          title: \"Click to edit in full-page editor\",\n                          children: item\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 826,\n                          columnNumber: 69\n                        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                          onClick: () => removeFeedbackItem(criterion.id, category, index),\n                          className: \"text-red-600 hover:text-red-800 mt-1\",\n                          children: /*#__PURE__*/_jsxDEV(X, {\n                            size: 12\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 860,\n                            columnNumber: 73\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 856,\n                          columnNumber: 69\n                        }, this)]\n                      }, index, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 825,\n                        columnNumber: 65\n                      }, this)), criterion.feedbackLibrary[category].length === 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"text-xs text-gray-500 italic text-center py-4\",\n                        children: [\"No \", category, \" comments added\"]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 865,\n                        columnNumber: 65\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 823,\n                      columnNumber: 57\n                    }, this)]\n                  }, category, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 806,\n                    columnNumber: 53\n                  }, this))\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 804,\n                  columnNumber: 45\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 803,\n                columnNumber: 41\n              }, this)]\n            }, criterion.id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 780,\n              columnNumber: 33\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 778,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 776,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-gradient-to-r from-blue-50 to-indigo-50 border border-blue-200 p-6 rounded-lg\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"text-lg font-semibold text-gray-800 mb-3\",\n            children: \"Overall Score Breakdown\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 882,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-gray-600 mb-4\",\n            children: \"Each submission is assigned a level of achievement based on its overall rubric score.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 883,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-7 gap-3\",\n            children: getDisplayLevels().map(level => /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-center p-3 rounded-lg border-2\",\n              style: {\n                borderColor: level.color,\n                backgroundColor: level.color + '15'\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"font-semibold text-sm\",\n                style: {\n                  color: level.color\n                },\n                children: level.name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 895,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-lg font-bold mt-1\",\n                style: {\n                  color: level.color\n                },\n                children: Math.round(calculateTotalPoints() * level.multiplier)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 898,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-xs text-gray-600\",\n                children: \"or more\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 901,\n                columnNumber: 37\n              }, this)]\n            }, level.level, true, {\n              fileName: _jsxFileName,\n              lineNumber: 887,\n              columnNumber: 33\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 885,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 881,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 478,\n        columnNumber: 17\n      }, this), modalEdit.show && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-white rounded-lg shadow-xl w-full max-w-4xl h-full max-h-[90vh] flex flex-col\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex justify-between items-center p-4 border-b\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"text-lg font-semibold text-gray-800\",\n              children: [\"Edit \", modalEdit.field]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 913,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex gap-2\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => closeModalEdit(true),\n                className: \"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded flex items-center gap-2\",\n                children: [/*#__PURE__*/_jsxDEV(Save, {\n                  size: 16\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 921,\n                  columnNumber: 41\n                }, this), \"Save & Close\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 917,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => closeModalEdit(false),\n                className: \"bg-gray-500 hover:bg-gray-600 text-white px-4 py-2 rounded flex items-center gap-2\",\n                children: [/*#__PURE__*/_jsxDEV(X, {\n                  size: 16\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 928,\n                  columnNumber: 41\n                }, this), \"Cancel\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 924,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 916,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 912,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex-1 p-4\",\n            children: /*#__PURE__*/_jsxDEV(\"textarea\", {\n              value: modalEdit.content,\n              onChange: e => setModalEdit(prev => ({\n                ...prev,\n                content: e.target.value\n              })),\n              className: \"w-full h-full p-4 border rounded-lg resize-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500\",\n              placeholder: \"Enter your text here...\",\n              style: {\n                minHeight: '400px'\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 934,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 933,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"p-4 border-t bg-gray-50 rounded-b-lg\",\n            children: /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-sm text-gray-600\",\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Tip:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 944,\n                columnNumber: 37\n              }, this), \" Use this full-page editor for longer descriptions and detailed feedback comments. Click \\\"Save & Close\\\" to apply your changes.\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 943,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 942,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 911,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 910,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        ref: importInputRef,\n        type: \"file\",\n        accept: \".json\",\n        onChange: importRubric,\n        className: \"hidden\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 953,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 425,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 424,\n    columnNumber: 9\n  }, this);\n};\n_s(RubricCreator, \"tZKUKvcr5bydzXOmOSDOC6bZ724=\", false, function () {\n  return [useAssessment];\n});\n_c = RubricCreator;\nexport default RubricCreator;\nvar _c;\n$RefreshReg$(_c, \"RubricCreator\");","map":{"version":3,"names":["React","useState","useRef","useEffect","Plus","X","Upload","Download","Save","FileText","RotateCcw","ChevronDown","ChevronUp","Maximize2","ArrowRight","useAssessment","jsxDEV","_jsxDEV","RubricCreator","_s","setSharedRubric","transferRubricToGradingWithDetails","persistentFormData","updateCourseInfo","updateAssignmentInfo","defaultLevels","level","name","description","color","multiplier","rubricData","setRubricData","_persistentFormData$a","assignmentInfo","title","assignment","weight","passingThreshold","totalPoints","rubricLevels","criteria","id","maxPoints","levels","feedbackLibrary","strengths","improvements","general","pointingSystem","setPointingSystem","reversedOrder","setReversedOrder","showGuide","setShowGuide","expandedFeedback","setExpandedFeedback","modalEdit","setModalEdit","show","content","field","onSave","importInputRef","_persistentFormData$a2","prev","calculateTotalPoints","toggleFeedbackExpansion","criterionId","openModalEdit","closeModalEdit","save","reduce","total","criterion","newTotal","addCriterion","newCriterion","Date","now","removeCriterion","filter","c","updateCriterion","value","map","updateCriterionLevel","addFeedbackItem","category","item","removeFeedbackItem","index","_","i","calculatePointRange","rubricLevel","find","l","points","Math","round","toString","_criterion$levels$lev","pointRange","getDisplayLevels","reverse","saveRubric","dataStr","JSON","stringify","dataBlob","Blob","type","url","URL","createObjectURL","link","document","createElement","href","download","replace","click","revokeObjectURL","exportForGrading","exportData","Object","fromEntries","_criterion$levels$lev2","transferToGrading","_criterion$levels$lev3","importRubric","event","file","target","files","reader","FileReader","onload","e","_importedData$assignm","importedData","parse","result","error","alert","readAsText","exportToHTML","displayLevels","htmlContent","length","join","_criterion$levels$lev4","toLocaleDateString","htmlBlob","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","_importInputRef$curre","current","size","onChange","placeholder","parseInt","min","max","onContextMenu","preventDefault","newContent","rows","style","minHeight","maxHeight","resize","disabled","checked","width","backgroundColor","minWidth","_criterion$levels$lev5","_criterion$levels$lev7","_criterion$levels$lev6","newComment","prompt","updatedFeedback","borderColor","ref","accept","_c","$RefreshReg$"],"sources":["C:/local clones/rubric-creation-app/src/components/RubricCreator.js"],"sourcesContent":["import React, { useState, useRef, useEffect } from 'react';\r\nimport { Plus, X, Upload, Download, Save, FileText, RotateCcw, ChevronDown, ChevronUp, Maximize2, ArrowRight } from 'lucide-react';\r\nimport { useAssessment } from './SharedContext';\r\n\r\nconst RubricCreator = () => {\r\n    // Get shared context for better integration\r\n    const { setSharedRubric, transferRubricToGradingWithDetails, persistentFormData, updateCourseInfo, updateAssignmentInfo } = useAssessment();\r\n\r\n    // Default rubric levels (5+2 design)\r\n    const defaultLevels = [\r\n        { level: 'incomplete', name: 'Incomplete', description: 'No submission or unusable', color: '#95a5a6', multiplier: 0 },\r\n        { level: 'unacceptable', name: 'Unacceptable', description: 'Below minimum standards', color: '#e74c3c', multiplier: 0.3 },\r\n        { level: 'developing', name: 'Developing', description: 'Approaching standards', color: '#f39c12', multiplier: 0.55 },\r\n        { level: 'acceptable', name: 'Acceptable (PASS)', description: 'Meets minimum standards', color: '#27ae60', multiplier: 0.7 },\r\n        { level: 'emerging', name: 'Emerging', description: 'Above standard expectations', color: '#2980b9', multiplier: 0.82 },\r\n        { level: 'accomplished', name: 'Accomplished', description: 'Strong professional quality', color: '#16a085', multiplier: 0.92 },\r\n        { level: 'exceptional', name: 'Exceptional', description: 'Outstanding professional quality', color: '#8e44ad', multiplier: 1.0 }\r\n    ];\r\n\r\n    // State management - initialize with persistent data if available\r\n    const [rubricData, setRubricData] = useState(() => ({\r\n        assignmentInfo: {\r\n            title: persistentFormData?.assignment?.name || '',\r\n            description: '',\r\n            weight: 25,\r\n            passingThreshold: 60,\r\n            totalPoints: 100\r\n        },\r\n        rubricLevels: [...defaultLevels],\r\n        criteria: [\r\n            {\r\n                id: 'criterion-1',\r\n                name: '',\r\n                description: '',\r\n                maxPoints: 20,\r\n                weight: 20,\r\n                levels: {},\r\n                feedbackLibrary: {\r\n                    strengths: [],\r\n                    improvements: [],\r\n                    general: []\r\n                }\r\n            }\r\n        ]\r\n    }));\r\n\r\n    const [pointingSystem, setPointingSystem] = useState('multiplier');\r\n    const [reversedOrder, setReversedOrder] = useState(false);\r\n    const [showGuide, setShowGuide] = useState(false);\r\n    const [expandedFeedback, setExpandedFeedback] = useState({});\r\n    const [modalEdit, setModalEdit] = useState({ show: false, content: '', field: null, onSave: null });\r\n\r\n    // Refs for file inputs\r\n    const importInputRef = useRef(null);\r\n\r\n    // Sync with persistent form data\r\n    useEffect(() => {\r\n        if (persistentFormData?.assignment?.name && !rubricData.assignmentInfo.title) {\r\n            setRubricData(prev => ({\r\n                ...prev,\r\n                assignmentInfo: {\r\n                    ...prev.assignmentInfo,\r\n                    title: persistentFormData.assignment.name\r\n                }\r\n            }));\r\n        }\r\n    }, [persistentFormData, rubricData.assignmentInfo.title]);\r\n\r\n    // Update persistent data when rubric changes\r\n    useEffect(() => {\r\n        if (rubricData.assignmentInfo.title) {\r\n            updateAssignmentInfo({\r\n                name: rubricData.assignmentInfo.title,\r\n                maxPoints: calculateTotalPoints()\r\n            });\r\n        }\r\n    }, [rubricData.assignmentInfo.title, updateAssignmentInfo]);\r\n\r\n    // Toggle feedback section expansion\r\n    const toggleFeedbackExpansion = (criterionId) => {\r\n        setExpandedFeedback(prev => ({\r\n            ...prev,\r\n            [criterionId]: !prev[criterionId]\r\n        }));\r\n    };\r\n\r\n    // Open modal for text editing\r\n    const openModalEdit = (content, field, onSave) => {\r\n        setModalEdit({\r\n            show: true,\r\n            content,\r\n            field,\r\n            onSave\r\n        });\r\n    };\r\n\r\n    // Close modal and save if needed\r\n    const closeModalEdit = (save = false) => {\r\n        if (save && modalEdit.onSave) {\r\n            modalEdit.onSave(modalEdit.content);\r\n        }\r\n        setModalEdit({ show: false, content: '', field: null, onSave: null });\r\n    };\r\n\r\n    // Calculate total points based on current settings\r\n    const calculateTotalPoints = () => {\r\n        return rubricData.criteria.reduce((total, criterion) => total + criterion.maxPoints, 0);\r\n    };\r\n\r\n    // Update total points when criteria change\r\n    useEffect(() => {\r\n        const newTotal = calculateTotalPoints();\r\n        setRubricData(prev => ({\r\n            ...prev,\r\n            assignmentInfo: {\r\n                ...prev.assignmentInfo,\r\n                totalPoints: newTotal\r\n            }\r\n        }));\r\n    }, [rubricData.criteria]);\r\n\r\n    // Add new criterion\r\n    const addCriterion = () => {\r\n        const newCriterion = {\r\n            id: `criterion-${Date.now()}`,\r\n            name: '',\r\n            description: '',\r\n            maxPoints: 20,\r\n            weight: 20,\r\n            levels: {},\r\n            feedbackLibrary: {\r\n                strengths: [],\r\n                improvements: [],\r\n                general: []\r\n            }\r\n        };\r\n\r\n        setRubricData(prev => ({\r\n            ...prev,\r\n            criteria: [...prev.criteria, newCriterion]\r\n        }));\r\n    };\r\n\r\n    // Remove criterion\r\n    const removeCriterion = (criterionId) => {\r\n        setRubricData(prev => ({\r\n            ...prev,\r\n            criteria: prev.criteria.filter(c => c.id !== criterionId)\r\n        }));\r\n    };\r\n\r\n    // Update criterion\r\n    const updateCriterion = (criterionId, field, value) => {\r\n        setRubricData(prev => ({\r\n            ...prev,\r\n            criteria: prev.criteria.map(criterion =>\r\n                criterion.id === criterionId\r\n                    ? { ...criterion, [field]: value }\r\n                    : criterion\r\n            )\r\n        }));\r\n    };\r\n\r\n    // Update criterion level description\r\n    const updateCriterionLevel = (criterionId, level, field, value) => {\r\n        setRubricData(prev => ({\r\n            ...prev,\r\n            criteria: prev.criteria.map(criterion =>\r\n                criterion.id === criterionId\r\n                    ? {\r\n                        ...criterion,\r\n                        levels: {\r\n                            ...criterion.levels,\r\n                            [level]: {\r\n                                ...criterion.levels[level],\r\n                                [field]: value\r\n                            }\r\n                        }\r\n                    }\r\n                    : criterion\r\n            )\r\n        }));\r\n    };\r\n\r\n    // Add feedback item to criterion\r\n    const addFeedbackItem = (criterionId, category, item) => {\r\n        setRubricData(prev => ({\r\n            ...prev,\r\n            criteria: prev.criteria.map(criterion =>\r\n                criterion.id === criterionId\r\n                    ? {\r\n                        ...criterion,\r\n                        feedbackLibrary: {\r\n                            ...criterion.feedbackLibrary,\r\n                            [category]: [...criterion.feedbackLibrary[category], item]\r\n                        }\r\n                    }\r\n                    : criterion\r\n            )\r\n        }));\r\n    };\r\n\r\n    // Remove feedback item\r\n    const removeFeedbackItem = (criterionId, category, index) => {\r\n        setRubricData(prev => ({\r\n            ...prev,\r\n            criteria: prev.criteria.map(criterion =>\r\n                criterion.id === criterionId\r\n                    ? {\r\n                        ...criterion,\r\n                        feedbackLibrary: {\r\n                            ...criterion.feedbackLibrary,\r\n                            [category]: criterion.feedbackLibrary[category].filter((_, i) => i !== index)\r\n                        }\r\n                    }\r\n                    : criterion\r\n            )\r\n        }));\r\n    };\r\n\r\n    // Calculate point range for a level\r\n    const calculatePointRange = (criterion, level) => {\r\n        const rubricLevel = rubricData.rubricLevels.find(l => l.level === level);\r\n        if (!rubricLevel) return '0';\r\n\r\n        if (pointingSystem === 'multiplier') {\r\n            const points = Math.round(criterion.maxPoints * rubricLevel.multiplier);\r\n            return level === 'incomplete' ? '0' : points.toString();\r\n        } else {\r\n            // Custom points would be entered directly\r\n            return criterion.levels[level]?.pointRange || '0';\r\n        }\r\n    };\r\n\r\n    // Get display levels (potentially reversed)\r\n    const getDisplayLevels = () => {\r\n        return reversedOrder ? [...rubricData.rubricLevels].reverse() : rubricData.rubricLevels;\r\n    };\r\n\r\n    // Save rubric to JSON\r\n    const saveRubric = () => {\r\n        const dataStr = JSON.stringify(rubricData, null, 2);\r\n        const dataBlob = new Blob([dataStr], { type: 'application/json' });\r\n        const url = URL.createObjectURL(dataBlob);\r\n        const link = document.createElement('a');\r\n        link.href = url;\r\n        link.download = `rubric_${rubricData.assignmentInfo.title.replace(/\\s+/g, '_')}_draft.json`;\r\n        link.click();\r\n        URL.revokeObjectURL(url);\r\n    };\r\n\r\n    // Export rubric for grading template\r\n    const exportForGrading = () => {\r\n        const exportData = { ...rubricData };\r\n\r\n        // Ensure all criterion levels have proper point ranges\r\n        exportData.criteria = exportData.criteria.map(criterion => ({\r\n            ...criterion,\r\n            levels: Object.fromEntries(\r\n                rubricData.rubricLevels.map(level => [\r\n                    level.level,\r\n                    {\r\n                        pointRange: calculatePointRange(criterion, level.level),\r\n                        description: criterion.levels[level.level]?.description || ''\r\n                    }\r\n                ])\r\n            )\r\n        }));\r\n\r\n        // Save to shared context for grading tool\r\n        setSharedRubric(exportData);\r\n\r\n        // Also download as before\r\n        const dataStr = JSON.stringify(exportData, null, 2);\r\n        const dataBlob = new Blob([dataStr], { type: 'application/json' });\r\n        const url = URL.createObjectURL(dataBlob);\r\n        const link = document.createElement('a');\r\n        link.href = url;\r\n        link.download = `rubric_${rubricData.assignmentInfo.title.replace(/\\s+/g, '_')}_final.json`;\r\n        link.click();\r\n        URL.revokeObjectURL(url);\r\n    };\r\n\r\n    // Transfer to grading tool directly with enhanced integration\r\n    const transferToGrading = () => {\r\n        const exportData = { ...rubricData };\r\n\r\n        exportData.criteria = exportData.criteria.map(criterion => ({\r\n            ...criterion,\r\n            levels: Object.fromEntries(\r\n                rubricData.rubricLevels.map(level => [\r\n                    level.level,\r\n                    {\r\n                        pointRange: calculatePointRange(criterion, level.level),\r\n                        description: criterion.levels[level.level]?.description || ''\r\n                    }\r\n                ])\r\n            )\r\n        }));\r\n\r\n        // Use enhanced transfer function that preserves form data\r\n        transferRubricToGradingWithDetails(exportData);\r\n    };\r\n\r\n    // Import rubric data\r\n    const importRubric = (event) => {\r\n        const file = event.target.files[0];\r\n        if (file) {\r\n            const reader = new FileReader();\r\n            reader.onload = (e) => {\r\n                try {\r\n                    const importedData = JSON.parse(e.target.result);\r\n                    setRubricData(importedData);\r\n\r\n                    // Update persistent form data\r\n                    if (importedData.assignmentInfo?.title) {\r\n                        updateAssignmentInfo({\r\n                            name: importedData.assignmentInfo.title,\r\n                            maxPoints: importedData.assignmentInfo.totalPoints || calculateTotalPoints()\r\n                        });\r\n                    }\r\n                } catch (error) {\r\n                    alert('Error loading rubric. Please check the JSON format.');\r\n                }\r\n            };\r\n            reader.readAsText(file);\r\n        }\r\n        // Reset file input\r\n        event.target.value = '';\r\n    };\r\n\r\n    // Export to HTML\r\n    const exportToHTML = () => {\r\n        const displayLevels = getDisplayLevels();\r\n\r\n        const htmlContent = `\r\n<!DOCTYPE html>\r\n<html>\r\n<head>\r\n    <meta charset=\"UTF-8\">\r\n    <title>${rubricData.assignmentInfo.title} - Rubric</title>\r\n    <style>\r\n        body { font-family: Arial, sans-serif; max-width: 1200px; margin: 0 auto; padding: 20px; line-height: 1.4; }\r\n        .header { text-align: center; margin-bottom: 30px; padding-bottom: 20px; border-bottom: 2px solid #333; }\r\n        .assignment-info { background: #f8f9fa; padding: 15px; border-radius: 8px; margin-bottom: 25px; }\r\n        .rubric-table { width: 100%; border-collapse: collapse; margin-bottom: 30px; font-size: 0.85rem; }\r\n        .rubric-table th, .rubric-table td { border: 1px solid #ddd; padding: 10px; text-align: left; vertical-align: top; }\r\n        .rubric-table th { background: #2c3e50; color: white; text-align: center; font-weight: 600; }\r\n        .level-header { text-align: center; font-weight: bold; }\r\n        .criterion-name { font-weight: bold; background: #f8f9fa; }\r\n        .point-range { text-align: center; font-weight: bold; color: #2c3e50; }\r\n        .overall-score { background: #e8f4fd; padding: 20px; border-radius: 8px; margin-top: 30px; }\r\n        .footer { margin-top: 40px; text-align: center; font-size: 0.9rem; color: #666; }\r\n    </style>\r\n</head>\r\n<body>\r\n    <div class=\"header\">\r\n        <h1>${rubricData.assignmentInfo.title}</h1>\r\n        <p>${rubricData.assignmentInfo.description}</p>\r\n    </div>\r\n    \r\n    <div class=\"assignment-info\">\r\n        <p><strong>Assignment Weight:</strong> ${rubricData.assignmentInfo.weight}% of Final Grade</p>\r\n        <p><strong>Passing Threshold:</strong> ${rubricData.assignmentInfo.passingThreshold}%</p>\r\n        <p><strong>Total Points:</strong> ${rubricData.assignmentInfo.totalPoints}</p>\r\n    </div>\r\n    \r\n    <table class=\"rubric-table\">\r\n        <thead>\r\n            <tr>\r\n                <th style=\"width: 20%\">Criterion</th>\r\n                ${displayLevels.map(level => `<th style=\"width: ${80 / displayLevels.length}%\">${level.name}</th>`).join('')}\r\n            </tr>\r\n        </thead>\r\n        <tbody>\r\n            ${rubricData.criteria.map(criterion => `\r\n                <tr>\r\n                    <td class=\"criterion-name\">\r\n                        <strong>${criterion.name}</strong> (${criterion.maxPoints} pts)\r\n                        <br><small style=\"color: #666; font-style: italic;\">${criterion.description}</small>\r\n                    </td>\r\n                    ${displayLevels.map(level => `\r\n                        <td>\r\n                            <div class=\"point-range\">${calculatePointRange(criterion, level.level)} pts</div>\r\n                            <div style=\"margin-top: 8px; font-size: 0.9rem;\">\r\n                                ${criterion.levels[level.level]?.description || 'Not defined'}\r\n                            </div>\r\n                        </td>\r\n                    `).join('')}\r\n                </tr>\r\n            `).join('')}\r\n        </tbody>\r\n    </table>\r\n    \r\n    <div class=\"overall-score\">\r\n        <h3>Overall Score</h3>\r\n        <p>Each submission is assigned a level of achievement based on its overall rubric score.</p>\r\n        <div style=\"display: flex; gap: 10px; margin-top: 15px; flex-wrap: wrap;\">\r\n            ${displayLevels.map(level => `\r\n                <div style=\"flex: 1; min-width: 120px; text-align: center; padding: 10px; border: 2px solid ${level.color}; border-radius: 8px; background: ${level.color}15;\">\r\n                    <div style=\"font-weight: bold; color: ${level.color};\">${level.name}</div>\r\n                    <div style=\"font-size: 0.9rem; margin-top: 5px;\">${Math.round(rubricData.assignmentInfo.totalPoints * level.multiplier)} or more</div>\r\n                </div>\r\n            `).join('')}\r\n        </div>\r\n    </div>\r\n    \r\n    <div class=\"footer\">\r\n        <p>Generated on ${new Date().toLocaleDateString()} | Total Points: ${rubricData.assignmentInfo.totalPoints}</p>\r\n    </div>\r\n</body>\r\n</html>`;\r\n\r\n        const htmlBlob = new Blob([htmlContent], { type: 'text/html' });\r\n        const url = URL.createObjectURL(htmlBlob);\r\n        const link = document.createElement('a');\r\n        link.href = url;\r\n        link.download = `rubric_${rubricData.assignmentInfo.title.replace(/\\s+/g, '_')}_display.html`;\r\n        link.click();\r\n        URL.revokeObjectURL(url);\r\n    };\r\n\r\n    return (\r\n        <div className=\"min-h-screen bg-gray-50 p-6\">\r\n            <div className=\"max-w-7xl mx-auto bg-white rounded-lg shadow-lg\">\r\n                {/* Header */}\r\n                <div className=\"bg-blue-900 text-white p-6 rounded-t-lg\">\r\n                    <div className=\"flex justify-between items-center\">\r\n                        <div>\r\n                            <h1 className=\"text-2xl font-bold\">Rubric Creation Tool</h1>\r\n                            <p className=\"text-blue-200\">Professional Rubric Builder for Educational Assessment</p>\r\n                        </div>\r\n                        <div className=\"flex gap-2 flex-wrap\">\r\n                            <button\r\n                                onClick={() => importInputRef.current?.click()}\r\n                                className=\"bg-purple-700 hover:bg-purple-600 px-3 py-2 rounded flex items-center gap-1 text-sm\"\r\n                                title=\"Import AI-generated rubric content or existing rubric\"\r\n                            >\r\n                                <Upload size={14} />\r\n                                Import\r\n                            </button>\r\n                            <button\r\n                                onClick={transferToGrading}\r\n                                className=\"bg-blue-700 hover:bg-blue-600 px-3 py-2 rounded flex items-center gap-1 text-sm\"\r\n                                title=\"Send rubric directly to grading tool\"\r\n                            >\r\n                                <ArrowRight size={14} />\r\n                                Use for Grading\r\n                            </button>\r\n                            <button\r\n                                onClick={saveRubric}\r\n                                className=\"bg-teal-700 hover:bg-teal-600 px-3 py-2 rounded flex items-center gap-1 text-sm\"\r\n                                title=\"Save work in progress as JSON file\"\r\n                            >\r\n                                <Save size={14} />\r\n                                Save Draft\r\n                            </button>\r\n                            <button\r\n                                onClick={exportForGrading}\r\n                                className=\"bg-green-700 hover:bg-green-600 px-3 py-2 rounded flex items-center gap-1 text-sm\"\r\n                                title=\"Export final rubric for use in grading template\"\r\n                            >\r\n                                <Download size={14} />\r\n                                Export JSON\r\n                            </button>\r\n                            <button\r\n                                onClick={exportToHTML}\r\n                                className=\"bg-orange-700 hover:bg-orange-600 px-3 py-2 rounded flex items-center gap-1 text-sm\"\r\n                                title=\"Export HTML version for student distribution\"\r\n                            >\r\n                                <FileText size={14} />\r\n                                Export HTML\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n                <div className=\"p-6\">\r\n                    {/* Button Guide */}\r\n                    <div className=\"bg-gray-50 border border-gray-300 rounded-lg mb-6\">\r\n                        <button\r\n                            onClick={() => setShowGuide(!showGuide)}\r\n                            className=\"w-full p-3 text-left font-medium text-gray-700 hover:bg-gray-100 flex items-center justify-between\"\r\n                        >\r\n                            📖 Button Guide & Instructions\r\n                            <span className={`transform transition-transform ${showGuide ? 'rotate-180' : ''}`}>▼</span>\r\n                        </button>\r\n                        {showGuide && (\r\n                            <div className=\"p-4 border-t border-gray-300 text-sm\">\r\n                                <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n                                    <div>\r\n                                        <h4 className=\"font-semibold text-gray-800 mb-2\">🔧 Rubric Building</h4>\r\n                                        <ul className=\"space-y-1 text-gray-700\">\r\n                                            <li><strong>Import:</strong> Load AI-generated rubric content or existing rubrics</li>\r\n                                            <li><strong>Use for Grading:</strong> Transfer directly to grading tool with data sync</li>\r\n                                            <li><strong>Save Draft:</strong> Save work in progress (JSON format)</li>\r\n                                            <li><strong>Export JSON:</strong> Final rubric for grading template use</li>\r\n                                            <li><strong>Export HTML:</strong> Student-friendly display version</li>\r\n                                            <li><strong>Reverse Order:</strong> Switch between low→high and high→low level ordering</li>\r\n                                        </ul>\r\n                                    </div>\r\n                                    <div>\r\n                                        <h4 className=\"font-semibold text-gray-800 mb-2\">📝 Data Integration</h4>\r\n                                        <ul className=\"space-y-1 text-gray-700\">\r\n                                            <li>• Assignment data automatically syncs with grading tool</li>\r\n                                            <li>• Content persists when switching between tabs</li>\r\n                                            <li>• Right-click text areas for full-page editing</li>\r\n                                            <li>• Export HTML for student distribution</li>\r\n                                            <li>• Import existing rubrics to continue work</li>\r\n                                            <li>• All changes are automatically saved in context</li>\r\n                                        </ul>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        )}\r\n                    </div>\r\n\r\n                    {/* Assignment Information */}\r\n                    <div className=\"bg-blue-50 border border-blue-200 p-6 rounded-lg mb-6\">\r\n                        <h3 className=\"text-lg font-semibold text-blue-800 mb-4\">Assignment Information</h3>\r\n                        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n                            <div>\r\n                                <label className=\"block text-sm font-medium text-gray-700 mb-1\">Assignment Title</label>\r\n                                <input\r\n                                    type=\"text\"\r\n                                    value={rubricData.assignmentInfo.title}\r\n                                    onChange={(e) => setRubricData(prev => ({\r\n                                        ...prev,\r\n                                        assignmentInfo: { ...prev.assignmentInfo, title: e.target.value }\r\n                                    }))}\r\n                                    className=\"w-full p-3 border rounded-lg\"\r\n                                    placeholder=\"e.g., Assignment 4: Animation B Final\"\r\n                                />\r\n                            </div>\r\n                            <div>\r\n                                <label className=\"block text-sm font-medium text-gray-700 mb-1\">Weight (% of Final Grade)</label>\r\n                                <input\r\n                                    type=\"number\"\r\n                                    value={rubricData.assignmentInfo.weight}\r\n                                    onChange={(e) => setRubricData(prev => ({\r\n                                        ...prev,\r\n                                        assignmentInfo: { ...prev.assignmentInfo, weight: parseInt(e.target.value) || 0 }\r\n                                    }))}\r\n                                    className=\"w-full p-3 border rounded-lg\"\r\n                                    min=\"0\"\r\n                                    max=\"100\"\r\n                                />\r\n                            </div>\r\n                            <div className=\"md:col-span-2\">\r\n                                <label className=\"block text-sm font-medium text-gray-700 mb-1\">Description</label>\r\n                                <textarea\r\n                                    value={rubricData.assignmentInfo.description}\r\n                                    onChange={(e) => setRubricData(prev => ({\r\n                                        ...prev,\r\n                                        assignmentInfo: { ...prev.assignmentInfo, description: e.target.value }\r\n                                    }))}\r\n                                    onContextMenu={(e) => {\r\n                                        e.preventDefault();\r\n                                        openModalEdit(\r\n                                            rubricData.assignmentInfo.description,\r\n                                            'Assignment Description',\r\n                                            (newContent) => setRubricData(prev => ({\r\n                                                ...prev,\r\n                                                assignmentInfo: { ...prev.assignmentInfo, description: newContent }\r\n                                            }))\r\n                                        );\r\n                                    }}\r\n                                    className=\"w-full p-3 border rounded-lg resize-both\"\r\n                                    rows=\"2\"\r\n                                    placeholder=\"Brief description of the assignment and its requirements\"\r\n                                    title=\"Right-click for full-page editor\"\r\n                                    style={{ minHeight: '60px', maxHeight: '200px', resize: 'both' }}\r\n                                />\r\n                            </div>\r\n                            <div>\r\n                                <label className=\"block text-sm font-medium text-gray-700 mb-1\">Passing Threshold (%)</label>\r\n                                <input\r\n                                    type=\"number\"\r\n                                    value={rubricData.assignmentInfo.passingThreshold}\r\n                                    onChange={(e) => setRubricData(prev => ({\r\n                                        ...prev,\r\n                                        assignmentInfo: { ...prev.assignmentInfo, passingThreshold: parseInt(e.target.value) || 0 }\r\n                                    }))}\r\n                                    className=\"w-full p-3 border rounded-lg\"\r\n                                    min=\"0\"\r\n                                    max=\"100\"\r\n                                />\r\n                            </div>\r\n                            <div>\r\n                                <label className=\"block text-sm font-medium text-gray-700 mb-1\">Total Points (Calculated)</label>\r\n                                <input\r\n                                    type=\"number\"\r\n                                    value={calculateTotalPoints()}\r\n                                    disabled\r\n                                    className=\"w-full p-3 border rounded-lg bg-gray-100\"\r\n                                />\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n\r\n                    {/* Point System Selection */}\r\n                    <div className=\"bg-yellow-50 border border-yellow-200 p-4 rounded-lg mb-6\">\r\n                        <h4 className=\"font-semibold text-gray-800 mb-3\">Point Calculation System</h4>\r\n                        <div className=\"flex gap-4\">\r\n                            <label className=\"flex items-center\">\r\n                                <input\r\n                                    type=\"radio\"\r\n                                    name=\"pointSystem\"\r\n                                    value=\"multiplier\"\r\n                                    checked={pointingSystem === 'multiplier'}\r\n                                    onChange={(e) => setPointingSystem(e.target.value)}\r\n                                    className=\"mr-2\"\r\n                                />\r\n                                Automatic (Multiplier-based): Points calculated automatically based on level multipliers\r\n                            </label>\r\n                            <label className=\"flex items-center\">\r\n                                <input\r\n                                    type=\"radio\"\r\n                                    name=\"pointSystem\"\r\n                                    value=\"custom\"\r\n                                    checked={pointingSystem === 'custom'}\r\n                                    onChange={(e) => setPointingSystem(e.target.value)}\r\n                                    className=\"mr-2\"\r\n                                />\r\n                                Custom: Manually set point ranges for each level\r\n                            </label>\r\n                        </div>\r\n                    </div>\r\n\r\n                    {/* Rubric Table */}\r\n                    <div className=\"bg-white border rounded-lg overflow-hidden mb-6\">\r\n                        <div className=\"bg-gray-50 p-4 border-b flex justify-between items-center\">\r\n                            <h3 className=\"text-lg font-semibold text-gray-800\">Rubric Matrix</h3>\r\n                            <div className=\"flex gap-2\">\r\n                                <button\r\n                                    onClick={() => setReversedOrder(!reversedOrder)}\r\n                                    className=\"bg-indigo-700 hover:bg-indigo-600 px-3 py-2 rounded flex items-center gap-1 text-sm\"\r\n                                    title=\"Reverse level order (lowest to highest or highest to lowest)\"\r\n                                >\r\n                                    <RotateCcw size={14} />\r\n                                    {reversedOrder ? 'Standard' : 'Reverse'} Order\r\n                                </button>\r\n                                <button\r\n                                    onClick={addCriterion}\r\n                                    className=\"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded flex items-center gap-2\"\r\n                                >\r\n                                    <Plus size={16} />\r\n                                    Add Criterion\r\n                                </button>\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div className=\"overflow-x-auto\">\r\n                            <table className=\"w-full border-collapse\">\r\n                                <thead>\r\n                                    <tr className=\"bg-gray-100\">\r\n                                        <th className=\"border p-3 text-left font-semibold\" style={{ width: '200px' }}>\r\n                                            Criterion\r\n                                        </th>\r\n                                        {getDisplayLevels().map((level) => (\r\n                                            <th\r\n                                                key={level.level}\r\n                                                className=\"border p-3 text-center font-semibold\"\r\n                                                style={{ backgroundColor: level.color + '20', color: level.color, minWidth: '150px' }}\r\n                                            >\r\n                                                {level.name}\r\n                                            </th>\r\n                                        ))}\r\n                                        <th className=\"border p-3 text-center font-semibold\" style={{ width: '80px' }}>\r\n                                            Actions\r\n                                        </th>\r\n                                    </tr>\r\n                                </thead>\r\n                                <tbody>\r\n                                    {rubricData.criteria.map((criterion) => (\r\n                                        <tr key={criterion.id}>\r\n                                            {/* Criterion Column */}\r\n                                            <td className=\"border p-3 bg-gray-50\">\r\n                                                <div className=\"space-y-2\">\r\n                                                    <input\r\n                                                        type=\"text\"\r\n                                                        value={criterion.name}\r\n                                                        onChange={(e) => updateCriterion(criterion.id, 'name', e.target.value)}\r\n                                                        className=\"w-full p-2 border rounded text-sm font-medium\"\r\n                                                        placeholder=\"Criterion name\"\r\n                                                    />\r\n                                                    <textarea\r\n                                                        value={criterion.description}\r\n                                                        onChange={(e) => updateCriterion(criterion.id, 'description', e.target.value)}\r\n                                                        onContextMenu={(e) => {\r\n                                                            e.preventDefault();\r\n                                                            openModalEdit(\r\n                                                                criterion.description,\r\n                                                                'Criterion Description',\r\n                                                                (newContent) => updateCriterion(criterion.id, 'description', newContent)\r\n                                                            );\r\n                                                        }}\r\n                                                        className=\"w-full p-2 border rounded text-xs resize-both\"\r\n                                                        rows=\"2\"\r\n                                                        placeholder=\"Brief description\"\r\n                                                        title=\"Right-click for full-page editor\"\r\n                                                        style={{ minHeight: '48px', maxHeight: '200px', resize: 'both' }}\r\n                                                    />\r\n                                                    <div className=\"flex gap-2\">\r\n                                                        <div className=\"flex-1\">\r\n                                                            <label className=\"text-xs text-gray-600\">Max Points</label>\r\n                                                            <input\r\n                                                                type=\"number\"\r\n                                                                value={criterion.maxPoints}\r\n                                                                onChange={(e) => updateCriterion(criterion.id, 'maxPoints', parseInt(e.target.value) || 0)}\r\n                                                                className=\"w-full p-1 border rounded text-sm\"\r\n                                                                min=\"0\"\r\n                                                            />\r\n                                                        </div>\r\n                                                    </div>\r\n                                                </div>\r\n                                            </td>\r\n\r\n                                            {/* Level Columns */}\r\n                                            {getDisplayLevels().map((level) => (\r\n                                                <td key={level.level} className=\"border p-3 align-top\">\r\n                                                    <div className=\"space-y-2\">\r\n                                                        <div className=\"text-center\">\r\n                                                            <div className=\"font-bold text-sm\" style={{ color: level.color }}>\r\n                                                                {calculatePointRange(criterion, level.level)} pts\r\n                                                            </div>\r\n                                                        </div>\r\n                                                        <textarea\r\n                                                            value={criterion.levels[level.level]?.description || ''}\r\n                                                            onChange={(e) => updateCriterionLevel(criterion.id, level.level, 'description', e.target.value)}\r\n                                                            onContextMenu={(e) => {\r\n                                                                e.preventDefault();\r\n                                                                openModalEdit(\r\n                                                                    criterion.levels[level.level]?.description || '',\r\n                                                                    `${level.name} Description`,\r\n                                                                    (newContent) => updateCriterionLevel(criterion.id, level.level, 'description', newContent)\r\n                                                                );\r\n                                                            }}\r\n                                                            className=\"w-full p-2 border rounded text-xs resize-both\"\r\n                                                            rows=\"4\"\r\n                                                            placeholder={`${level.name} description...`}\r\n                                                            title=\"Right-click for full-page editor\"\r\n                                                            style={{ minHeight: '80px', maxHeight: '300px', resize: 'both' }}\r\n                                                        />\r\n                                                        {pointingSystem === 'custom' && (\r\n                                                            <input\r\n                                                                type=\"text\"\r\n                                                                value={criterion.levels[level.level]?.pointRange || ''}\r\n                                                                onChange={(e) => updateCriterionLevel(criterion.id, level.level, 'pointRange', e.target.value)}\r\n                                                                className=\"w-full p-1 border rounded text-xs text-center\"\r\n                                                                placeholder=\"Point range\"\r\n                                                            />\r\n                                                        )}\r\n                                                    </div>\r\n                                                </td>\r\n                                            ))}\r\n\r\n                                            {/* Actions Column */}\r\n                                            <td className=\"border p-3 text-center\">\r\n                                                <button\r\n                                                    onClick={() => removeCriterion(criterion.id)}\r\n                                                    className=\"text-red-600 hover:text-red-800 p-1\"\r\n                                                    disabled={rubricData.criteria.length === 1}\r\n                                                >\r\n                                                    <X size={16} />\r\n                                                </button>\r\n                                            </td>\r\n                                        </tr>\r\n                                    ))}\r\n                                </tbody>\r\n                            </table>\r\n                        </div>\r\n                    </div>\r\n\r\n                    {/* Feedback Library Management - Accordion Style */}\r\n                    <div className=\"mb-6\">\r\n                        <h3 className=\"text-lg font-semibold text-gray-800 mb-4\">Feedback Libraries</h3>\r\n                        <div className=\"space-y-4\">\r\n                            {rubricData.criteria.map((criterion) => (\r\n                                <div key={criterion.id} className=\"bg-gray-50 border rounded-lg\">\r\n                                    <button\r\n                                        onClick={() => toggleFeedbackExpansion(criterion.id)}\r\n                                        className=\"w-full p-4 text-left flex justify-between items-center hover:bg-gray-100 rounded-lg transition-colors\"\r\n                                    >\r\n                                        <div>\r\n                                            <h4 className=\"font-semibold text-gray-800\">\r\n                                                {criterion.name || 'Unnamed Criterion'} - Feedback Library\r\n                                            </h4>\r\n                                            <p className=\"text-sm text-gray-600 mt-1\">\r\n                                                {criterion.feedbackLibrary.strengths.length +\r\n                                                    criterion.feedbackLibrary.improvements.length +\r\n                                                    criterion.feedbackLibrary.general.length} feedback items\r\n                                            </p>\r\n                                        </div>\r\n                                        {expandedFeedback[criterion.id] ? (\r\n                                            <ChevronUp size={20} className=\"text-gray-500\" />\r\n                                        ) : (\r\n                                            <ChevronDown size={20} className=\"text-gray-500\" />\r\n                                        )}\r\n                                    </button>\r\n\r\n                                    {expandedFeedback[criterion.id] && (\r\n                                        <div className=\"p-4 border-t border-gray-200 bg-white\">\r\n                                            <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-4\">\r\n                                                {['strengths', 'improvements', 'general'].map((category) => (\r\n                                                    <div key={category} className=\"space-y-3\">\r\n                                                        <div className=\"flex justify-between items-center\">\r\n                                                            <label className=\"text-sm font-medium text-gray-700 capitalize\">\r\n                                                                {category} Comments\r\n                                                            </label>\r\n                                                            <button\r\n                                                                onClick={() => {\r\n                                                                    const newComment = prompt(`Add ${category} comment:`);\r\n                                                                    if (newComment) {\r\n                                                                        addFeedbackItem(criterion.id, category, newComment);\r\n                                                                    }\r\n                                                                }}\r\n                                                                className=\"text-blue-600 hover:text-blue-800 text-xs font-medium\"\r\n                                                            >\r\n                                                                + Add\r\n                                                            </button>\r\n                                                        </div>\r\n                                                        <div className=\"space-y-2 max-h-48 overflow-y-auto\">\r\n                                                            {criterion.feedbackLibrary[category].map((item, index) => (\r\n                                                                <div key={index} className=\"flex items-start gap-2 text-xs\">\r\n                                                                    <span\r\n                                                                        className=\"flex-1 p-2 bg-gray-50 rounded border cursor-pointer hover:bg-gray-100\"\r\n                                                                        onClick={() => {\r\n                                                                            openModalEdit(\r\n                                                                                item,\r\n                                                                                `${category} Comment`,\r\n                                                                                (newContent) => {\r\n                                                                                    const updatedFeedback = [...criterion.feedbackLibrary[category]];\r\n                                                                                    updatedFeedback[index] = newContent;\r\n                                                                                    setRubricData(prev => ({\r\n                                                                                        ...prev,\r\n                                                                                        criteria: prev.criteria.map(c =>\r\n                                                                                            c.id === criterion.id\r\n                                                                                                ? {\r\n                                                                                                    ...c,\r\n                                                                                                    feedbackLibrary: {\r\n                                                                                                        ...c.feedbackLibrary,\r\n                                                                                                        [category]: updatedFeedback\r\n                                                                                                    }\r\n                                                                                                }\r\n                                                                                                : c\r\n                                                                                        )\r\n                                                                                    }));\r\n                                                                                }\r\n                                                                            );\r\n                                                                        }}\r\n                                                                        title=\"Click to edit in full-page editor\"\r\n                                                                    >\r\n                                                                        {item}\r\n                                                                    </span>\r\n                                                                    <button\r\n                                                                        onClick={() => removeFeedbackItem(criterion.id, category, index)}\r\n                                                                        className=\"text-red-600 hover:text-red-800 mt-1\"\r\n                                                                    >\r\n                                                                        <X size={12} />\r\n                                                                    </button>\r\n                                                                </div>\r\n                                                            ))}\r\n                                                            {criterion.feedbackLibrary[category].length === 0 && (\r\n                                                                <div className=\"text-xs text-gray-500 italic text-center py-4\">\r\n                                                                    No {category} comments added\r\n                                                                </div>\r\n                                                            )}\r\n                                                        </div>\r\n                                                    </div>\r\n                                                ))}\r\n                                            </div>\r\n                                        </div>\r\n                                    )}\r\n                                </div>\r\n                            ))}\r\n                        </div>\r\n                    </div>\r\n\r\n                    {/* Overall Score Preview */}\r\n                    <div className=\"bg-gradient-to-r from-blue-50 to-indigo-50 border border-blue-200 p-6 rounded-lg\">\r\n                        <h3 className=\"text-lg font-semibold text-gray-800 mb-3\">Overall Score Breakdown</h3>\r\n                        <p className=\"text-gray-600 mb-4\">Each submission is assigned a level of achievement based on its overall rubric score.</p>\r\n\r\n                        <div className=\"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-7 gap-3\">\r\n                            {getDisplayLevels().map((level) => (\r\n                                <div\r\n                                    key={level.level}\r\n                                    className=\"text-center p-3 rounded-lg border-2\"\r\n                                    style={{\r\n                                        borderColor: level.color,\r\n                                        backgroundColor: level.color + '15'\r\n                                    }}\r\n                                >\r\n                                    <div className=\"font-semibold text-sm\" style={{ color: level.color }}>\r\n                                        {level.name}\r\n                                    </div>\r\n                                    <div className=\"text-lg font-bold mt-1\" style={{ color: level.color }}>\r\n                                        {Math.round(calculateTotalPoints() * level.multiplier)}\r\n                                    </div>\r\n                                    <div className=\"text-xs text-gray-600\">or more</div>\r\n                                </div>\r\n                            ))}\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n                {/* Full-Page Text Editor Modal */}\r\n                {modalEdit.show && (\r\n                    <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\">\r\n                        <div className=\"bg-white rounded-lg shadow-xl w-full max-w-4xl h-full max-h-[90vh] flex flex-col\">\r\n                            <div className=\"flex justify-between items-center p-4 border-b\">\r\n                                <h3 className=\"text-lg font-semibold text-gray-800\">\r\n                                    Edit {modalEdit.field}\r\n                                </h3>\r\n                                <div className=\"flex gap-2\">\r\n                                    <button\r\n                                        onClick={() => closeModalEdit(true)}\r\n                                        className=\"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded flex items-center gap-2\"\r\n                                    >\r\n                                        <Save size={16} />\r\n                                        Save & Close\r\n                                    </button>\r\n                                    <button\r\n                                        onClick={() => closeModalEdit(false)}\r\n                                        className=\"bg-gray-500 hover:bg-gray-600 text-white px-4 py-2 rounded flex items-center gap-2\"\r\n                                    >\r\n                                        <X size={16} />\r\n                                        Cancel\r\n                                    </button>\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"flex-1 p-4\">\r\n                                <textarea\r\n                                    value={modalEdit.content}\r\n                                    onChange={(e) => setModalEdit(prev => ({ ...prev, content: e.target.value }))}\r\n                                    className=\"w-full h-full p-4 border rounded-lg resize-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\r\n                                    placeholder=\"Enter your text here...\"\r\n                                    style={{ minHeight: '400px' }}\r\n                                />\r\n                            </div>\r\n                            <div className=\"p-4 border-t bg-gray-50 rounded-b-lg\">\r\n                                <p className=\"text-sm text-gray-600\">\r\n                                    <strong>Tip:</strong> Use this full-page editor for longer descriptions and detailed feedback comments.\r\n                                    Click \"Save & Close\" to apply your changes.\r\n                                </p>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                )}\r\n\r\n                {/* Hidden file inputs */}\r\n                <input\r\n                    ref={importInputRef}\r\n                    type=\"file\"\r\n                    accept=\".json\"\r\n                    onChange={importRubric}\r\n                    className=\"hidden\"\r\n                />\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default RubricCreator;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}