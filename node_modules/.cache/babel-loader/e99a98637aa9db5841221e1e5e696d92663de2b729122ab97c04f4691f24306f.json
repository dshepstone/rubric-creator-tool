{"ast":null,"code":"var _jsxFileName = \"C:\\\\local clones\\\\rubric-creation-app\\\\src\\\\components\\\\TabNavigation.js\",\n  _s = $RefreshSig$();\n// TabNavigation.js\nimport React, { useRef } from 'react';\nimport { useAssessment } from './SharedContext';\nimport { FileText, GraduationCap, Users, ArrowRight, Database, PlayCircle, Clock, CheckCircle, AlertTriangle, Save, Upload, Sparkles, BookOpen, HelpCircle, Settings, Image } from 'lucide-react';\nimport { useGradingPolicies } from '../hooks/useGradingPolicies';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst TabNavigation = () => {\n  _s();\n  var _sharedRubric$assignm, _persistentFormData$s, _persistentFormData$c, _persistentFormData$a, _persistentFormData$a2, _persistentFormData$v, _classList$students, _classList$courseMeta, _classList$students2;\n  const {\n    activeTab,\n    setActiveTab,\n    sharedRubric,\n    persistentFormData,\n    classList,\n    gradingSession,\n    initializeGradingSession,\n    exportSession,\n    importSession\n  } = useAssessment();\n  const {\n    data: availablePolicies = [],\n    isLoading: policiesLoading\n  } = useGradingPolicies({\n    isActive: true\n  });\n\n  // For the Import button\n  const importSessionInputRef = useRef(null);\n  const handleSessionImport = e => {\n    var _e$target$files;\n    const file = (_e$target$files = e.target.files) === null || _e$target$files === void 0 ? void 0 : _e$target$files[0];\n    if (!file) return;\n    const reader = new FileReader();\n    reader.onload = evt => importSession(evt.target.result);\n    reader.readAsText(file);\n    e.target.value = '';\n  };\n\n  // === tabs definition ===\n  const tabs = [{\n    id: 'assignment-prompt-generator',\n    name: 'Assignment Prompt',\n    icon: BookOpen,\n    description: 'Generate AI prompts and HTML for assignment pages'\n  }, {\n    id: 'ai-prompt-generator',\n    name: 'AI Rubric Prompt',\n    icon: Sparkles,\n    description: 'Generate AI prompts to create rubric JSON files'\n  }, {\n    id: 'rubric-creator',\n    name: 'Rubric Creator',\n    icon: FileText,\n    description: 'Create and edit assessment rubrics'\n  }, {\n    id: 'class-manager',\n    name: 'Class Manager',\n    icon: Users,\n    description: 'Import and manage class lists'\n  }, {\n    id: 'grading-tool',\n    name: 'Grading Tool',\n    icon: GraduationCap,\n    description: 'Grade assignments using rubrics'\n  }, {\n    id: 'gradebook',\n    name: 'Grade Book',\n    icon: BookOpen,\n    description: 'Comprehensive gradebook with multiple assignments'\n  }, {\n    id: 'policy-manager',\n    name: 'Policy Manager',\n    icon: Settings,\n    description: 'Manage dynamic grading policies and scales'\n  }, {\n    id: 'logo-settings',\n    name: 'Logo Settings',\n    icon: Image,\n    description: 'Upload and manage school logo for exports'\n  }, {\n    id: 'help',\n    name: 'Help',\n    icon: HelpCircle,\n    description: 'User guide and feature documentation'\n  }];\n  const activeStyles = {\n    'assignment-prompt-generator': 'active-assignment-prompt border-orange-500 text-orange-700',\n    'ai-prompt-generator': 'active-ai-prompt border-blue-500 text-blue-700',\n    'rubric-creator': 'active-rubric border-purple-500 text-purple-700',\n    'class-manager': 'active-class border-indigo-500 text-indigo-700',\n    'grading-tool': 'active-grading border-green-500 text-green-700',\n    'gradebook': 'active-gradebook border-blue-600 text-blue-800',\n    'policy-manager': 'active-policy border-teal-500 text-teal-700',\n    'logo-settings': 'active-logo border-pink-500 text-pink-700',\n    'help': 'active-help border-gray-500 text-gray-700'\n  };\n\n  // some booleans for the little badges…\n  const hasRubricData = !!(sharedRubric !== null && sharedRubric !== void 0 && (_sharedRubric$assignm = sharedRubric.assignmentInfo) !== null && _sharedRubric$assignm !== void 0 && _sharedRubric$assignm.title);\n  const hasFormData = !!(persistentFormData !== null && persistentFormData !== void 0 && (_persistentFormData$s = persistentFormData.student) !== null && _persistentFormData$s !== void 0 && _persistentFormData$s.name) || !!(persistentFormData !== null && persistentFormData !== void 0 && (_persistentFormData$c = persistentFormData.course) !== null && _persistentFormData$c !== void 0 && _persistentFormData$c.name) || !!(persistentFormData !== null && persistentFormData !== void 0 && (_persistentFormData$a = persistentFormData.assignment) !== null && _persistentFormData$a !== void 0 && _persistentFormData$a.name) || ((_persistentFormData$a2 = persistentFormData.attachments) === null || _persistentFormData$a2 === void 0 ? void 0 : _persistentFormData$a2.length) > 0 || ((_persistentFormData$v = persistentFormData.videoLinks) === null || _persistentFormData$v === void 0 ? void 0 : _persistentFormData$v.length) > 0;\n  const hasClassListData = (classList === null || classList === void 0 ? void 0 : (_classList$students = classList.students) === null || _classList$students === void 0 ? void 0 : _classList$students.length) > 0;\n  const hasActiveSession = gradingSession === null || gradingSession === void 0 ? void 0 : gradingSession.active;\n  const hasPolicyData = availablePolicies.length > 0;\n  const currentProgramType = (classList === null || classList === void 0 ? void 0 : (_classList$courseMeta = classList.courseMetadata) === null || _classList$courseMeta === void 0 ? void 0 : _classList$courseMeta.programType) || 'degree';\n\n  // progress %\n  const getGradingProgress = () => {\n    if (!(classList !== null && classList !== void 0 && classList.gradingProgress)) return {\n      completed: 0,\n      total: 0,\n      percentage: 0\n    };\n    const completed = classList.gradingProgress.filter(p => {\n      var _p$status;\n      return (_p$status = p.status) === null || _p$status === void 0 ? void 0 : _p$status.startsWith('completed');\n    }).length;\n    const total = classList.students.length;\n    return {\n      completed,\n      total,\n      percentage: total > 0 ? Math.round(completed / total * 100) : 0\n    };\n  };\n  const progress = getGradingProgress();\n  const gradebookStats = {\n    students: (classList === null || classList === void 0 ? void 0 : (_classList$students2 = classList.students) === null || _classList$students2 === void 0 ? void 0 : _classList$students2.length) || 0,\n    projects: 0\n  };\n\n  // logo from sessionStorage\n  const getLogoStatus = () => {\n    try {\n      const logo = sessionStorage.getItem('schoolLogo');\n      const name = sessionStorage.getItem('schoolLogoName');\n      return {\n        hasLogo: !!logo,\n        logoName: name || 'No logo'\n      };\n    } catch {\n      return {\n        hasLogo: false,\n        logoName: 'No logo'\n      };\n    }\n  };\n  const logoStatus = getLogoStatus();\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"tab-navigation border-b border-gray-200 shadow-sm\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"max-w-8xl mx-auto\",\n      children: /*#__PURE__*/_jsxDEV(\"nav\", {\n        className: \"flex justify-center space-x-2 px-6 overflow-x-auto\",\n        \"aria-label\": \"Tabs\",\n        children: tabs.map(tab => {\n          const Icon = tab.icon;\n          const isActive = activeTab === tab.id;\n          return /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setActiveTab(tab.id),\n            \"aria-current\": isActive ? 'page' : undefined,\n            title: tab.description,\n            className: `\n                  whitespace-nowrap py-4 px-3 border-b-2 font-medium text-sm transition-all duration-200\n                  flex items-start gap-2 min-w-fit\n                  ${isActive ? `border-b-2 ${activeStyles[tab.id]} bg-white shadow-sm` : 'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 bg-transparent'}\n                `,\n            children: [/*#__PURE__*/_jsxDEV(Icon, {\n              size: 16,\n              className: \"flex-shrink-0 mt-0.5\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 138,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex flex-col items-start text-left\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"font-medium\",\n                children: tab.name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 140,\n                columnNumber: 37\n              }, this), tab.id === 'ai-prompt-generator' && hasRubricData && /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800 whitespace-nowrap\",\n                children: [/*#__PURE__*/_jsxDEV(Sparkles, {\n                  size: 10,\n                  className: \"mr-1 flex-shrink-0\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 145,\n                  columnNumber: 45\n                }, this), \" AI Ready\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 144,\n                columnNumber: 41\n              }, this), tab.id === 'rubric-creator' && hasRubricData && /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-purple-100 text-purple-800 whitespace-nowrap\",\n                children: [/*#__PURE__*/_jsxDEV(Database, {\n                  size: 10,\n                  className: \"mr-1 flex-shrink-0\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 151,\n                  columnNumber: 45\n                }, this), \" Rubric Ready\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 150,\n                columnNumber: 41\n              }, this), tab.id === 'class-manager' && /*#__PURE__*/_jsxDEV(_Fragment, {\n                children: [hasClassListData && /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-indigo-100 text-indigo-800 whitespace-nowrap\",\n                  children: [/*#__PURE__*/_jsxDEV(Users, {\n                    size: 10,\n                    className: \"mr-1 flex-shrink-0\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 159,\n                    columnNumber: 53\n                  }, this), \" \", classList.students.length, \" Students\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 158,\n                  columnNumber: 49\n                }, this), progress.total > 0 && /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800 whitespace-nowrap\",\n                  children: [/*#__PURE__*/_jsxDEV(CheckCircle, {\n                    size: 10,\n                    className: \"mr-1 flex-shrink-0\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 164,\n                    columnNumber: 53\n                  }, this), \" \", progress.percentage, \"% Graded\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 163,\n                  columnNumber: 49\n                }, this), hasActiveSession && /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-orange-100 text-orange-800 whitespace-nowrap\",\n                  children: [/*#__PURE__*/_jsxDEV(PlayCircle, {\n                    size: 10,\n                    className: \"mr-1 flex-shrink-0\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 169,\n                    columnNumber: 53\n                  }, this), \" Active Session\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 168,\n                  columnNumber: 49\n                }, this)]\n              }, void 0, true), tab.id === 'policy-manager' && /*#__PURE__*/_jsxDEV(_Fragment, {\n                children: [hasPolicyData && /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-teal-100 text-teal-800 whitespace-nowrap\",\n                  children: [/*#__PURE__*/_jsxDEV(Settings, {\n                    size: 10,\n                    className: \"mr-1 flex-shrink-0\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 179,\n                    columnNumber: 53\n                  }, this), \" \", availablePolicies.length, \" Policies\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 178,\n                  columnNumber: 49\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800 whitespace-nowrap\",\n                  children: [/*#__PURE__*/_jsxDEV(Database, {\n                    size: 10,\n                    className: \"mr-1 flex-shrink-0\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 183,\n                    columnNumber: 49\n                  }, this), \" \", currentProgramType.charAt(0).toUpperCase() + currentProgramType.slice(1)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 182,\n                  columnNumber: 45\n                }, this), policiesLoading && /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800 whitespace-nowrap\",\n                  children: [/*#__PURE__*/_jsxDEV(Clock, {\n                    size: 10,\n                    className: \"mr-1 flex-shrink-0\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 187,\n                    columnNumber: 53\n                  }, this), \" Loading...\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 186,\n                  columnNumber: 49\n                }, this)]\n              }, void 0, true), tab.id === 'grading-tool' && /*#__PURE__*/_jsxDEV(_Fragment, {\n                children: [hasRubricData && /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800 whitespace-nowrap\",\n                  children: [/*#__PURE__*/_jsxDEV(Database, {\n                    size: 10,\n                    className: \"mr-1 flex-shrink-0\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 197,\n                    columnNumber: 53\n                  }, this), \" Rubric Ready\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 196,\n                  columnNumber: 49\n                }, this), hasFormData && /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800 whitespace-nowrap\",\n                  children: [/*#__PURE__*/_jsxDEV(FileText, {\n                    size: 10,\n                    className: \"mr-1 flex-shrink-0\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 202,\n                    columnNumber: 53\n                  }, this), \" Form Data\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 201,\n                  columnNumber: 49\n                }, this), hasActiveSession && /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-orange-100 text-orange-800 whitespace-nowrap\",\n                  children: [/*#__PURE__*/_jsxDEV(Clock, {\n                    size: 10,\n                    className: \"mr-1 flex-shrink-0\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 207,\n                    columnNumber: 53\n                  }, this), \" In Progress\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 206,\n                  columnNumber: 49\n                }, this)]\n              }, void 0, true), tab.id === 'gradebook' && /*#__PURE__*/_jsxDEV(_Fragment, {\n                children: [hasClassListData && /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800 whitespace-nowrap\",\n                  children: [/*#__PURE__*/_jsxDEV(Users, {\n                    size: 10,\n                    className: \"mr-1 flex-shrink-0\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 217,\n                    columnNumber: 53\n                  }, this), \" \", gradebookStats.students, \" Students\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 216,\n                  columnNumber: 49\n                }, this), gradebookStats.projects > 0 && /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800 whitespace-nowrap\",\n                  children: [/*#__PURE__*/_jsxDEV(FileText, {\n                    size: 10,\n                    className: \"mr-1 flex-shrink-0\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 222,\n                    columnNumber: 53\n                  }, this), \" \", gradebookStats.projects, \" Projects\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 221,\n                  columnNumber: 49\n                }, this)]\n              }, void 0, true), tab.id === 'logo-settings' && /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-gray-100 text-gray-600 whitespace-nowrap\",\n                children: [/*#__PURE__*/_jsxDEV(Image, {\n                  size: 10,\n                  className: \"mr-1 flex-shrink-0\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 230,\n                  columnNumber: 45\n                }, this), \" \", logoStatus.hasLogo ? 'Logo Ready' : 'No Logo']\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 229,\n                columnNumber: 41\n              }, this), tab.id === 'help' && /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-gray-100 text-gray-800 whitespace-nowrap\",\n                children: [/*#__PURE__*/_jsxDEV(HelpCircle, {\n                  size: 10,\n                  className: \"mr-1 flex-shrink-0\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 236,\n                  columnNumber: 45\n                }, this), \" User Guide\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 235,\n                columnNumber: 41\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 139,\n              columnNumber: 33\n            }, this)]\n          }, tab.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 124,\n            columnNumber: 29\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"border-t border-gray-100 bg-gray-50\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"max-w-8xl mx-auto flex items-center justify-between px-6 py-2\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center gap-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center gap-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: exportSession,\n              className: \"flex items-center gap-1 text-gray-600 hover:text-gray-800 text-xs font-medium\",\n              title: \"Export Current Session\",\n              children: [/*#__PURE__*/_jsxDEV(Save, {\n                size: 12\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 257,\n                columnNumber: 33\n              }, this), \" Export\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 252,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              ref: importSessionInputRef,\n              type: \"file\",\n              accept: \".json\",\n              onChange: handleSessionImport,\n              className: \"hidden\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 259,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => {\n                var _importSessionInputRe;\n                return (_importSessionInputRe = importSessionInputRef.current) === null || _importSessionInputRe === void 0 ? void 0 : _importSessionInputRe.click();\n              },\n              className: \"flex items-center gap-1 text-gray-600 hover:text-gray-800 text-xs font-medium\",\n              title: \"Import Session\",\n              children: [/*#__PURE__*/_jsxDEV(Upload, {\n                size: 12\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 271,\n                columnNumber: 33\n              }, this), \" Import\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 266,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 251,\n            columnNumber: 25\n          }, this), activeTab !== 'help' && /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setActiveTab('help'),\n            className: \"flex items-center gap-1 text-blue-600 hover:text-blue-800 text-xs font-medium\",\n            title: \"Need help? View user guide\",\n            children: [/*#__PURE__*/_jsxDEV(HelpCircle, {\n              size: 12\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 281,\n              columnNumber: 33\n            }, this), \" Need Help?\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 276,\n            columnNumber: 29\n          }, this), activeTab !== 'policy-manager' && hasClassListData && /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setActiveTab('policy-manager'),\n            className: \"flex items-center gap-1 text-teal-600 hover:text-teal-800 text-xs font-medium\",\n            title: \"Manage grading policies for your program type\",\n            children: [/*#__PURE__*/_jsxDEV(Settings, {\n              size: 12\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 291,\n              columnNumber: 33\n            }, this), \" Manage Policies\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 286,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 250,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center gap-2\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 296,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 249,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 248,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 111,\n    columnNumber: 9\n  }, this);\n};\n_s(TabNavigation, \"nUgYNUXdGYkUsesAYgaWxpwmvwg=\", false, function () {\n  return [useAssessment, useGradingPolicies];\n});\n_c = TabNavigation;\nexport default TabNavigation;\nvar _c;\n$RefreshReg$(_c, \"TabNavigation\");","map":{"version":3,"names":["React","useRef","useAssessment","FileText","GraduationCap","Users","ArrowRight","Database","PlayCircle","Clock","CheckCircle","AlertTriangle","Save","Upload","Sparkles","BookOpen","HelpCircle","Settings","Image","useGradingPolicies","jsxDEV","_jsxDEV","Fragment","_Fragment","TabNavigation","_s","_sharedRubric$assignm","_persistentFormData$s","_persistentFormData$c","_persistentFormData$a","_persistentFormData$a2","_persistentFormData$v","_classList$students","_classList$courseMeta","_classList$students2","activeTab","setActiveTab","sharedRubric","persistentFormData","classList","gradingSession","initializeGradingSession","exportSession","importSession","data","availablePolicies","isLoading","policiesLoading","isActive","importSessionInputRef","handleSessionImport","e","_e$target$files","file","target","files","reader","FileReader","onload","evt","result","readAsText","value","tabs","id","name","icon","description","activeStyles","hasRubricData","assignmentInfo","title","hasFormData","student","course","assignment","attachments","length","videoLinks","hasClassListData","students","hasActiveSession","active","hasPolicyData","currentProgramType","courseMetadata","programType","getGradingProgress","gradingProgress","completed","total","percentage","filter","p","_p$status","status","startsWith","Math","round","progress","gradebookStats","projects","getLogoStatus","logo","sessionStorage","getItem","hasLogo","logoName","logoStatus","className","children","map","tab","Icon","onClick","undefined","size","fileName","_jsxFileName","lineNumber","columnNumber","charAt","toUpperCase","slice","ref","type","accept","onChange","_importSessionInputRe","current","click","_c","$RefreshReg$"],"sources":["C:/local clones/rubric-creation-app/src/components/TabNavigation.js"],"sourcesContent":["// TabNavigation.js\r\nimport React, { useRef } from 'react';\r\nimport { useAssessment } from './SharedContext';\r\nimport {\r\n    FileText,\r\n    GraduationCap,\r\n    Users,\r\n    ArrowRight,\r\n    Database,\r\n    PlayCircle,\r\n    Clock,\r\n    CheckCircle,\r\n    AlertTriangle,\r\n    Save,\r\n    Upload,\r\n    Sparkles,\r\n    BookOpen,\r\n    HelpCircle,\r\n    Settings,\r\n    Image\r\n} from 'lucide-react';\r\nimport { useGradingPolicies } from '../hooks/useGradingPolicies';\r\n\r\nconst TabNavigation = () => {\r\n    const {\r\n        activeTab,\r\n        setActiveTab,\r\n        sharedRubric,\r\n        persistentFormData,\r\n        classList,\r\n        gradingSession,\r\n        initializeGradingSession,\r\n        exportSession,\r\n        importSession,\r\n    } = useAssessment();\r\n\r\n    const { data: availablePolicies = [], isLoading: policiesLoading } =\r\n        useGradingPolicies({ isActive: true });\r\n\r\n    // For the Import button\r\n    const importSessionInputRef = useRef(null);\r\n    const handleSessionImport = (e) => {\r\n        const file = e.target.files?.[0];\r\n        if (!file) return;\r\n        const reader = new FileReader();\r\n        reader.onload = (evt) => importSession(evt.target.result);\r\n        reader.readAsText(file);\r\n        e.target.value = '';\r\n    };\r\n\r\n    // === tabs definition ===\r\n    const tabs = [\r\n        { id: 'assignment-prompt-generator', name: 'Assignment Prompt', icon: BookOpen, description: 'Generate AI prompts and HTML for assignment pages' },\r\n        { id: 'ai-prompt-generator', name: 'AI Rubric Prompt', icon: Sparkles, description: 'Generate AI prompts to create rubric JSON files' },\r\n        { id: 'rubric-creator', name: 'Rubric Creator', icon: FileText, description: 'Create and edit assessment rubrics' },\r\n        { id: 'class-manager', name: 'Class Manager', icon: Users, description: 'Import and manage class lists' },\r\n        { id: 'grading-tool', name: 'Grading Tool', icon: GraduationCap, description: 'Grade assignments using rubrics' },\r\n        { id: 'gradebook', name: 'Grade Book', icon: BookOpen, description: 'Comprehensive gradebook with multiple assignments' },\r\n        { id: 'policy-manager', name: 'Policy Manager', icon: Settings, description: 'Manage dynamic grading policies and scales' },\r\n        { id: 'logo-settings', name: 'Logo Settings', icon: Image, description: 'Upload and manage school logo for exports' },\r\n        { id: 'help', name: 'Help', icon: HelpCircle, description: 'User guide and feature documentation' },\r\n    ];\r\n\r\n    const activeStyles = {\r\n        'assignment-prompt-generator': 'active-assignment-prompt border-orange-500 text-orange-700',\r\n        'ai-prompt-generator': 'active-ai-prompt border-blue-500 text-blue-700',\r\n        'rubric-creator': 'active-rubric border-purple-500 text-purple-700',\r\n        'class-manager': 'active-class border-indigo-500 text-indigo-700',\r\n        'grading-tool': 'active-grading border-green-500 text-green-700',\r\n        'gradebook': 'active-gradebook border-blue-600 text-blue-800',\r\n        'policy-manager': 'active-policy border-teal-500 text-teal-700',\r\n        'logo-settings': 'active-logo border-pink-500 text-pink-700',\r\n        'help': 'active-help border-gray-500 text-gray-700',\r\n    };\r\n\r\n    // some booleans for the little badges…\r\n    const hasRubricData = !!sharedRubric?.assignmentInfo?.title;\r\n    const hasFormData = !!persistentFormData?.student?.name\r\n        || !!persistentFormData?.course?.name\r\n        || !!persistentFormData?.assignment?.name\r\n        || (persistentFormData.attachments?.length > 0)\r\n        || (persistentFormData.videoLinks?.length > 0);\r\n    const hasClassListData = classList?.students?.length > 0;\r\n    const hasActiveSession = gradingSession?.active;\r\n    const hasPolicyData = availablePolicies.length > 0;\r\n    const currentProgramType = classList?.courseMetadata?.programType || 'degree';\r\n\r\n    // progress %\r\n    const getGradingProgress = () => {\r\n        if (!classList?.gradingProgress) return { completed: 0, total: 0, percentage: 0 };\r\n        const completed = classList.gradingProgress.filter(p => p.status?.startsWith('completed')).length;\r\n        const total = classList.students.length;\r\n        return { completed, total, percentage: total > 0 ? Math.round((completed / total) * 100) : 0 };\r\n    };\r\n    const progress = getGradingProgress();\r\n    const gradebookStats = { students: classList?.students?.length || 0, projects: 0 };\r\n\r\n    // logo from sessionStorage\r\n    const getLogoStatus = () => {\r\n        try {\r\n            const logo = sessionStorage.getItem('schoolLogo');\r\n            const name = sessionStorage.getItem('schoolLogoName');\r\n            return { hasLogo: !!logo, logoName: name || 'No logo' };\r\n        } catch {\r\n            return { hasLogo: false, logoName: 'No logo' };\r\n        }\r\n    };\r\n    const logoStatus = getLogoStatus();\r\n\r\n    return (\r\n        <div className=\"tab-navigation border-b border-gray-200 shadow-sm\">\r\n            <div className=\"max-w-8xl mx-auto\">\r\n\r\n                {/* ——— Primary Tabs Bar ——— */}\r\n                <nav\r\n                    className=\"flex justify-center space-x-2 px-6 overflow-x-auto\"\r\n                    aria-label=\"Tabs\"\r\n                >\r\n                    {tabs.map(tab => {\r\n                        const Icon = tab.icon;\r\n                        const isActive = activeTab === tab.id;\r\n\r\n                        return (\r\n                            <button\r\n                                key={tab.id}\r\n                                onClick={() => setActiveTab(tab.id)}\r\n                                aria-current={isActive ? 'page' : undefined}\r\n                                title={tab.description}\r\n                                className={`\r\n                  whitespace-nowrap py-4 px-3 border-b-2 font-medium text-sm transition-all duration-200\r\n                  flex items-start gap-2 min-w-fit\r\n                  ${isActive\r\n                                        ? `border-b-2 ${activeStyles[tab.id]} bg-white shadow-sm`\r\n                                        : 'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 bg-transparent'\r\n                                    }\r\n                `}\r\n                            >\r\n                                <Icon size={16} className=\"flex-shrink-0 mt-0.5\" />\r\n                                <div className=\"flex flex-col items-start text-left\">\r\n                                    <span className=\"font-medium\">{tab.name}</span>\r\n\r\n                                    {/* per‐tab badges */}\r\n                                    {tab.id === 'ai-prompt-generator' && hasRubricData && (\r\n                                        <span className=\"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800 whitespace-nowrap\">\r\n                                            <Sparkles size={10} className=\"mr-1 flex-shrink-0\" /> AI Ready\r\n                                        </span>\r\n                                    )}\r\n\r\n                                    {tab.id === 'rubric-creator' && hasRubricData && (\r\n                                        <span className=\"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-purple-100 text-purple-800 whitespace-nowrap\">\r\n                                            <Database size={10} className=\"mr-1 flex-shrink-0\" /> Rubric Ready\r\n                                        </span>\r\n                                    )}\r\n\r\n                                    {tab.id === 'class-manager' && (\r\n                                        <>\r\n                                            {hasClassListData && (\r\n                                                <span className=\"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-indigo-100 text-indigo-800 whitespace-nowrap\">\r\n                                                    <Users size={10} className=\"mr-1 flex-shrink-0\" /> {classList.students.length} Students\r\n                                                </span>\r\n                                            )}\r\n                                            {progress.total > 0 && (\r\n                                                <span className=\"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800 whitespace-nowrap\">\r\n                                                    <CheckCircle size={10} className=\"mr-1 flex-shrink-0\" /> {progress.percentage}% Graded\r\n                                                </span>\r\n                                            )}\r\n                                            {hasActiveSession && (\r\n                                                <span className=\"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-orange-100 text-orange-800 whitespace-nowrap\">\r\n                                                    <PlayCircle size={10} className=\"mr-1 flex-shrink-0\" /> Active Session\r\n                                                </span>\r\n                                            )}\r\n                                        </>\r\n                                    )}\r\n\r\n                                    {tab.id === 'policy-manager' && (\r\n                                        <>\r\n                                            {hasPolicyData && (\r\n                                                <span className=\"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-teal-100 text-teal-800 whitespace-nowrap\">\r\n                                                    <Settings size={10} className=\"mr-1 flex-shrink-0\" /> {availablePolicies.length} Policies\r\n                                                </span>\r\n                                            )}\r\n                                            <span className=\"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800 whitespace-nowrap\">\r\n                                                <Database size={10} className=\"mr-1 flex-shrink-0\" /> {currentProgramType.charAt(0).toUpperCase() + currentProgramType.slice(1)}\r\n                                            </span>\r\n                                            {policiesLoading && (\r\n                                                <span className=\"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800 whitespace-nowrap\">\r\n                                                    <Clock size={10} className=\"mr-1 flex-shrink-0\" /> Loading...\r\n                                                </span>\r\n                                            )}\r\n                                        </>\r\n                                    )}\r\n\r\n                                    {tab.id === 'grading-tool' && (\r\n                                        <>\r\n                                            {hasRubricData && (\r\n                                                <span className=\"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800 whitespace-nowrap\">\r\n                                                    <Database size={10} className=\"mr-1 flex-shrink-0\" /> Rubric Ready\r\n                                                </span>\r\n                                            )}\r\n                                            {hasFormData && (\r\n                                                <span className=\"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800 whitespace-nowrap\">\r\n                                                    <FileText size={10} className=\"mr-1 flex-shrink-0\" /> Form Data\r\n                                                </span>\r\n                                            )}\r\n                                            {hasActiveSession && (\r\n                                                <span className=\"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-orange-100 text-orange-800 whitespace-nowrap\">\r\n                                                    <Clock size={10} className=\"mr-1 flex-shrink-0\" /> In Progress\r\n                                                </span>\r\n                                            )}\r\n                                        </>\r\n                                    )}\r\n\r\n                                    {tab.id === 'gradebook' && (\r\n                                        <>\r\n                                            {hasClassListData && (\r\n                                                <span className=\"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800 whitespace-nowrap\">\r\n                                                    <Users size={10} className=\"mr-1 flex-shrink-0\" /> {gradebookStats.students} Students\r\n                                                </span>\r\n                                            )}\r\n                                            {gradebookStats.projects > 0 && (\r\n                                                <span className=\"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800 whitespace-nowrap\">\r\n                                                    <FileText size={10} className=\"mr-1 flex-shrink-0\" /> {gradebookStats.projects} Projects\r\n                                                </span>\r\n                                            )}\r\n                                        </>\r\n                                    )}\r\n\r\n                                    {tab.id === 'logo-settings' && (\r\n                                        <span className=\"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-gray-100 text-gray-600 whitespace-nowrap\">\r\n                                            <Image size={10} className=\"mr-1 flex-shrink-0\" /> {logoStatus.hasLogo ? 'Logo Ready' : 'No Logo'}\r\n                                        </span>\r\n                                    )}\r\n\r\n                                    {tab.id === 'help' && (\r\n                                        <span className=\"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-gray-100 text-gray-800 whitespace-nowrap\">\r\n                                            <HelpCircle size={10} className=\"mr-1 flex-shrink-0\" /> User Guide\r\n                                        </span>\r\n                                    )}\r\n                                </div>\r\n                            </button>\r\n                        );\r\n                    })}\r\n                </nav>\r\n            </div>\r\n\r\n\r\n            {/* ——— Quick Actions Bar (Restructured) ——— */}\r\n            <div className=\"border-t border-gray-100 bg-gray-50\">\r\n                <div className=\"max-w-8xl mx-auto flex items-center justify-between px-6 py-2\">\r\n                    <div className=\"flex items-center gap-4\">\r\n                        <div className=\"flex items-center gap-2\">\r\n                            <button\r\n                                onClick={exportSession}\r\n                                className=\"flex items-center gap-1 text-gray-600 hover:text-gray-800 text-xs font-medium\"\r\n                                title=\"Export Current Session\"\r\n                            >\r\n                                <Save size={12} /> Export\r\n                            </button>\r\n                            <input\r\n                                ref={importSessionInputRef}\r\n                                type=\"file\"\r\n                                accept=\".json\"\r\n                                onChange={handleSessionImport}\r\n                                className=\"hidden\"\r\n                            />\r\n                            <button\r\n                                onClick={() => importSessionInputRef.current?.click()}\r\n                                className=\"flex items-center gap-1 text-gray-600 hover:text-gray-800 text-xs font-medium\"\r\n                                title=\"Import Session\"\r\n                            >\r\n                                <Upload size={12} /> Import\r\n                            </button>\r\n                        </div>\r\n\r\n                        {activeTab !== 'help' && (\r\n                            <button\r\n                                onClick={() => setActiveTab('help')}\r\n                                className=\"flex items-center gap-1 text-blue-600 hover:text-blue-800 text-xs font-medium\"\r\n                                title=\"Need help? View user guide\"\r\n                            >\r\n                                <HelpCircle size={12} /> Need Help?\r\n                            </button>\r\n                        )}\r\n\r\n                        {activeTab !== 'policy-manager' && hasClassListData && (\r\n                            <button\r\n                                onClick={() => setActiveTab('policy-manager')}\r\n                                className=\"flex items-center gap-1 text-teal-600 hover:text-teal-800 text-xs font-medium\"\r\n                                title=\"Manage grading policies for your program type\"\r\n                            >\r\n                                <Settings size={12} /> Manage Policies\r\n                            </button>\r\n                        )}\r\n                    </div>\r\n\r\n                    <div className=\"flex items-center gap-2\">\r\n                        {/* …all of your per‐tab quick‑action buttons… */}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default TabNavigation;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}