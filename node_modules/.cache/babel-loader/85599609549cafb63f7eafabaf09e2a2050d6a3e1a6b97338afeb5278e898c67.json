{"ast":null,"code":"var _jsxFileName = \"C:\\\\local clones\\\\rubric-creation-app\\\\src\\\\components\\\\ClassListManager.js\",\n  _s = $RefreshSig$();\nimport React, { useRef, useState } from 'react';\nimport { Upload, Users, BookOpen, GraduationCap, Play, Download, CheckCircle, Clock, AlertCircle, Unlock, FileText, ExternalLink } from 'lucide-react';\nimport { useAssessment } from '../context/SharedContext';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst ClassListManager = () => {\n  _s();\n  var _classList$courseMeta, _classList$courseMeta2, _classList$courseMeta3, _classList$validation;\n  const fileInputRef = useRef(null);\n  const [importStatus, setImportStatus] = useState('');\n  const {\n    classList,\n    setClassList,\n    gradingSession,\n    setGradingSession,\n    initializeGradingSession,\n    setActiveTab,\n    setCurrentStudent,\n    hasDraft,\n    getGradeStatus,\n    saveFinalGrade,\n    gradingData,\n    drafts,\n    setDrafts,\n    setGradingData\n  } = useAssessment();\n\n  // Helper function for status display\n  const getStatusDisplay = (progress, studentId) => {\n    const gradeStatus = getGradeStatus(studentId);\n    if (gradeStatus === 'final') {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center gap-2\",\n        children: [/*#__PURE__*/_jsxDEV(CheckCircle, {\n          className: \"w-4 h-4 text-green-600\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"text-xs bg-green-100 text-green-800 px-2 py-1 rounded-full font-medium\",\n          children: \"Final\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 17\n      }, this);\n    } else if (gradeStatus === 'draft') {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center gap-2\",\n        children: [/*#__PURE__*/_jsxDEV(Clock, {\n          className: \"w-4 h-4 text-yellow-600\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"text-xs bg-yellow-100 text-yellow-800 px-2 py-1 rounded-full font-medium\",\n          children: \"Draft\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 17\n      }, this);\n    } else if ((progress === null || progress === void 0 ? void 0 : progress.status) === 'in-progress') {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center gap-2\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"w-4 h-4 border-2 border-blue-600 border-t-transparent rounded-full animate-spin\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"text-xs bg-blue-100 text-blue-800 px-2 py-1 rounded-full font-medium\",\n          children: \"In Progress\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 17\n      }, this);\n    } else {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center gap-2\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"w-4 h-4 bg-gray-300 rounded-full\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"text-xs bg-gray-100 text-gray-600 px-2 py-1 rounded-full\",\n          children: \"Not Started\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 17\n      }, this);\n    }\n  };\n\n  // Helper function to finalize a draft grade\n  const finalizeGrade = studentId => {\n    const draftData = drafts[studentId];\n    if (draftData) {\n      saveFinalGrade(studentId, draftData);\n\n      // Update class list progress\n      const studentIndex = classList.students.findIndex(s => s.id === studentId);\n      if (studentIndex >= 0) {\n        const updatedProgress = [...classList.gradingProgress];\n        updatedProgress[studentIndex] = {\n          ...updatedProgress[studentIndex],\n          status: 'completed_final',\n          lastModified: new Date().toISOString(),\n          gradeType: 'final'\n        };\n        setClassList(prev => ({\n          ...prev,\n          gradingProgress: updatedProgress\n        }));\n      }\n    }\n  };\n\n  // Helper function to unlock a final grade\n  const unlockGrade = studentId => {\n    const finalData = gradingData[studentId];\n    if (finalData) {\n      // Move from final back to draft\n      setDrafts(prev => ({\n        ...prev,\n        [studentId]: finalData\n      }));\n      setGradingData(prev => {\n        const updated = {\n          ...prev\n        };\n        delete updated[studentId];\n        return updated;\n      });\n\n      // Update class list progress\n      const studentIndex = classList.students.findIndex(s => s.id === studentId);\n      if (studentIndex >= 0) {\n        const updatedProgress = [...classList.gradingProgress];\n        updatedProgress[studentIndex] = {\n          ...updatedProgress[studentIndex],\n          status: 'completed_draft',\n          lastModified: new Date().toISOString(),\n          gradeType: 'draft'\n        };\n        setClassList(prev => ({\n          ...prev,\n          gradingProgress: updatedProgress\n        }));\n      }\n    }\n  };\n\n  // Helper function to load student for grading\n  const loadStudentForGrading = student => {\n    setCurrentStudent(student);\n    setActiveTab('grading-tool');\n  };\n\n  // Helper function to open final grade sheet for export\n  const openFinalGradeSheet = student => {\n    const finalGrade = gradingData[student.id];\n    if (finalGrade) {\n      // Create a comprehensive grade report for export\n      const gradeReport = {\n        student: student,\n        gradeData: finalGrade,\n        timestamp: new Date().toISOString(),\n        status: 'final'\n      };\n\n      // Open the grading tool in view-only mode with final grade data\n      setCurrentStudent(student);\n      setActiveTab('grading-tool');\n\n      // You could also implement a dedicated export modal here\n      console.log('Final grade sheet for export:', gradeReport);\n    }\n  };\n  const handleFileUpload = async event => {\n    const file = event.target.files[0];\n    if (!file) return;\n    setImportStatus('processing');\n    try {\n      const text = await file.text();\n      const lines = text.split('\\n').filter(line => line.trim());\n      if (lines.length < 2) {\n        throw new Error('CSV must contain at least a header and one data row');\n      }\n      const headers = lines[0].split(',').map(h => h.trim().replace(/\"/g, ''));\n      const requiredFields = ['id', 'name', 'email'];\n      const missingFields = requiredFields.filter(field => !headers.some(header => header.toLowerCase().includes(field.toLowerCase())));\n      if (missingFields.length > 0) {\n        throw new Error(`Missing required fields: ${missingFields.join(', ')}`);\n      }\n      const students = [];\n      const gradingProgress = [];\n      for (let i = 1; i < lines.length; i++) {\n        const values = lines[i].split(',').map(v => v.trim().replace(/\"/g, ''));\n        if (values.length !== headers.length) continue;\n        const student = {};\n        headers.forEach((header, index) => {\n          const value = values[index] || '';\n          const lowerHeader = header.toLowerCase();\n          if (lowerHeader.includes('id')) student.id = value;else if (lowerHeader.includes('name')) student.name = value;else if (lowerHeader.includes('email')) student.email = value;else if (lowerHeader.includes('program')) student.program = value;else student[header] = value;\n        });\n        if (student.id && student.name) {\n          students.push(student);\n          gradingProgress.push({\n            status: 'pending',\n            lastModified: null,\n            gradeType: null\n          });\n        }\n      }\n      if (students.length === 0) {\n        throw new Error('No valid student records found');\n      }\n      const classListData = {\n        students,\n        gradingProgress,\n        fileName: file.name,\n        importTime: new Date().toISOString(),\n        courseMetadata: {\n          courseCode: 'AUTO-DETECTED',\n          courseName: 'Imported Class',\n          section: 'DEFAULT'\n        },\n        validation: {\n          validationScore: Math.round(students.length / (lines.length - 1) * 100),\n          issues: []\n        }\n      };\n      setClassList(classListData);\n      setImportStatus('success');\n      setTimeout(() => setImportStatus(''), 3000);\n    } catch (error) {\n      console.error('Import error:', error);\n      setImportStatus('error');\n      setTimeout(() => setImportStatus(''), 3000);\n    }\n  };\n  const startGradingSession = () => {\n    if (!classList || classList.students.length === 0) {\n      alert('No students available for grading.');\n      return;\n    }\n    initializeGradingSession();\n    setActiveTab('grading-tool');\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen bg-gray-50\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"max-w-7xl mx-auto\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-gradient-to-r from-indigo-600 to-purple-600 text-white p-6 rounded-t-lg shadow-lg\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex justify-between items-center\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n              className: \"text-3xl font-bold mb-2\",\n              children: \"Class List Manager\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 264,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-indigo-100\",\n              children: \"Import, manage, and grade entire classes efficiently\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 265,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 263,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center gap-4\",\n            children: [classList && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-right\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-2xl font-bold\",\n                children: classList.students.length\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 272,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-sm text-indigo-200\",\n                children: \"Students\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 275,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 271,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(Users, {\n              size: 48,\n              className: \"text-indigo-200\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 280,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 269,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 262,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 261,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white rounded-b-lg shadow-lg\",\n        children: [!classList && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"p-8\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"max-w-2xl mx-auto text-center\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"bg-blue-50 border border-blue-200 rounded-lg p-8 mb-6\",\n              children: [/*#__PURE__*/_jsxDEV(Upload, {\n                size: 48,\n                className: \"mx-auto text-blue-600 mb-4\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 291,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n                className: \"text-2xl font-bold text-gray-800 mb-4\",\n                children: \"Import Student List\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 292,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-gray-600 mb-6\",\n                children: \"Upload a CSV file containing your student roster to begin class management.\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 295,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                ref: fileInputRef,\n                type: \"file\",\n                accept: \".csv\",\n                onChange: handleFileUpload,\n                className: \"hidden\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 299,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => {\n                  var _fileInputRef$current;\n                  return (_fileInputRef$current = fileInputRef.current) === null || _fileInputRef$current === void 0 ? void 0 : _fileInputRef$current.click();\n                },\n                disabled: importStatus === 'processing',\n                className: \"bg-blue-600 hover:bg-blue-700 text-white px-8 py-3 rounded-lg font-medium transition-colors inline-flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed\",\n                children: [/*#__PURE__*/_jsxDEV(Upload, {\n                  size: 20\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 312,\n                  columnNumber: 41\n                }, this), importStatus === 'processing' ? 'Processing...' : 'Choose CSV File']\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 307,\n                columnNumber: 37\n              }, this), importStatus === 'success' && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"mt-4 text-green-600 font-medium\",\n                children: \"\\u2713 File imported successfully!\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 317,\n                columnNumber: 41\n              }, this), importStatus === 'error' && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"mt-4 text-red-600 font-medium\",\n                children: \"\\u2717 Error importing file. Please check format.\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 323,\n                columnNumber: 41\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 290,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"bg-gray-50 rounded-lg p-6 text-left\",\n              children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                className: \"font-semibold text-gray-800 mb-3\",\n                children: \"Required CSV Format:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 330,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-sm text-gray-600 space-y-2\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                    children: \"Required columns:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 332,\n                    columnNumber: 46\n                  }, this), \" id, name, email\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 332,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                    children: \"Optional columns:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 333,\n                    columnNumber: 46\n                  }, this), \" program, section, any custom fields\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 333,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                    children: \"Example:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 334,\n                    columnNumber: 46\n                  }, this), \" id,name,email,program\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 334,\n                  columnNumber: 41\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 331,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 329,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 289,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 288,\n          columnNumber: 25\n        }, this), classList && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"p-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-8\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"bg-gradient-to-r from-blue-50 to-indigo-50 border border-blue-200 rounded-lg p-6\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-center gap-3 mb-4\",\n                children: [/*#__PURE__*/_jsxDEV(BookOpen, {\n                  className: \"text-blue-600\",\n                  size: 24\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 349,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n                  className: \"text-lg font-semibold text-blue-800\",\n                  children: \"Course Information\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 350,\n                  columnNumber: 41\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 348,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"space-y-2 text-sm\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                    children: \"Code:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 356,\n                    columnNumber: 45\n                  }, this), ' ', ((_classList$courseMeta = classList.courseMetadata) === null || _classList$courseMeta === void 0 ? void 0 : _classList$courseMeta.courseCode) || 'N/A']\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 355,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                    children: \"Name:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 360,\n                    columnNumber: 45\n                  }, this), ' ', ((_classList$courseMeta2 = classList.courseMetadata) === null || _classList$courseMeta2 === void 0 ? void 0 : _classList$courseMeta2.courseName) || 'N/A']\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 359,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                    children: \"Section:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 364,\n                    columnNumber: 45\n                  }, this), ' ', ((_classList$courseMeta3 = classList.courseMetadata) === null || _classList$courseMeta3 === void 0 ? void 0 : _classList$courseMeta3.section) || 'N/A']\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 363,\n                  columnNumber: 41\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 354,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 347,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"bg-gradient-to-r from-green-50 to-emerald-50 border border-green-200 rounded-lg p-6\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-center gap-3 mb-4\",\n                children: [/*#__PURE__*/_jsxDEV(GraduationCap, {\n                  className: \"text-green-600\",\n                  size: 24\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 373,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n                  className: \"text-lg font-semibold text-green-800\",\n                  children: \"Grading Progress\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 374,\n                  columnNumber: 41\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 372,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"space-y-2 text-sm\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                    children: \"Total Students:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 380,\n                    columnNumber: 45\n                  }, this), \" \", classList.students.length]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 379,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                    children: \"Graded (Final):\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 383,\n                    columnNumber: 45\n                  }, this), ' ', classList.gradingProgress.filter(p => {\n                    var _p$status;\n                    return (_p$status = p.status) === null || _p$status === void 0 ? void 0 : _p$status.startsWith('completed_final');\n                  }).length]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 382,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                    children: \"Drafts:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 389,\n                    columnNumber: 45\n                  }, this), ' ', classList.gradingProgress.filter(p => {\n                    var _p$status2;\n                    return (_p$status2 = p.status) === null || _p$status2 === void 0 ? void 0 : _p$status2.startsWith('completed_draft');\n                  }).length]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 388,\n                  columnNumber: 41\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 378,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 371,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"bg-gradient-to-r from-purple-50 to-pink-50 border border-purple-200 rounded-lg p-6\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-center gap-3 mb-4\",\n                children: [/*#__PURE__*/_jsxDEV(Play, {\n                  className: \"text-purple-600\",\n                  size: 24\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 400,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n                  className: \"text-lg font-semibold text-purple-800\",\n                  children: \"Grading Session\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 401,\n                  columnNumber: 41\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 399,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"space-y-3\",\n                children: gradingSession !== null && gradingSession !== void 0 && gradingSession.active ? /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-sm\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"text-green-600 font-medium mb-2\",\n                    children: \"\\u2713 Session Active\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 408,\n                    columnNumber: 49\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    children: [\"Progress: \", gradingSession.currentStudentIndex + 1, \" of\", ' ', classList.students.length]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 411,\n                    columnNumber: 49\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 407,\n                  columnNumber: 45\n                }, this) : /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: startGradingSession,\n                  className: \"w-full bg-purple-600 hover:bg-purple-700 text-white px-4 py-2 rounded-lg font-medium transition-colors\",\n                  children: \"Start Grading Session\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 417,\n                  columnNumber: 45\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 405,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 398,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 345,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-white border border-gray-200 rounded-lg overflow-hidden\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"px-6 py-4 bg-gray-50 border-b border-gray-200\",\n              children: /*#__PURE__*/_jsxDEV(\"h3\", {\n                className: \"text-lg font-semibold text-gray-800\",\n                children: \"Student Roster\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 431,\n                columnNumber: 37\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 430,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"overflow-x-auto\",\n              children: /*#__PURE__*/_jsxDEV(\"table\", {\n                className: \"w-full\",\n                children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n                  className: \"bg-gray-50\",\n                  children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                      className: \"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",\n                      children: \"#\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 440,\n                      columnNumber: 49\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      className: \"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",\n                      children: \"Status\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 443,\n                      columnNumber: 49\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      className: \"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",\n                      children: \"Student ID\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 446,\n                      columnNumber: 49\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      className: \"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",\n                      children: \"Name\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 449,\n                      columnNumber: 49\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      className: \"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",\n                      children: \"Email\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 452,\n                      columnNumber: 49\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      className: \"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",\n                      children: \"Program\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 455,\n                      columnNumber: 49\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      className: \"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",\n                      children: \"Actions\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 458,\n                      columnNumber: 49\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 439,\n                    columnNumber: 45\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 438,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n                  className: \"bg-white divide-y divide-gray-200\",\n                  children: classList.students.map((student, index) => {\n                    const progress = classList.gradingProgress[index];\n                    const isCurrentStudent = gradingSession.active && index === gradingSession.currentStudentIndex;\n                    const gradeStatus = getGradeStatus(student.id);\n                    return /*#__PURE__*/_jsxDEV(\"tr\", {\n                      className: `${isCurrentStudent ? 'bg-blue-50 border-l-4 border-blue-500' : 'hover:bg-gray-50'} transition-colors`,\n                      children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                        className: \"px-6 py-4 whitespace-nowrap text-sm text-gray-900\",\n                        children: index + 1\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 477,\n                        columnNumber: 57\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        className: \"px-6 py-4 whitespace-nowrap\",\n                        children: getStatusDisplay(progress, student.id)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 480,\n                        columnNumber: 57\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        className: \"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900\",\n                        children: student.id\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 483,\n                        columnNumber: 57\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        className: \"px-6 py-4 whitespace-nowrap text-sm text-gray-900\",\n                        children: student.name\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 486,\n                        columnNumber: 57\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        className: \"px-6 py-4 whitespace-nowrap text-sm text-gray-500\",\n                        children: student.email\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 489,\n                        columnNumber: 57\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        className: \"px-6 py-4 whitespace-nowrap text-sm text-gray-500\",\n                        children: student.program\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 492,\n                        columnNumber: 57\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        className: \"px-6 py-4 whitespace-nowrap text-sm\",\n                        children: /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"flex items-center gap-2\",\n                          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                            onClick: () => loadStudentForGrading(student),\n                            className: \"px-3 py-1 rounded text-sm font-medium text-white bg-blue-500 hover:bg-blue-700 focus:ring-2 focus:ring-blue-500 transition-colors duration-150\",\n                            children: gradeStatus === 'final' ? 'View' : 'Edit'\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 498,\n                            columnNumber: 65\n                          }, this), gradeStatus === 'draft' && /*#__PURE__*/_jsxDEV(\"button\", {\n                            onClick: () => finalizeGrade(student.id),\n                            className: \"px-3 py-1 rounded text-sm font-medium text-white bg-green-500 hover:bg-green-700 focus:ring-2 focus:ring-green-500 transition-colors duration-150\",\n                            children: \"Finalize\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 507,\n                            columnNumber: 69\n                          }, this), gradeStatus === 'final' && /*#__PURE__*/_jsxDEV(_Fragment, {\n                            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                              onClick: () => openFinalGradeSheet(student),\n                              className: \"px-3 py-1 rounded text-sm font-medium text-white bg-purple-500 hover:bg-purple-700 focus:ring-2 focus:ring-purple-500 transition-colors duration-150 flex items-center gap-1\",\n                              children: [/*#__PURE__*/_jsxDEV(ExternalLink, {\n                                size: 14\n                              }, void 0, false, {\n                                fileName: _jsxFileName,\n                                lineNumber: 522,\n                                columnNumber: 77\n                              }, this), \"Export\"]\n                            }, void 0, true, {\n                              fileName: _jsxFileName,\n                              lineNumber: 518,\n                              columnNumber: 73\n                            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                              onClick: () => unlockGrade(student.id),\n                              className: \"px-3 py-1 rounded text-sm font-medium text-white bg-orange-500 hover:bg-orange-700 focus:ring-2 focus:ring-orange-500 transition-colors duration-150 flex items-center gap-1\",\n                              children: [/*#__PURE__*/_jsxDEV(Unlock, {\n                                size: 14\n                              }, void 0, false, {\n                                fileName: _jsxFileName,\n                                lineNumber: 529,\n                                columnNumber: 77\n                              }, this), \"Unlock\"]\n                            }, void 0, true, {\n                              fileName: _jsxFileName,\n                              lineNumber: 525,\n                              columnNumber: 73\n                            }, this)]\n                          }, void 0, true)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 496,\n                          columnNumber: 61\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 495,\n                        columnNumber: 57\n                      }, this)]\n                    }, student.id, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 470,\n                      columnNumber: 53\n                    }, this);\n                  })\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 463,\n                  columnNumber: 41\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 437,\n                columnNumber: 37\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 436,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 429,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mt-8 bg-gray-50 rounded-lg p-6\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"text-lg font-semibold text-gray-800 mb-4\",\n              children: \"Import Summary\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 546,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-gray-600\",\n                  children: \"File:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 549,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"font-medium\",\n                  children: classList.fileName\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 550,\n                  columnNumber: 41\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 548,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-gray-600\",\n                  children: \"Import Date:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 553,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"font-medium\",\n                  children: new Date(classList.importTime).toLocaleDateString()\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 554,\n                  columnNumber: 41\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 552,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-gray-600\",\n                  children: \"Data Quality:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 559,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"font-medium\",\n                  children: [((_classList$validation = classList.validation) === null || _classList$validation === void 0 ? void 0 : _classList$validation.validationScore) || 0, \"%\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 560,\n                  columnNumber: 41\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 558,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-gray-600\",\n                  children: \"Total Students:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 565,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"font-medium\",\n                  children: classList.students.length\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 566,\n                  columnNumber: 41\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 564,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 547,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 545,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 343,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 285,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 259,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 258,\n    columnNumber: 9\n  }, this);\n};\n_s(ClassListManager, \"De3vevEw6LGr6Q03kSWBhNpHRJg=\", false, function () {\n  return [useAssessment];\n});\n_c = ClassListManager;\nexport default ClassListManager;\nvar _c;\n$RefreshReg$(_c, \"ClassListManager\");","map":{"version":3,"names":["React","useRef","useState","Upload","Users","BookOpen","GraduationCap","Play","Download","CheckCircle","Clock","AlertCircle","Unlock","FileText","ExternalLink","useAssessment","jsxDEV","_jsxDEV","Fragment","_Fragment","ClassListManager","_s","_classList$courseMeta","_classList$courseMeta2","_classList$courseMeta3","_classList$validation","fileInputRef","importStatus","setImportStatus","classList","setClassList","gradingSession","setGradingSession","initializeGradingSession","setActiveTab","setCurrentStudent","hasDraft","getGradeStatus","saveFinalGrade","gradingData","drafts","setDrafts","setGradingData","getStatusDisplay","progress","studentId","gradeStatus","className","children","fileName","_jsxFileName","lineNumber","columnNumber","status","finalizeGrade","draftData","studentIndex","students","findIndex","s","id","updatedProgress","gradingProgress","lastModified","Date","toISOString","gradeType","prev","unlockGrade","finalData","updated","loadStudentForGrading","student","openFinalGradeSheet","finalGrade","gradeReport","gradeData","timestamp","console","log","handleFileUpload","event","file","target","files","text","lines","split","filter","line","trim","length","Error","headers","map","h","replace","requiredFields","missingFields","field","some","header","toLowerCase","includes","join","i","values","v","forEach","index","value","lowerHeader","name","email","program","push","classListData","importTime","courseMetadata","courseCode","courseName","section","validation","validationScore","Math","round","issues","setTimeout","error","startGradingSession","alert","size","ref","type","accept","onChange","onClick","_fileInputRef$current","current","click","disabled","p","_p$status","startsWith","_p$status2","active","currentStudentIndex","isCurrentStudent","toLocaleDateString","_c","$RefreshReg$"],"sources":["C:/local clones/rubric-creation-app/src/components/ClassListManager.js"],"sourcesContent":["import React, { useRef, useState } from 'react';\r\nimport {\r\n    Upload,\r\n    Users,\r\n    BookOpen,\r\n    GraduationCap,\r\n    Play,\r\n    Download,\r\n    CheckCircle,\r\n    Clock,\r\n    AlertCircle,\r\n    Unlock,\r\n    FileText,\r\n    ExternalLink\r\n} from 'lucide-react';\r\nimport { useAssessment } from '../context/SharedContext';\r\n\r\nconst ClassListManager = () => {\r\n    const fileInputRef = useRef(null);\r\n    const [importStatus, setImportStatus] = useState('');\r\n\r\n    const {\r\n        classList,\r\n        setClassList,\r\n        gradingSession,\r\n        setGradingSession,\r\n        initializeGradingSession,\r\n        setActiveTab,\r\n        setCurrentStudent,\r\n        hasDraft,\r\n        getGradeStatus,\r\n        saveFinalGrade,\r\n        gradingData,\r\n        drafts,\r\n        setDrafts,\r\n        setGradingData\r\n    } = useAssessment();\r\n\r\n    // Helper function for status display\r\n    const getStatusDisplay = (progress, studentId) => {\r\n        const gradeStatus = getGradeStatus(studentId);\r\n\r\n        if (gradeStatus === 'final') {\r\n            return (\r\n                <div className=\"flex items-center gap-2\">\r\n                    <CheckCircle className=\"w-4 h-4 text-green-600\" />\r\n                    <span className=\"text-xs bg-green-100 text-green-800 px-2 py-1 rounded-full font-medium\">\r\n                        Final\r\n                    </span>\r\n                </div>\r\n            );\r\n        } else if (gradeStatus === 'draft') {\r\n            return (\r\n                <div className=\"flex items-center gap-2\">\r\n                    <Clock className=\"w-4 h-4 text-yellow-600\" />\r\n                    <span className=\"text-xs bg-yellow-100 text-yellow-800 px-2 py-1 rounded-full font-medium\">\r\n                        Draft\r\n                    </span>\r\n                </div>\r\n            );\r\n        } else if (progress?.status === 'in-progress') {\r\n            return (\r\n                <div className=\"flex items-center gap-2\">\r\n                    <div className=\"w-4 h-4 border-2 border-blue-600 border-t-transparent rounded-full animate-spin\"></div>\r\n                    <span className=\"text-xs bg-blue-100 text-blue-800 px-2 py-1 rounded-full font-medium\">\r\n                        In Progress\r\n                    </span>\r\n                </div>\r\n            );\r\n        } else {\r\n            return (\r\n                <div className=\"flex items-center gap-2\">\r\n                    <div className=\"w-4 h-4 bg-gray-300 rounded-full\"></div>\r\n                    <span className=\"text-xs bg-gray-100 text-gray-600 px-2 py-1 rounded-full\">\r\n                        Not Started\r\n                    </span>\r\n                </div>\r\n            );\r\n        }\r\n    };\r\n\r\n    // Helper function to finalize a draft grade\r\n    const finalizeGrade = (studentId) => {\r\n        const draftData = drafts[studentId];\r\n        if (draftData) {\r\n            saveFinalGrade(studentId, draftData);\r\n\r\n            // Update class list progress\r\n            const studentIndex = classList.students.findIndex(s => s.id === studentId);\r\n            if (studentIndex >= 0) {\r\n                const updatedProgress = [...classList.gradingProgress];\r\n                updatedProgress[studentIndex] = {\r\n                    ...updatedProgress[studentIndex],\r\n                    status: 'completed_final',\r\n                    lastModified: new Date().toISOString(),\r\n                    gradeType: 'final'\r\n                };\r\n                setClassList(prev => ({\r\n                    ...prev,\r\n                    gradingProgress: updatedProgress\r\n                }));\r\n            }\r\n        }\r\n    };\r\n\r\n    // Helper function to unlock a final grade\r\n    const unlockGrade = (studentId) => {\r\n        const finalData = gradingData[studentId];\r\n        if (finalData) {\r\n            // Move from final back to draft\r\n            setDrafts(prev => ({ ...prev, [studentId]: finalData }));\r\n            setGradingData(prev => {\r\n                const updated = { ...prev };\r\n                delete updated[studentId];\r\n                return updated;\r\n            });\r\n\r\n            // Update class list progress\r\n            const studentIndex = classList.students.findIndex(s => s.id === studentId);\r\n            if (studentIndex >= 0) {\r\n                const updatedProgress = [...classList.gradingProgress];\r\n                updatedProgress[studentIndex] = {\r\n                    ...updatedProgress[studentIndex],\r\n                    status: 'completed_draft',\r\n                    lastModified: new Date().toISOString(),\r\n                    gradeType: 'draft'\r\n                };\r\n                setClassList(prev => ({\r\n                    ...prev,\r\n                    gradingProgress: updatedProgress\r\n                }));\r\n            }\r\n        }\r\n    };\r\n\r\n    // Helper function to load student for grading\r\n    const loadStudentForGrading = (student) => {\r\n        setCurrentStudent(student);\r\n        setActiveTab('grading-tool');\r\n    };\r\n\r\n    // Helper function to open final grade sheet for export\r\n    const openFinalGradeSheet = (student) => {\r\n        const finalGrade = gradingData[student.id];\r\n        if (finalGrade) {\r\n            // Create a comprehensive grade report for export\r\n            const gradeReport = {\r\n                student: student,\r\n                gradeData: finalGrade,\r\n                timestamp: new Date().toISOString(),\r\n                status: 'final'\r\n            };\r\n\r\n            // Open the grading tool in view-only mode with final grade data\r\n            setCurrentStudent(student);\r\n            setActiveTab('grading-tool');\r\n\r\n            // You could also implement a dedicated export modal here\r\n            console.log('Final grade sheet for export:', gradeReport);\r\n        }\r\n    };\r\n\r\n    const handleFileUpload = async (event) => {\r\n        const file = event.target.files[0];\r\n        if (!file) return;\r\n\r\n        setImportStatus('processing');\r\n\r\n        try {\r\n            const text = await file.text();\r\n            const lines = text.split('\\n').filter(line => line.trim());\r\n\r\n            if (lines.length < 2) {\r\n                throw new Error('CSV must contain at least a header and one data row');\r\n            }\r\n\r\n            const headers = lines[0].split(',').map(h => h.trim().replace(/\"/g, ''));\r\n            const requiredFields = ['id', 'name', 'email'];\r\n            const missingFields = requiredFields.filter(field =>\r\n                !headers.some(header => header.toLowerCase().includes(field.toLowerCase()))\r\n            );\r\n\r\n            if (missingFields.length > 0) {\r\n                throw new Error(`Missing required fields: ${missingFields.join(', ')}`);\r\n            }\r\n\r\n            const students = [];\r\n            const gradingProgress = [];\r\n\r\n            for (let i = 1; i < lines.length; i++) {\r\n                const values = lines[i].split(',').map(v => v.trim().replace(/\"/g, ''));\r\n                if (values.length !== headers.length) continue;\r\n\r\n                const student = {};\r\n                headers.forEach((header, index) => {\r\n                    const value = values[index] || '';\r\n                    const lowerHeader = header.toLowerCase();\r\n\r\n                    if (lowerHeader.includes('id')) student.id = value;\r\n                    else if (lowerHeader.includes('name')) student.name = value;\r\n                    else if (lowerHeader.includes('email')) student.email = value;\r\n                    else if (lowerHeader.includes('program')) student.program = value;\r\n                    else student[header] = value;\r\n                });\r\n\r\n                if (student.id && student.name) {\r\n                    students.push(student);\r\n                    gradingProgress.push({\r\n                        status: 'pending',\r\n                        lastModified: null,\r\n                        gradeType: null\r\n                    });\r\n                }\r\n            }\r\n\r\n            if (students.length === 0) {\r\n                throw new Error('No valid student records found');\r\n            }\r\n\r\n            const classListData = {\r\n                students,\r\n                gradingProgress,\r\n                fileName: file.name,\r\n                importTime: new Date().toISOString(),\r\n                courseMetadata: {\r\n                    courseCode: 'AUTO-DETECTED',\r\n                    courseName: 'Imported Class',\r\n                    section: 'DEFAULT'\r\n                },\r\n                validation: {\r\n                    validationScore: Math.round((students.length / (lines.length - 1)) * 100),\r\n                    issues: []\r\n                }\r\n            };\r\n\r\n            setClassList(classListData);\r\n            setImportStatus('success');\r\n\r\n            setTimeout(() => setImportStatus(''), 3000);\r\n        } catch (error) {\r\n            console.error('Import error:', error);\r\n            setImportStatus('error');\r\n            setTimeout(() => setImportStatus(''), 3000);\r\n        }\r\n    };\r\n\r\n    const startGradingSession = () => {\r\n        if (!classList || classList.students.length === 0) {\r\n            alert('No students available for grading.');\r\n            return;\r\n        }\r\n\r\n        initializeGradingSession();\r\n        setActiveTab('grading-tool');\r\n    };\r\n\r\n    return (\r\n        <div className=\"min-h-screen bg-gray-50\">\r\n            <div className=\"max-w-7xl mx-auto\">\r\n                {/* Header */}\r\n                <div className=\"bg-gradient-to-r from-indigo-600 to-purple-600 text-white p-6 rounded-t-lg shadow-lg\">\r\n                    <div className=\"flex justify-between items-center\">\r\n                        <div>\r\n                            <h1 className=\"text-3xl font-bold mb-2\">Class List Manager</h1>\r\n                            <p className=\"text-indigo-100\">\r\n                                Import, manage, and grade entire classes efficiently\r\n                            </p>\r\n                        </div>\r\n                        <div className=\"flex items-center gap-4\">\r\n                            {classList && (\r\n                                <div className=\"text-right\">\r\n                                    <div className=\"text-2xl font-bold\">\r\n                                        {classList.students.length}\r\n                                    </div>\r\n                                    <div className=\"text-sm text-indigo-200\">\r\n                                        Students\r\n                                    </div>\r\n                                </div>\r\n                            )}\r\n                            <Users size={48} className=\"text-indigo-200\" />\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n                <div className=\"bg-white rounded-b-lg shadow-lg\">\r\n                    {/* Import Section */}\r\n                    {!classList && (\r\n                        <div className=\"p-8\">\r\n                            <div className=\"max-w-2xl mx-auto text-center\">\r\n                                <div className=\"bg-blue-50 border border-blue-200 rounded-lg p-8 mb-6\">\r\n                                    <Upload size={48} className=\"mx-auto text-blue-600 mb-4\" />\r\n                                    <h2 className=\"text-2xl font-bold text-gray-800 mb-4\">\r\n                                        Import Student List\r\n                                    </h2>\r\n                                    <p className=\"text-gray-600 mb-6\">\r\n                                        Upload a CSV file containing your student roster to begin class management.\r\n                                    </p>\r\n\r\n                                    <input\r\n                                        ref={fileInputRef}\r\n                                        type=\"file\"\r\n                                        accept=\".csv\"\r\n                                        onChange={handleFileUpload}\r\n                                        className=\"hidden\"\r\n                                    />\r\n\r\n                                    <button\r\n                                        onClick={() => fileInputRef.current?.click()}\r\n                                        disabled={importStatus === 'processing'}\r\n                                        className=\"bg-blue-600 hover:bg-blue-700 text-white px-8 py-3 rounded-lg font-medium transition-colors inline-flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed\"\r\n                                    >\r\n                                        <Upload size={20} />\r\n                                        {importStatus === 'processing' ? 'Processing...' : 'Choose CSV File'}\r\n                                    </button>\r\n\r\n                                    {importStatus === 'success' && (\r\n                                        <div className=\"mt-4 text-green-600 font-medium\">\r\n                                             File imported successfully!\r\n                                        </div>\r\n                                    )}\r\n\r\n                                    {importStatus === 'error' && (\r\n                                        <div className=\"mt-4 text-red-600 font-medium\">\r\n                                             Error importing file. Please check format.\r\n                                        </div>\r\n                                    )}\r\n                                </div>\r\n\r\n                                <div className=\"bg-gray-50 rounded-lg p-6 text-left\">\r\n                                    <h3 className=\"font-semibold text-gray-800 mb-3\">Required CSV Format:</h3>\r\n                                    <div className=\"text-sm text-gray-600 space-y-2\">\r\n                                        <div><strong>Required columns:</strong> id, name, email</div>\r\n                                        <div><strong>Optional columns:</strong> program, section, any custom fields</div>\r\n                                        <div><strong>Example:</strong> id,name,email,program</div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    )}\r\n\r\n                    {/* Management Dashboard */}\r\n                    {classList && (\r\n                        <div className=\"p-6\">\r\n                            {/* Overview Cards */}\r\n                            <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-8\">\r\n                                {/* Course Info */}\r\n                                <div className=\"bg-gradient-to-r from-blue-50 to-indigo-50 border border-blue-200 rounded-lg p-6\">\r\n                                    <div className=\"flex items-center gap-3 mb-4\">\r\n                                        <BookOpen className=\"text-blue-600\" size={24} />\r\n                                        <h3 className=\"text-lg font-semibold text-blue-800\">\r\n                                            Course Information\r\n                                        </h3>\r\n                                    </div>\r\n                                    <div className=\"space-y-2 text-sm\">\r\n                                        <div>\r\n                                            <strong>Code:</strong>{' '}\r\n                                            {classList.courseMetadata?.courseCode || 'N/A'}\r\n                                        </div>\r\n                                        <div>\r\n                                            <strong>Name:</strong>{' '}\r\n                                            {classList.courseMetadata?.courseName || 'N/A'}\r\n                                        </div>\r\n                                        <div>\r\n                                            <strong>Section:</strong>{' '}\r\n                                            {classList.courseMetadata?.section || 'N/A'}\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n\r\n                                {/* Progress Stats */}\r\n                                <div className=\"bg-gradient-to-r from-green-50 to-emerald-50 border border-green-200 rounded-lg p-6\">\r\n                                    <div className=\"flex items-center gap-3 mb-4\">\r\n                                        <GraduationCap className=\"text-green-600\" size={24} />\r\n                                        <h3 className=\"text-lg font-semibold text-green-800\">\r\n                                            Grading Progress\r\n                                        </h3>\r\n                                    </div>\r\n                                    <div className=\"space-y-2 text-sm\">\r\n                                        <div>\r\n                                            <strong>Total Students:</strong> {classList.students.length}\r\n                                        </div>\r\n                                        <div>\r\n                                            <strong>Graded (Final):</strong>{' '}\r\n                                            {classList.gradingProgress.filter(p =>\r\n                                                p.status?.startsWith('completed_final')\r\n                                            ).length}\r\n                                        </div>\r\n                                        <div>\r\n                                            <strong>Drafts:</strong>{' '}\r\n                                            {classList.gradingProgress.filter(p =>\r\n                                                p.status?.startsWith('completed_draft')\r\n                                            ).length}\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n\r\n                                {/* Session Control */}\r\n                                <div className=\"bg-gradient-to-r from-purple-50 to-pink-50 border border-purple-200 rounded-lg p-6\">\r\n                                    <div className=\"flex items-center gap-3 mb-4\">\r\n                                        <Play className=\"text-purple-600\" size={24} />\r\n                                        <h3 className=\"text-lg font-semibold text-purple-800\">\r\n                                            Grading Session\r\n                                        </h3>\r\n                                    </div>\r\n                                    <div className=\"space-y-3\">\r\n                                        {gradingSession?.active ? (\r\n                                            <div className=\"text-sm\">\r\n                                                <div className=\"text-green-600 font-medium mb-2\">\r\n                                                     Session Active\r\n                                                </div>\r\n                                                <div>\r\n                                                    Progress: {gradingSession.currentStudentIndex + 1} of{' '}\r\n                                                    {classList.students.length}\r\n                                                </div>\r\n                                            </div>\r\n                                        ) : (\r\n                                            <button\r\n                                                onClick={startGradingSession}\r\n                                                className=\"w-full bg-purple-600 hover:bg-purple-700 text-white px-4 py-2 rounded-lg font-medium transition-colors\"\r\n                                            >\r\n                                                Start Grading Session\r\n                                            </button>\r\n                                        )}\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n\r\n                            {/* Student Table */}\r\n                            <div className=\"bg-white border border-gray-200 rounded-lg overflow-hidden\">\r\n                                <div className=\"px-6 py-4 bg-gray-50 border-b border-gray-200\">\r\n                                    <h3 className=\"text-lg font-semibold text-gray-800\">\r\n                                        Student Roster\r\n                                    </h3>\r\n                                </div>\r\n\r\n                                <div className=\"overflow-x-auto\">\r\n                                    <table className=\"w-full\">\r\n                                        <thead className=\"bg-gray-50\">\r\n                                            <tr>\r\n                                                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                                                    #\r\n                                                </th>\r\n                                                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                                                    Status\r\n                                                </th>\r\n                                                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                                                    Student ID\r\n                                                </th>\r\n                                                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                                                    Name\r\n                                                </th>\r\n                                                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                                                    Email\r\n                                                </th>\r\n                                                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                                                    Program\r\n                                                </th>\r\n                                                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                                                    Actions\r\n                                                </th>\r\n                                            </tr>\r\n                                        </thead>\r\n                                        <tbody className=\"bg-white divide-y divide-gray-200\">\r\n                                            {classList.students.map((student, index) => {\r\n                                                const progress = classList.gradingProgress[index];\r\n                                                const isCurrentStudent = gradingSession.active && index === gradingSession.currentStudentIndex;\r\n                                                const gradeStatus = getGradeStatus(student.id);\r\n\r\n                                                return (\r\n                                                    <tr\r\n                                                        key={student.id}\r\n                                                        className={`${isCurrentStudent\r\n                                                                ? 'bg-blue-50 border-l-4 border-blue-500'\r\n                                                                : 'hover:bg-gray-50'\r\n                                                            } transition-colors`}\r\n                                                    >\r\n                                                        <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\">\r\n                                                            {index + 1}\r\n                                                        </td>\r\n                                                        <td className=\"px-6 py-4 whitespace-nowrap\">\r\n                                                            {getStatusDisplay(progress, student.id)}\r\n                                                        </td>\r\n                                                        <td className=\"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900\">\r\n                                                            {student.id}\r\n                                                        </td>\r\n                                                        <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\">\r\n                                                            {student.name}\r\n                                                        </td>\r\n                                                        <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">\r\n                                                            {student.email}\r\n                                                        </td>\r\n                                                        <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">\r\n                                                            {student.program}\r\n                                                        </td>\r\n                                                        <td className=\"px-6 py-4 whitespace-nowrap text-sm\">\r\n                                                            <div className=\"flex items-center gap-2\">\r\n                                                                {/* Main action button */}\r\n                                                                <button\r\n                                                                    onClick={() => loadStudentForGrading(student)}\r\n                                                                    className=\"px-3 py-1 rounded text-sm font-medium text-white bg-blue-500 hover:bg-blue-700 focus:ring-2 focus:ring-blue-500 transition-colors duration-150\"\r\n                                                                >\r\n                                                                    {gradeStatus === 'final' ? 'View' : 'Edit'}\r\n                                                                </button>\r\n\r\n                                                                {/* Finalize button for drafts */}\r\n                                                                {gradeStatus === 'draft' && (\r\n                                                                    <button\r\n                                                                        onClick={() => finalizeGrade(student.id)}\r\n                                                                        className=\"px-3 py-1 rounded text-sm font-medium text-white bg-green-500 hover:bg-green-700 focus:ring-2 focus:ring-green-500 transition-colors duration-150\"\r\n                                                                    >\r\n                                                                        Finalize\r\n                                                                    </button>\r\n                                                                )}\r\n\r\n                                                                {/* Final grade actions */}\r\n                                                                {gradeStatus === 'final' && (\r\n                                                                    <>\r\n                                                                        <button\r\n                                                                            onClick={() => openFinalGradeSheet(student)}\r\n                                                                            className=\"px-3 py-1 rounded text-sm font-medium text-white bg-purple-500 hover:bg-purple-700 focus:ring-2 focus:ring-purple-500 transition-colors duration-150 flex items-center gap-1\"\r\n                                                                        >\r\n                                                                            <ExternalLink size={14} />\r\n                                                                            Export\r\n                                                                        </button>\r\n                                                                        <button\r\n                                                                            onClick={() => unlockGrade(student.id)}\r\n                                                                            className=\"px-3 py-1 rounded text-sm font-medium text-white bg-orange-500 hover:bg-orange-700 focus:ring-2 focus:ring-orange-500 transition-colors duration-150 flex items-center gap-1\"\r\n                                                                        >\r\n                                                                            <Unlock size={14} />\r\n                                                                            Unlock\r\n                                                                        </button>\r\n                                                                    </>\r\n                                                                )}\r\n                                                            </div>\r\n                                                        </td>\r\n                                                    </tr>\r\n                                                );\r\n                                            })}\r\n                                        </tbody>\r\n                                    </table>\r\n                                </div>\r\n                            </div>\r\n\r\n                            {/* Import Summary */}\r\n                            <div className=\"mt-8 bg-gray-50 rounded-lg p-6\">\r\n                                <h3 className=\"text-lg font-semibold text-gray-800 mb-4\">Import Summary</h3>\r\n                                <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm\">\r\n                                    <div>\r\n                                        <span className=\"text-gray-600\">File:</span>\r\n                                        <div className=\"font-medium\">{classList.fileName}</div>\r\n                                    </div>\r\n                                    <div>\r\n                                        <span className=\"text-gray-600\">Import Date:</span>\r\n                                        <div className=\"font-medium\">\r\n                                            {new Date(classList.importTime).toLocaleDateString()}\r\n                                        </div>\r\n                                    </div>\r\n                                    <div>\r\n                                        <span className=\"text-gray-600\">Data Quality:</span>\r\n                                        <div className=\"font-medium\">\r\n                                            {classList.validation?.validationScore || 0}%\r\n                                        </div>\r\n                                    </div>\r\n                                    <div>\r\n                                        <span className=\"text-gray-600\">Total Students:</span>\r\n                                        <div className=\"font-medium\">{classList.students.length}</div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    )}\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default ClassListManager;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}