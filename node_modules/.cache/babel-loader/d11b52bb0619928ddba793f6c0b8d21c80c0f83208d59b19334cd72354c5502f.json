{"ast":null,"code":"var _jsxFileName = \"C:\\\\local clones\\\\rubric-creation-app\\\\src\\\\components\\\\ClassListManager.js\",\n  _s = $RefreshSig$();\n// Complete ClassListManager.js - Fully Consolidated with ALL Original Features + Late Policy Enhancement\n// This version preserves EVERY function and feature from the original while adding late policy support\n\nimport React, { useState, useCallback, useRef } from 'react';\nimport { useAssessment } from './SharedContext';\nimport { Upload, Download, Users, FileSpreadsheet, AlertCircle, CheckCircle, Eye, EyeOff, Edit3, Trash2, Plus, Search, Filter, BarChart3, Clock, Settings, Target, TrendingUp, RefreshCw, Save, X, PlayCircle, PauseCircle, SkipForward, User, GraduationCap, AlertTriangle, Info, Zap } from 'lucide-react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ClassListManager = () => {\n  _s();\n  var _classList$students, _classList$students2, _classList$students3, _classList$students4;\n  const {\n    classList,\n    setClassList,\n    setActiveTab,\n    gradingSession,\n    initializeGradingSession,\n    setCurrentStudent,\n    hasDraft,\n    loadDraft,\n    getGradeStatus,\n    saveDraft,\n    loadFinalGrade,\n    finalGrades,\n    drafts,\n    updateStudentInfo,\n    clearGradingFormData,\n    sharedRubric,\n    // NEW: Late policy integration\n    currentLatePolicy,\n    setCurrentLatePolicy,\n    customLatePolicies,\n    DEFAULT_LATE_POLICIES\n  } = useAssessment();\n\n  // ORIGINAL: State management preserved\n  const [loading, setLoading] = useState(false);\n  const [selectedStudents, setSelectedStudents] = useState([]);\n  const [searchTerm, setSearchTerm] = useState('');\n  const [sortConfig, setSortConfig] = useState({\n    key: null,\n    direction: 'asc'\n  });\n  const [showGradingProgress, setShowGradingProgress] = useState(false);\n  const [editingStudent, setEditingStudent] = useState(null);\n  const [showStudentEditor, setShowStudentEditor] = useState(false);\n  const [filterStatus, setFilterStatus] = useState('all');\n\n  // NEW: Late policy specific state\n  const [showPolicySettings, setShowPolicySettings] = useState(false);\n  const [selectedPolicyId, setSelectedPolicyId] = useState((currentLatePolicy === null || currentLatePolicy === void 0 ? void 0 : currentLatePolicy.id) || 'institutional');\n  const fileInputRef = useRef(null);\n  const exportLinkRef = useRef(null);\n\n  // Get available policies for selection\n  const availablePolicies = {\n    ...DEFAULT_LATE_POLICIES,\n    ...customLatePolicies.reduce((acc, policy) => {\n      acc[policy.id] = policy;\n      return acc;\n    }, {})\n  };\n\n  // ORIGINAL: Excel import function preserved and enhanced\n  const handleFileUpload = async event => {\n    const file = event.target.files[0];\n    if (!file) return;\n    setLoading(true);\n    console.log('üìÅ File selected for import:', {\n      name: file.name,\n      size: file.size,\n      type: file.type\n    });\n    try {\n      var _availablePolicies$se, _availablePolicies$se2, _availablePolicies$se3;\n      // Dynamically import the XLSX library\n      const XLSX = await import('xlsx');\n      const data = await file.arrayBuffer();\n      const workbook = XLSX.read(data, {\n        type: 'array',\n        cellStyles: true,\n        cellDates: true\n      });\n      console.log('üìä Workbook loaded:', {\n        sheets: workbook.SheetNames,\n        workbook: workbook\n      });\n      const firstSheetName = workbook.SheetNames[0];\n      const worksheet = workbook.Sheets[firstSheetName];\n\n      // Convert to JSON with header row\n      const jsonData = XLSX.utils.sheet_to_json(worksheet, {\n        header: 1,\n        defval: '',\n        raw: false\n      });\n      if (jsonData.length < 2) {\n        alert('The Excel file appears to be empty or only contains headers. Please check the file and try again.');\n        return;\n      }\n      console.log('üìã Raw data extracted:', jsonData.slice(0, 3));\n\n      // Process the data\n      const headers = jsonData[0].map(header => String(header || '').trim().toLowerCase());\n      console.log('üè∑Ô∏è Headers detected:', headers);\n\n      // Enhanced header mapping with more flexible matching\n      const findHeaderIndex = possibleNames => {\n        for (const name of possibleNames) {\n          const index = headers.findIndex(h => h.includes(name.toLowerCase()) || name.toLowerCase().includes(h));\n          if (index !== -1) return index;\n        }\n        return -1;\n      };\n      const nameIndex = findHeaderIndex(['name', 'student name', 'full name', 'student', 'first name', 'last name']);\n      const idIndex = findHeaderIndex(['id', 'student id', 'student number', 'number', 'sid']);\n      const emailIndex = findHeaderIndex(['email', 'e-mail', 'student email', 'email address']);\n      console.log('üìç Column mapping:', {\n        nameIndex,\n        idIndex,\n        emailIndex\n      });\n      if (nameIndex === -1) {\n        alert('Could not find a name column in the Excel file. Please ensure there is a column with \"Name\", \"Student Name\", or similar header.');\n        return;\n      }\n\n      // Extract student data\n      const students = [];\n      const dataRows = jsonData.slice(1);\n\n      // Extract course metadata from the first few rows if available\n      let courseMetadata = {\n        courseCode: '',\n        courseName: '',\n        instructor: '',\n        term: '',\n        section: '',\n        programType: 'degree',\n        // NEW: Late policy metadata\n        latePolicyId: selectedPolicyId,\n        latePolicyName: ((_availablePolicies$se = availablePolicies[selectedPolicyId]) === null || _availablePolicies$se === void 0 ? void 0 : _availablePolicies$se.name) || 'Institutional Standard'\n      };\n\n      // Try to extract course info from common patterns\n      dataRows.forEach((row, index) => {\n        if (index >= 50) return; // Only check first 50 rows for metadata\n\n        const rowStr = row.join(' ').toLowerCase();\n        if (rowStr.includes('course:') || rowStr.includes('course code:')) {\n          const match = rowStr.match(/course[:\\s]+([a-z0-9\\-\\s]+)/i);\n          if (match) courseMetadata.courseCode = match[1].trim().toUpperCase();\n        }\n        if (rowStr.includes('instructor:') || rowStr.includes('professor:')) {\n          const match = rowStr.match(/(?:instructor|professor)[:\\s]+([a-z\\s\\.]+)/i);\n          if (match) courseMetadata.instructor = match[1].trim();\n        }\n        if (rowStr.includes('term:') || rowStr.includes('semester:')) {\n          const match = rowStr.match(/(?:term|semester)[:\\s]+([a-z0-9\\s]+)/i);\n          if (match) courseMetadata.term = match[1].trim();\n        }\n      });\n\n      // Process student rows\n      dataRows.forEach((row, index) => {\n        if (!row || row.length === 0) return;\n        const name = String(row[nameIndex] || '').trim();\n        if (!name || name.toLowerCase().includes('total') || name.toLowerCase().includes('average')) {\n          return; // Skip empty rows or summary rows\n        }\n        const student = {\n          id: idIndex !== -1 ? String(row[idIndex] || `student_${index + 1}`).trim() : `student_${index + 1}`,\n          name: name,\n          email: emailIndex !== -1 ? String(row[emailIndex] || '').trim() : '',\n          // NEW: Late policy tracking\n          lateSubmissions: 0,\n          penaltiesApplied: 0,\n          averagePenalty: 0\n        };\n\n        // Validate required fields\n        if (student.name && student.name.length > 0) {\n          students.push(student);\n        }\n      });\n      if (students.length === 0) {\n        alert('No valid student records were found in the Excel file. Please check the file format and try again.');\n        return;\n      }\n\n      // Create class list with enhanced metadata\n      const newClassList = {\n        students: students,\n        importedAt: new Date().toISOString(),\n        fileName: file.name,\n        totalStudents: students.length,\n        courseMetadata: courseMetadata,\n        // NEW: Late policy integration\n        latePolicySettings: {\n          defaultPolicyId: selectedPolicyId,\n          policyName: (_availablePolicies$se2 = availablePolicies[selectedPolicyId]) === null || _availablePolicies$se2 === void 0 ? void 0 : _availablePolicies$se2.name,\n          customPoliciesUsed: customLatePolicies.filter(p => p.id === selectedPolicyId).length > 0\n        },\n        // ORIGINAL: Grading progress tracking preserved\n        gradingProgress: students.map(student => ({\n          studentId: student.id,\n          status: 'not_started',\n          lastUpdated: null,\n          hasLatePolicy: false,\n          penaltyApplied: null\n        }))\n      };\n      setClassList(newClassList);\n      console.log('‚úÖ Class list created successfully:', {\n        totalStudents: students.length,\n        courseMetadata: courseMetadata,\n        sampleStudents: students.slice(0, 3),\n        latePolicySettings: newClassList.latePolicySettings\n      });\n      alert(`üéâ Successfully imported ${students.length} students!\\n\\n` + `Course: ${courseMetadata.courseCode || 'Not specified'}\\n` + `Instructor: ${courseMetadata.instructor || 'Not specified'}\\n` + `Late Policy: ${((_availablePolicies$se3 = availablePolicies[selectedPolicyId]) === null || _availablePolicies$se3 === void 0 ? void 0 : _availablePolicies$se3.name) || 'Institutional Standard'}`);\n    } catch (error) {\n      console.error('‚ùå Error importing Excel file:', error);\n      alert('Error importing file. Please ensure it\\'s a valid Excel file (.xlsx or .xls) with student data.\\n\\n' + 'Expected format:\\n' + '- First row: Headers (Name, ID, Email)\\n' + '- Following rows: Student data\\n\\n' + 'Error details: ' + error.message);\n    } finally {\n      setLoading(false);\n      if (fileInputRef.current) {\n        fileInputRef.current.value = '';\n      }\n    }\n  };\n\n  // ORIGINAL: Excel export function preserved and enhanced\n  const exportToExcel = async () => {\n    if (!classList || !classList.students.length) {\n      alert('No class list to export');\n      return;\n    }\n    try {\n      var _availablePolicies$se4, _classList$courseMeta, _availablePolicies$se5;\n      const XLSX = await import('xlsx');\n\n      // Enhanced export data with late policy information\n      const exportData = classList.students.map(student => {\n        var _availablePolicies$la, _availablePolicies$la2, _availablePolicies$la3;\n        const gradeStatus = getGradeStatus(student.id);\n        const finalGrade = loadFinalGrade(student.id);\n        const draft = hasDraft(student.id);\n        const gradeData = finalGrade || draft;\n        const latePolicyData = (gradeData === null || gradeData === void 0 ? void 0 : gradeData.latePolicy) || {};\n        return {\n          'Student Name': student.name,\n          'Student ID': student.id,\n          'Email': student.email,\n          'Grade Status': gradeStatus === 'final' ? 'Final' : gradeStatus === 'draft' ? 'Draft' : 'Not Started',\n          'Score': (gradeData === null || gradeData === void 0 ? void 0 : gradeData.totalScore) || '',\n          'Percentage': (gradeData === null || gradeData === void 0 ? void 0 : gradeData.percentage) || '',\n          'Letter Grade': (gradeData === null || gradeData === void 0 ? void 0 : gradeData.letterGrade) || '',\n          // NEW: Late policy export fields\n          'Late Policy': latePolicyData.policyId ? (_availablePolicies$la = availablePolicies[latePolicyData.policyId]) === null || _availablePolicies$la === void 0 ? void 0 : _availablePolicies$la.name : 'None',\n          'Submission Status': latePolicyData.level ? (_availablePolicies$la2 = availablePolicies[latePolicyData.policyId]) === null || _availablePolicies$la2 === void 0 ? void 0 : (_availablePolicies$la3 = _availablePolicies$la2.levels[latePolicyData.level]) === null || _availablePolicies$la3 === void 0 ? void 0 : _availablePolicies$la3.name : 'On Time',\n          'Penalty Applied': latePolicyData.penaltyApplied ? 'Yes' : 'No',\n          'Original Score': latePolicyData.originalScore || '',\n          'Adjusted Score': latePolicyData.adjustedScore || '',\n          'Penalty Multiplier': latePolicyData.multiplier || '1.0'\n        };\n      });\n\n      // Create workbook with metadata\n      const wb = XLSX.utils.book_new();\n\n      // Main data sheet\n      const ws = XLSX.utils.json_to_sheet(exportData);\n      XLSX.utils.book_append_sheet(wb, ws, 'Class List');\n\n      // NEW: Add late policy summary sheet\n      if (currentLatePolicy || selectedPolicyId !== 'institutional') {\n        const policyData = availablePolicies[selectedPolicyId];\n        const policyExport = [['Policy Information', ''], ['Policy Name', (policyData === null || policyData === void 0 ? void 0 : policyData.name) || 'Institutional Standard'], ['Description', (policyData === null || policyData === void 0 ? void 0 : policyData.description) || 'Standard institutional late policy'], ['Custom Policy', policyData !== null && policyData !== void 0 && policyData.isCustom ? 'Yes' : 'No'], ['', ''], ['Penalty Levels', ''], ...Object.entries((policyData === null || policyData === void 0 ? void 0 : policyData.levels) || {}).map(([key, level]) => [level.name, `${Math.round((1 - level.multiplier) * 100)}% penalty`])];\n        const policyWs = XLSX.utils.aoa_to_sheet(policyExport);\n        XLSX.utils.book_append_sheet(wb, policyWs, 'Late Policy');\n      }\n\n      // Generate filename with timestamp and policy info\n      const timestamp = new Date().toISOString().split('T')[0];\n      const policyName = ((_availablePolicies$se4 = availablePolicies[selectedPolicyId]) === null || _availablePolicies$se4 === void 0 ? void 0 : _availablePolicies$se4.name.replace(/\\s+/g, '_')) || 'Standard';\n      const filename = `${((_classList$courseMeta = classList.courseMetadata) === null || _classList$courseMeta === void 0 ? void 0 : _classList$courseMeta.courseCode) || 'Class'}_${timestamp}_${policyName}.xlsx`;\n      XLSX.writeFile(wb, filename);\n      console.log('üì§ Exported class list with late policy data:', {\n        filename,\n        studentCount: exportData.length,\n        policyUsed: (_availablePolicies$se5 = availablePolicies[selectedPolicyId]) === null || _availablePolicies$se5 === void 0 ? void 0 : _availablePolicies$se5.name\n      });\n    } catch (error) {\n      console.error('Export error:', error);\n      alert('Error exporting class list: ' + error.message);\n    }\n  };\n\n  // ORIGINAL: Student management functions preserved\n  const handleStudentEdit = student => {\n    setEditingStudent({\n      ...student\n    });\n    setShowStudentEditor(true);\n  };\n  const handleStudentSave = () => {\n    if (!editingStudent) return;\n    setClassList(prev => ({\n      ...prev,\n      students: prev.students.map(student => student.id === editingStudent.id ? editingStudent : student)\n    }));\n    setShowStudentEditor(false);\n    setEditingStudent(null);\n  };\n  const handleStudentDelete = studentId => {\n    if (window.confirm('Are you sure you want to remove this student from the class list?')) {\n      setClassList(prev => ({\n        ...prev,\n        students: prev.students.filter(student => student.id !== studentId),\n        totalStudents: prev.students.length - 1\n      }));\n    }\n  };\n  const addNewStudent = () => {\n    const newStudent = {\n      id: `student_${Date.now()}`,\n      name: '',\n      email: '',\n      lateSubmissions: 0,\n      penaltiesApplied: 0,\n      averagePenalty: 0\n    };\n    setEditingStudent(newStudent);\n    setShowStudentEditor(true);\n  };\n\n  // ORIGINAL: Sorting and filtering preserved\n  const handleSort = key => {\n    let direction = 'asc';\n    if (sortConfig.key === key && sortConfig.direction === 'asc') {\n      direction = 'desc';\n    }\n    setSortConfig({\n      key,\n      direction\n    });\n  };\n  const getSortedAndFilteredStudents = () => {\n    if (!(classList !== null && classList !== void 0 && classList.students)) return [];\n    let filteredStudents = classList.students.filter(student => {\n      const matchesSearch = student.name.toLowerCase().includes(searchTerm.toLowerCase()) || student.id.toLowerCase().includes(searchTerm.toLowerCase()) || student.email.toLowerCase().includes(searchTerm.toLowerCase());\n      if (filterStatus === 'all') return matchesSearch;\n      const gradeStatus = getGradeStatus(student.id);\n      if (filterStatus === 'graded') return matchesSearch && gradeStatus === 'final';\n      if (filterStatus === 'draft') return matchesSearch && gradeStatus === 'draft';\n      if (filterStatus === 'not_started') return matchesSearch && gradeStatus === 'not_started';\n      return matchesSearch;\n    });\n    if (sortConfig.key) {\n      filteredStudents.sort((a, b) => {\n        let aValue = a[sortConfig.key];\n        let bValue = b[sortConfig.key];\n        if (sortConfig.key === 'gradeStatus') {\n          aValue = getGradeStatus(a.id);\n          bValue = getGradeStatus(b.id);\n        }\n        if (aValue < bValue) return sortConfig.direction === 'asc' ? -1 : 1;\n        if (aValue > bValue) return sortConfig.direction === 'asc' ? 1 : -1;\n        return 0;\n      });\n    }\n    return filteredStudents;\n  };\n\n  // Navigate to specific student - ENHANCED with late policy context\n  const selectStudent = (student, index) => {\n    setCurrentStudent(student);\n\n    // Load any existing draft for this student\n    const existingDraft = hasDraft(student.id);\n    if (existingDraft) {\n      loadDraft(student.id);\n    } else {\n      // Initialize with student info and reset late policy\n      clearGradingFormData();\n      updateStudentInfo('name', student.name || '');\n      updateStudentInfo('id', student.id || '');\n      updateStudentInfo('email', student.email || '');\n    }\n\n    // Navigate to grading template\n    setActiveTab('grading-tool');\n  };\n\n  // ORIGINAL: Start batch grading session - ENHANCED with late policy awareness\n  const startGradingSession = () => {\n    var _sharedRubric$assignm;\n    if (!classList || !classList.students.length) {\n      alert('Please import a class list first');\n      return;\n    }\n    if (!sharedRubric) {\n      alert('Please load a rubric before starting batch grading.');\n      return;\n    }\n    console.log('üöÄ Starting grading session with class data:', {\n      studentCount: classList.students.length,\n      courseMetadata: classList.courseMetadata,\n      rubricTitle: (_sharedRubric$assignm = sharedRubric.assignmentInfo) === null || _sharedRubric$assignm === void 0 ? void 0 : _sharedRubric$assignm.title,\n      latePolicyActive: (currentLatePolicy === null || currentLatePolicy === void 0 ? void 0 : currentLatePolicy.name) || 'Institutional Standard'\n    });\n\n    // Initialize the grading session with enhanced data\n    const success = initializeGradingSession(classList);\n    if (success) {\n      var _sharedRubric$assignm2, _classList$students$;\n      setActiveTab('grading-tool');\n\n      // Show enhanced success message with course info confirmation\n      const courseInfo = classList.courseMetadata;\n      const policyInfo = currentLatePolicy || DEFAULT_LATE_POLICIES.institutional;\n      alert(`üéØ Batch Grading Started!\\n\\n` + `Rubric: ${((_sharedRubric$assignm2 = sharedRubric.assignmentInfo) === null || _sharedRubric$assignm2 === void 0 ? void 0 : _sharedRubric$assignm2.title) || 'Untitled'}\\n` + `Students: ${classList.students.length}\\n` + `Course: ${(courseInfo === null || courseInfo === void 0 ? void 0 : courseInfo.courseCode) || 'N/A'} - ${(courseInfo === null || courseInfo === void 0 ? void 0 : courseInfo.courseName) || 'N/A'}\\n` + `Instructor: ${(courseInfo === null || courseInfo === void 0 ? void 0 : courseInfo.instructor) || (courseInfo === null || courseInfo === void 0 ? void 0 : courseInfo.professors) || 'N/A'}\\n` + `Term: ${(courseInfo === null || courseInfo === void 0 ? void 0 : courseInfo.term) || 'N/A'}\\n` + `Late Policy: ${policyInfo.name}\\n\\n` + `Starting with: ${((_classList$students$ = classList.students[0]) === null || _classList$students$ === void 0 ? void 0 : _classList$students$.name) || 'First Student'}`);\n    } else {\n      alert('Failed to initialize grading session. Please check the console for details.');\n    }\n  };\n\n  // NEW: Late Policy Settings Panel Component\n  const PolicySettingsPanel = () => /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      backgroundColor: 'white',\n      border: '1px solid #e5e7eb',\n      borderRadius: '0.5rem',\n      padding: '1rem',\n      marginBottom: '1rem'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: 'flex',\n        justifyContent: 'space-between',\n        alignItems: 'center',\n        marginBottom: '1rem'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        style: {\n          fontSize: '1rem',\n          fontWeight: '600',\n          color: '#1f2937',\n          margin: 0,\n          display: 'flex',\n          alignItems: 'center',\n          gap: '0.5rem'\n        },\n        children: [/*#__PURE__*/_jsxDEV(Clock, {\n          size: 16\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 505,\n          columnNumber: 21\n        }, this), \"Late Policy Settings\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 504,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setShowPolicySettings(false),\n        style: {\n          padding: '0.25rem',\n          backgroundColor: 'transparent',\n          border: 'none',\n          cursor: 'pointer'\n        },\n        children: /*#__PURE__*/_jsxDEV(X, {\n          size: 16,\n          color: \"#6b7280\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 512,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 508,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 503,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginBottom: '1rem'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        style: {\n          display: 'block',\n          fontSize: '0.875rem',\n          fontWeight: '500',\n          color: '#374151',\n          marginBottom: '0.5rem'\n        },\n        children: \"Select Late Policy for This Class\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 517,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n        value: selectedPolicyId,\n        onChange: e => setSelectedPolicyId(e.target.value),\n        style: {\n          width: '100%',\n          padding: '0.75rem',\n          border: '1px solid #d1d5db',\n          borderRadius: '0.375rem',\n          fontSize: '0.875rem',\n          backgroundColor: 'white'\n        },\n        children: Object.entries(availablePolicies).map(([policyId, policy]) => /*#__PURE__*/_jsxDEV(\"option\", {\n          value: policyId,\n          children: [policy.name, \" \", policy.isDefault && '(Default)', \" \", policy.isCustom && '(Custom)']\n        }, policyId, true, {\n          fileName: _jsxFileName,\n          lineNumber: 533,\n          columnNumber: 25\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 520,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 516,\n      columnNumber: 13\n    }, this), availablePolicies[selectedPolicyId] && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        padding: '0.75rem',\n        backgroundColor: '#f9fafb',\n        borderRadius: '0.375rem',\n        border: '1px solid #e5e7eb'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n        style: {\n          fontSize: '0.875rem',\n          fontWeight: '600',\n          color: '#1f2937',\n          margin: '0 0 0.5rem 0'\n        },\n        children: availablePolicies[selectedPolicyId].name\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 543,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        style: {\n          fontSize: '0.75rem',\n          color: '#6b7280',\n          margin: '0 0 0.75rem 0'\n        },\n        children: availablePolicies[selectedPolicyId].description\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 546,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: 'flex',\n          flexDirection: 'column',\n          gap: '0.25rem'\n        },\n        children: Object.entries(availablePolicies[selectedPolicyId].levels).slice(0, 3).map(([levelKey, level]) => /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: 'flex',\n            justifyContent: 'space-between',\n            alignItems: 'center',\n            fontSize: '0.75rem'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            children: level.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 552,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            style: {\n              color: level.multiplier < 1 ? '#dc2626' : '#16a34a',\n              fontWeight: '500'\n            },\n            children: level.multiplier < 1 ? `-${Math.round((1 - level.multiplier) * 100)}%` : 'No penalty'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 553,\n            columnNumber: 33\n          }, this)]\n        }, levelKey, true, {\n          fileName: _jsxFileName,\n          lineNumber: 551,\n          columnNumber: 29\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 549,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 542,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: 'flex',\n        gap: '0.5rem',\n        marginTop: '1rem'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => {\n          const selectedPolicy = availablePolicies[selectedPolicyId];\n          setCurrentLatePolicy(selectedPolicy.isDefault ? null : selectedPolicy);\n\n          // Update class list metadata\n          if (classList) {\n            setClassList(prev => ({\n              ...prev,\n              latePolicySettings: {\n                defaultPolicyId: selectedPolicyId,\n                policyName: selectedPolicy.name,\n                customPoliciesUsed: selectedPolicy.isCustom\n              }\n            }));\n          }\n          setShowPolicySettings(false);\n          alert(`Late policy \"${selectedPolicy.name}\" has been applied to this class.`);\n        },\n        style: {\n          flex: 1,\n          padding: '0.75rem',\n          backgroundColor: '#3b82f6',\n          color: 'white',\n          border: 'none',\n          borderRadius: '0.375rem',\n          fontSize: '0.875rem',\n          cursor: 'pointer'\n        },\n        children: \"Apply Policy\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 563,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setActiveTab('policy-manager'),\n        style: {\n          padding: '0.75rem 1rem',\n          backgroundColor: '#f3f4f6',\n          color: '#374151',\n          border: '1px solid #d1d5db',\n          borderRadius: '0.375rem',\n          fontSize: '0.875rem',\n          cursor: 'pointer'\n        },\n        children: \"Manage Policies\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 596,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 562,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 496,\n    columnNumber: 9\n  }, this);\n\n  // Calculate grading statistics with late policy awareness\n  const getGradingStats = () => {\n    if (!(classList !== null && classList !== void 0 && classList.students)) return {\n      total: 0,\n      graded: 0,\n      draft: 0,\n      notStarted: 0,\n      withPenalties: 0\n    };\n    const stats = classList.students.reduce((acc, student) => {\n      var _gradeData$latePolicy;\n      const status = getGradeStatus(student.id);\n      const gradeData = loadFinalGrade(student.id) || hasDraft(student.id);\n      acc.total++;\n      if (status === 'final') acc.graded++;else if (status === 'draft') acc.draft++;else acc.notStarted++;\n\n      // NEW: Count students with late penalties\n      if (gradeData !== null && gradeData !== void 0 && (_gradeData$latePolicy = gradeData.latePolicy) !== null && _gradeData$latePolicy !== void 0 && _gradeData$latePolicy.penaltyApplied) {\n        acc.withPenalties++;\n      }\n      return acc;\n    }, {\n      total: 0,\n      graded: 0,\n      draft: 0,\n      notStarted: 0,\n      withPenalties: 0\n    });\n    return stats;\n  };\n  const stats = getGradingStats();\n  const sortedStudents = getSortedAndFilteredStudents();\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      maxWidth: '1200px',\n      margin: '0 auto',\n      padding: '1rem'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        backgroundColor: 'white',\n        borderRadius: '0.5rem',\n        padding: '1.5rem',\n        marginBottom: '1.5rem',\n        boxShadow: '0 1px 3px rgba(0,0,0,0.1)'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: 'flex',\n          justifyContent: 'space-between',\n          alignItems: 'center',\n          marginBottom: '1rem'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n            style: {\n              fontSize: '1.75rem',\n              fontWeight: 'bold',\n              color: '#1f2937',\n              margin: '0 0 0.5rem 0'\n            },\n            children: \"Class List Manager\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 647,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            style: {\n              color: '#6b7280',\n              margin: 0\n            },\n            children: \"Import and manage your student class lists with late policy integration\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 650,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 646,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: 'flex',\n            gap: '0.75rem'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"file\",\n            ref: fileInputRef,\n            onChange: handleFileUpload,\n            accept: \".xlsx,.xls\",\n            style: {\n              display: 'none'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 656,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => {\n              var _fileInputRef$current;\n              return (_fileInputRef$current = fileInputRef.current) === null || _fileInputRef$current === void 0 ? void 0 : _fileInputRef$current.click();\n            },\n            disabled: loading,\n            style: {\n              display: 'flex',\n              alignItems: 'center',\n              gap: '0.5rem',\n              padding: '0.75rem 1rem',\n              backgroundColor: loading ? '#9ca3af' : '#3b82f6',\n              color: 'white',\n              border: 'none',\n              borderRadius: '0.375rem',\n              fontSize: '0.875rem',\n              cursor: loading ? 'not-allowed' : 'pointer'\n            },\n            children: [loading ? /*#__PURE__*/_jsxDEV(RefreshCw, {\n              size: 16,\n              className: \"animate-spin\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 679,\n              columnNumber: 40\n            }, this) : /*#__PURE__*/_jsxDEV(Upload, {\n              size: 16\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 679,\n              columnNumber: 91\n            }, this), loading ? 'Importing...' : 'Import Excel']\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 663,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: exportToExcel,\n            disabled: !(classList !== null && classList !== void 0 && (_classList$students = classList.students) !== null && _classList$students !== void 0 && _classList$students.length),\n            style: {\n              display: 'flex',\n              alignItems: 'center',\n              gap: '0.5rem',\n              padding: '0.75rem 1rem',\n              backgroundColor: !(classList !== null && classList !== void 0 && (_classList$students2 = classList.students) !== null && _classList$students2 !== void 0 && _classList$students2.length) ? '#f3f4f6' : '#10b981',\n              color: !(classList !== null && classList !== void 0 && (_classList$students3 = classList.students) !== null && _classList$students3 !== void 0 && _classList$students3.length) ? '#9ca3af' : 'white',\n              border: 'none',\n              borderRadius: '0.375rem',\n              fontSize: '0.875rem',\n              cursor: !(classList !== null && classList !== void 0 && (_classList$students4 = classList.students) !== null && _classList$students4 !== void 0 && _classList$students4.length) ? 'not-allowed' : 'pointer'\n            },\n            children: [/*#__PURE__*/_jsxDEV(Download, {\n              size: 16\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 699,\n              columnNumber: 29\n            }, this), \"Export Excel\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 683,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 655,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 645,\n        columnNumber: 17\n      }, this), classList && /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: 'grid',\n          gridTemplateColumns: 'repeat(auto-fit, minmax(150px, 1fr))',\n          gap: '1rem'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            padding: '1rem',\n            backgroundColor: '#f9fafb',\n            borderRadius: '0.375rem',\n            textAlign: 'center'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              display: 'flex',\n              alignItems: 'center',\n              justifyContent: 'center',\n              gap: '0.5rem',\n              marginBottom: '0.5rem'\n            },\n            children: [/*#__PURE__*/_jsxDEV(Users, {\n              size: 16,\n              color: \"#6b7280\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 710,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              style: {\n                fontSize: '0.875rem',\n                color: '#6b7280'\n              },\n              children: \"Total Students\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 711,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 709,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              fontSize: '1.5rem',\n              fontWeight: '600',\n              color: '#1f2937'\n            },\n            children: stats.total\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 713,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 708,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            padding: '1rem',\n            backgroundColor: '#f0fdf4',\n            borderRadius: '0.375rem',\n            textAlign: 'center'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              display: 'flex',\n              alignItems: 'center',\n              justifyContent: 'center',\n              gap: '0.5rem',\n              marginBottom: '0.5rem'\n            },\n            children: [/*#__PURE__*/_jsxDEV(CheckCircle, {\n              size: 16,\n              color: \"#16a34a\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 720,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              style: {\n                fontSize: '0.875rem',\n                color: '#16a34a'\n              },\n              children: \"Graded\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 721,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 719,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              fontSize: '1.5rem',\n              fontWeight: '600',\n              color: '#16a34a'\n            },\n            children: stats.graded\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 723,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 718,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            padding: '1rem',\n            backgroundColor: '#fffbeb',\n            borderRadius: '0.375rem',\n            textAlign: 'center'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              display: 'flex',\n              alignItems: 'center',\n              justifyContent: 'center',\n              gap: '0.5rem',\n              marginBottom: '0.5rem'\n            },\n            children: [/*#__PURE__*/_jsxDEV(Edit3, {\n              size: 16,\n              color: \"#f59e0b\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 730,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              style: {\n                fontSize: '0.875rem',\n                color: '#f59e0b'\n              },\n              children: \"Drafts\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 731,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 729,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              fontSize: '1.5rem',\n              fontWeight: '600',\n              color: '#f59e0b'\n            },\n            children: stats.draft\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 733,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 728,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            padding: '1rem',\n            backgroundColor: '#fef2f2',\n            borderRadius: '0.375rem',\n            textAlign: 'center'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              display: 'flex',\n              alignItems: 'center',\n              justifyContent: 'center',\n              gap: '0.5rem',\n              marginBottom: '0.5rem'\n            },\n            children: [/*#__PURE__*/_jsxDEV(AlertTriangle, {\n              size: 16,\n              color: \"#dc2626\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 740,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              style: {\n                fontSize: '0.875rem',\n                color: '#dc2626'\n              },\n              children: \"Late Penalties\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 741,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 739,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              fontSize: '1.5rem',\n              fontWeight: '600',\n              color: '#dc2626'\n            },\n            children: stats.withPenalties\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 743,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 738,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            padding: '1rem',\n            backgroundColor: '#f0f9ff',\n            borderRadius: '0.375rem',\n            textAlign: 'center'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              display: 'flex',\n              alignItems: 'center',\n              justifyContent: 'center',\n              gap: '0.5rem',\n              marginBottom: '0.5rem'\n            },\n            children: [/*#__PURE__*/_jsxDEV(Clock, {\n              size: 16,\n              color: \"#0284c7\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 750,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              style: {\n                fontSize: '0.875rem',\n                color: '#0284c7'\n              },\n              children: \"Active Policy\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 751,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 749,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              fontSize: '0.875rem',\n              fontWeight: '600',\n              color: '#0369a1'\n            },\n            children: (currentLatePolicy || DEFAULT_LATE_POLICIES.institutional).name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 753,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 748,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 707,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 644,\n      columnNumber: 13\n    }, this), showPolicySettings && /*#__PURE__*/_jsxDEV(PolicySettingsPanel, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 762,\n      columnNumber: 36\n    }, this), classList && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        backgroundColor: 'white',\n        borderRadius: '0.5rem',\n        padding: '1.5rem',\n        marginBottom: '1.5rem',\n        boxShadow: '0 1px 3px rgba(0,0,0,0.1)'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: 'flex',\n          justifyContent: 'space-between',\n          alignItems: 'center',\n          marginBottom: '1rem'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          style: {\n            fontSize: '1.25rem',\n            fontWeight: '600',\n            color: '#1f2937',\n            margin: 0\n          },\n          children: \"Class Actions\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 768,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: 'flex',\n            gap: '0.75rem'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setShowPolicySettings(true),\n            style: {\n              display: 'flex',\n              alignItems: 'center',\n              gap: '0.5rem',\n              padding: '0.75rem 1rem',\n              backgroundColor: '#f0f9ff',\n              color: '#0369a1',\n              border: '1px solid #bae6fd',\n              borderRadius: '0.375rem',\n              fontSize: '0.875rem',\n              cursor: 'pointer'\n            },\n            children: [/*#__PURE__*/_jsxDEV(Settings, {\n              size: 16\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 788,\n              columnNumber: 33\n            }, this), \"Policy Settings\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 773,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: addNewStudent,\n            style: {\n              display: 'flex',\n              alignItems: 'center',\n              gap: '0.5rem',\n              padding: '0.75rem 1rem',\n              backgroundColor: '#f3f4f6',\n              color: '#374151',\n              border: '1px solid #d1d5db',\n              borderRadius: '0.375rem',\n              fontSize: '0.875rem',\n              cursor: 'pointer'\n            },\n            children: [/*#__PURE__*/_jsxDEV(Plus, {\n              size: 16\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 807,\n              columnNumber: 33\n            }, this), \"Add Student\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 792,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: startGradingSession,\n            disabled: !sharedRubric,\n            style: {\n              display: 'flex',\n              alignItems: 'center',\n              gap: '0.5rem',\n              padding: '0.75rem 1rem',\n              backgroundColor: !sharedRubric ? '#f3f4f6' : '#16a34a',\n              color: !sharedRubric ? '#9ca3af' : 'white',\n              border: 'none',\n              borderRadius: '0.375rem',\n              fontSize: '0.875rem',\n              cursor: !sharedRubric ? 'not-allowed' : 'pointer'\n            },\n            children: [/*#__PURE__*/_jsxDEV(PlayCircle, {\n              size: 16\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 827,\n              columnNumber: 33\n            }, this), \"Start Grading Session\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 811,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 772,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 767,\n        columnNumber: 21\n      }, this), !sharedRubric && /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          padding: '0.75rem',\n          backgroundColor: '#fffbeb',\n          border: '1px solid #fed7aa',\n          borderRadius: '0.375rem',\n          marginBottom: '1rem'\n        },\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: 'flex',\n            alignItems: 'center',\n            gap: '0.5rem'\n          },\n          children: [/*#__PURE__*/_jsxDEV(AlertCircle, {\n            size: 16,\n            color: \"#d97706\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 836,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            style: {\n              fontSize: '0.875rem',\n              color: '#92400e'\n            },\n            children: \"Please create or load a rubric before starting a grading session.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 837,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setActiveTab('rubric-creator'),\n            style: {\n              fontSize: '0.875rem',\n              color: '#d97706',\n              backgroundColor: 'transparent',\n              border: 'none',\n              textDecoration: 'underline',\n              cursor: 'pointer',\n              marginLeft: '0.5rem'\n            },\n            children: \"Create Rubric \\u2192\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 840,\n            columnNumber: 33\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 835,\n          columnNumber: 29\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 834,\n        columnNumber: 25\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: 'flex',\n          gap: '1rem',\n          alignItems: 'center',\n          flexWrap: 'wrap'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            flex: 1,\n            minWidth: '200px'\n          },\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              position: 'relative'\n            },\n            children: [/*#__PURE__*/_jsxDEV(Search, {\n              size: 16,\n              style: {\n                position: 'absolute',\n                left: '0.75rem',\n                top: '50%',\n                transform: 'translateY(-50%)',\n                color: '#6b7280'\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 862,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              placeholder: \"Search students...\",\n              value: searchTerm,\n              onChange: e => setSearchTerm(e.target.value),\n              style: {\n                width: '100%',\n                padding: '0.75rem 0.75rem 0.75rem 2.5rem',\n                border: '1px solid #d1d5db',\n                borderRadius: '0.375rem',\n                fontSize: '0.875rem'\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 863,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 861,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 860,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          value: filterStatus,\n          onChange: e => setFilterStatus(e.target.value),\n          style: {\n            padding: '0.75rem',\n            border: '1px solid #d1d5db',\n            borderRadius: '0.375rem',\n            fontSize: '0.875rem',\n            backgroundColor: 'white'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"all\",\n            children: \"All Students\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 884,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"graded\",\n            children: \"Graded\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 885,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"draft\",\n            children: \"Draft\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 886,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"not_started\",\n            children: \"Not Started\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 887,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 879,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 859,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 766,\n      columnNumber: 17\n    }, this), classList && sortedStudents.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        backgroundColor: 'white',\n        borderRadius: '0.5rem',\n        overflow: 'hidden',\n        boxShadow: '0 1px 3px rgba(0,0,0,0.1)'\n      },\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          overflowX: 'auto'\n        },\n        children: /*#__PURE__*/_jsxDEV(\"table\", {\n          style: {\n            width: '100%',\n            borderCollapse: 'collapse'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n            children: /*#__PURE__*/_jsxDEV(\"tr\", {\n              style: {\n                backgroundColor: '#f9fafb',\n                borderBottom: '1px solid #e5e7eb'\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                style: {\n                  padding: '0.75rem',\n                  textAlign: 'left',\n                  fontSize: '0.875rem',\n                  fontWeight: '600',\n                  color: '#374151'\n                },\n                children: /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => handleSort('name'),\n                  style: {\n                    display: 'flex',\n                    alignItems: 'center',\n                    gap: '0.25rem',\n                    backgroundColor: 'transparent',\n                    border: 'none',\n                    cursor: 'pointer',\n                    fontSize: '0.875rem',\n                    fontWeight: '600',\n                    color: '#374151'\n                  },\n                  children: [\"Student Name\", sortConfig.key === 'name' && /*#__PURE__*/_jsxDEV(\"span\", {\n                    children: sortConfig.direction === 'asc' ? '‚Üë' : '‚Üì'\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 906,\n                    columnNumber: 75\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 901,\n                  columnNumber: 41\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 900,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                style: {\n                  padding: '0.75rem',\n                  textAlign: 'left',\n                  fontSize: '0.875rem',\n                  fontWeight: '600',\n                  color: '#374151'\n                },\n                children: /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => handleSort('id'),\n                  style: {\n                    display: 'flex',\n                    alignItems: 'center',\n                    gap: '0.25rem',\n                    backgroundColor: 'transparent',\n                    border: 'none',\n                    cursor: 'pointer',\n                    fontSize: '0.875rem',\n                    fontWeight: '600',\n                    color: '#374151'\n                  },\n                  children: [\"Student ID\", sortConfig.key === 'id' && /*#__PURE__*/_jsxDEV(\"span\", {\n                    children: sortConfig.direction === 'asc' ? '‚Üë' : '‚Üì'\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 915,\n                    columnNumber: 73\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 910,\n                  columnNumber: 41\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 909,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                style: {\n                  padding: '0.75rem',\n                  textAlign: 'left',\n                  fontSize: '0.875rem',\n                  fontWeight: '600',\n                  color: '#374151'\n                },\n                children: \"Email\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 918,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                style: {\n                  padding: '0.75rem',\n                  textAlign: 'center',\n                  fontSize: '0.875rem',\n                  fontWeight: '600',\n                  color: '#374151'\n                },\n                children: \"Grade Status\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 919,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                style: {\n                  padding: '0.75rem',\n                  textAlign: 'center',\n                  fontSize: '0.875rem',\n                  fontWeight: '600',\n                  color: '#374151'\n                },\n                children: \"Late Policy\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 922,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                style: {\n                  padding: '0.75rem',\n                  textAlign: 'center',\n                  fontSize: '0.875rem',\n                  fontWeight: '600',\n                  color: '#374151'\n                },\n                children: \"Actions\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 925,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 899,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 898,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n            children: sortedStudents.map((student, index) => {\n              const gradeStatus = getGradeStatus(student.id);\n              const gradeData = loadFinalGrade(student.id) || hasDraft(student.id);\n              const latePolicyData = (gradeData === null || gradeData === void 0 ? void 0 : gradeData.latePolicy) || {};\n              const statusStyles = {\n                final: {\n                  backgroundColor: '#dcfce7',\n                  color: '#166534',\n                  border: '1px solid #bbf7d0'\n                },\n                draft: {\n                  backgroundColor: '#fef3c7',\n                  color: '#92400e',\n                  border: '1px solid #fed7aa'\n                },\n                not_started: {\n                  backgroundColor: '#f3f4f6',\n                  color: '#374151',\n                  border: '1px solid #d1d5db'\n                }\n              };\n              return /*#__PURE__*/_jsxDEV(\"tr\", {\n                style: {\n                  borderBottom: '1px solid #f3f4f6'\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                  style: {\n                    padding: '0.75rem'\n                  },\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    style: {\n                      display: 'flex',\n                      alignItems: 'center',\n                      gap: '0.5rem'\n                    },\n                    children: [/*#__PURE__*/_jsxDEV(User, {\n                      size: 16,\n                      color: \"#6b7280\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 944,\n                      columnNumber: 53\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      style: {\n                        fontSize: '0.875rem',\n                        fontWeight: '500',\n                        color: '#1f2937'\n                      },\n                      children: student.name\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 945,\n                      columnNumber: 53\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 943,\n                    columnNumber: 49\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 942,\n                  columnNumber: 45\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  style: {\n                    padding: '0.75rem',\n                    fontSize: '0.875rem',\n                    color: '#6b7280'\n                  },\n                  children: student.id\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 950,\n                  columnNumber: 45\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  style: {\n                    padding: '0.75rem',\n                    fontSize: '0.875rem',\n                    color: '#6b7280'\n                  },\n                  children: student.email\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 953,\n                  columnNumber: 45\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  style: {\n                    padding: '0.75rem',\n                    textAlign: 'center'\n                  },\n                  children: /*#__PURE__*/_jsxDEV(\"span\", {\n                    style: {\n                      ...statusStyles[gradeStatus],\n                      padding: '0.25rem 0.75rem',\n                      borderRadius: '9999px',\n                      fontSize: '0.75rem',\n                      fontWeight: '500'\n                    },\n                    children: gradeStatus === 'final' ? 'Final' : gradeStatus === 'draft' ? 'Draft' : 'Not Started'\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 957,\n                    columnNumber: 49\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 956,\n                  columnNumber: 45\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  style: {\n                    padding: '0.75rem',\n                    textAlign: 'center'\n                  },\n                  children: latePolicyData.penaltyApplied ? /*#__PURE__*/_jsxDEV(\"div\", {\n                    style: {\n                      display: 'flex',\n                      flexDirection: 'column',\n                      alignItems: 'center',\n                      gap: '0.25rem'\n                    },\n                    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                      style: {\n                        padding: '0.25rem 0.5rem',\n                        backgroundColor: '#fef2f2',\n                        color: '#dc2626',\n                        border: '1px solid #fecaca',\n                        borderRadius: '0.25rem',\n                        fontSize: '0.75rem',\n                        fontWeight: '500'\n                      },\n                      children: \"Penalty Applied\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 970,\n                      columnNumber: 57\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      style: {\n                        fontSize: '0.625rem',\n                        color: '#6b7280'\n                      },\n                      children: [\"-\", Math.round((1 - latePolicyData.multiplier) * 100), \"%\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 981,\n                      columnNumber: 57\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 969,\n                    columnNumber: 53\n                  }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n                    style: {\n                      padding: '0.25rem 0.5rem',\n                      backgroundColor: '#f0fdf4',\n                      color: '#166534',\n                      border: '1px solid #bbf7d0',\n                      borderRadius: '0.25rem',\n                      fontSize: '0.75rem',\n                      fontWeight: '500'\n                    },\n                    children: \"On Time\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 986,\n                    columnNumber: 53\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 967,\n                  columnNumber: 45\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  style: {\n                    padding: '0.75rem'\n                  },\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    style: {\n                      display: 'flex',\n                      justifyContent: 'center',\n                      gap: '0.5rem'\n                    },\n                    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                      onClick: () => selectStudent(student, index),\n                      style: {\n                        padding: '0.375rem',\n                        backgroundColor: '#3b82f6',\n                        color: 'white',\n                        border: 'none',\n                        borderRadius: '0.25rem',\n                        cursor: 'pointer'\n                      },\n                      title: \"Grade Student\",\n                      children: /*#__PURE__*/_jsxDEV(GraduationCap, {\n                        size: 14\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1013,\n                        columnNumber: 57\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1001,\n                      columnNumber: 53\n                    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                      onClick: () => handleStudentEdit(student),\n                      style: {\n                        padding: '0.375rem',\n                        backgroundColor: '#f59e0b',\n                        color: 'white',\n                        border: 'none',\n                        borderRadius: '0.25rem',\n                        cursor: 'pointer'\n                      },\n                      title: \"Edit Student\",\n                      children: /*#__PURE__*/_jsxDEV(Edit3, {\n                        size: 14\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1028,\n                        columnNumber: 57\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1016,\n                      columnNumber: 53\n                    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                      onClick: () => handleStudentDelete(student.id),\n                      style: {\n                        padding: '0.375rem',\n                        backgroundColor: '#ef4444',\n                        color: 'white',\n                        border: 'none',\n                        borderRadius: '0.25rem',\n                        cursor: 'pointer'\n                      },\n                      title: \"Remove Student\",\n                      children: /*#__PURE__*/_jsxDEV(Trash2, {\n                        size: 14\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1043,\n                        columnNumber: 57\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1031,\n                      columnNumber: 53\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1000,\n                    columnNumber: 49\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 999,\n                  columnNumber: 45\n                }, this)]\n              }, student.id, true, {\n                fileName: _jsxFileName,\n                lineNumber: 941,\n                columnNumber: 41\n              }, this);\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 928,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 897,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 896,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 895,\n      columnNumber: 17\n    }, this), !classList && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        backgroundColor: 'white',\n        borderRadius: '0.5rem',\n        padding: '3rem',\n        textAlign: 'center',\n        boxShadow: '0 1px 3px rgba(0,0,0,0.1)'\n      },\n      children: [/*#__PURE__*/_jsxDEV(Users, {\n        size: 48,\n        color: \"#d1d5db\",\n        style: {\n          margin: '0 auto 1rem'\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1059,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n        style: {\n          fontSize: '1.125rem',\n          fontWeight: '600',\n          color: '#1f2937',\n          margin: '0 0 0.5rem 0'\n        },\n        children: \"No Class List Imported\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1060,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        style: {\n          color: '#6b7280',\n          marginBottom: '1.5rem'\n        },\n        children: \"Import an Excel file with your student list to get started with grading and late policy management.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1063,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => {\n          var _fileInputRef$current2;\n          return (_fileInputRef$current2 = fileInputRef.current) === null || _fileInputRef$current2 === void 0 ? void 0 : _fileInputRef$current2.click();\n        },\n        disabled: loading,\n        style: {\n          display: 'inline-flex',\n          alignItems: 'center',\n          gap: '0.5rem',\n          padding: '0.75rem 1.5rem',\n          backgroundColor: '#3b82f6',\n          color: 'white',\n          border: 'none',\n          borderRadius: '0.375rem',\n          fontSize: '0.875rem',\n          cursor: 'pointer'\n        },\n        children: [/*#__PURE__*/_jsxDEV(Upload, {\n          size: 16\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1082,\n          columnNumber: 25\n        }, this), \"Import Excel File\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1066,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1058,\n      columnNumber: 17\n    }, this), showStudentEditor && editingStudent && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        position: 'fixed',\n        top: 0,\n        left: 0,\n        right: 0,\n        bottom: 0,\n        backgroundColor: 'rgba(0,0,0,0.5)',\n        zIndex: 1000,\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center',\n        padding: '1rem'\n      },\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          backgroundColor: 'white',\n          borderRadius: '0.5rem',\n          padding: '1.5rem',\n          maxWidth: '500px',\n          width: '100%',\n          boxShadow: '0 20px 25px -5px rgba(0, 0, 0, 0.1)'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          style: {\n            fontSize: '1.125rem',\n            fontWeight: '600',\n            color: '#1f2937',\n            margin: '0 0 1rem 0'\n          },\n          children: editingStudent.name ? 'Edit Student' : 'Add New Student'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1092,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: 'flex',\n            flexDirection: 'column',\n            gap: '1rem'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              style: {\n                display: 'block',\n                fontSize: '0.875rem',\n                fontWeight: '500',\n                color: '#374151',\n                marginBottom: '0.5rem'\n              },\n              children: \"Student Name\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1098,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              value: editingStudent.name,\n              onChange: e => setEditingStudent(prev => ({\n                ...prev,\n                name: e.target.value\n              })),\n              style: {\n                width: '100%',\n                padding: '0.75rem',\n                border: '1px solid #d1d5db',\n                borderRadius: '0.375rem',\n                fontSize: '0.875rem'\n              },\n              placeholder: \"Enter student name\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1101,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1097,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              style: {\n                display: 'block',\n                fontSize: '0.875rem',\n                fontWeight: '500',\n                color: '#374151',\n                marginBottom: '0.5rem'\n              },\n              children: \"Student ID\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1111,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              value: editingStudent.id,\n              onChange: e => setEditingStudent(prev => ({\n                ...prev,\n                id: e.target.value\n              })),\n              style: {\n                width: '100%',\n                padding: '0.75rem',\n                border: '1px solid #d1d5db',\n                borderRadius: '0.375rem',\n                fontSize: '0.875rem'\n              },\n              placeholder: \"Enter student ID\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1114,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1110,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              style: {\n                display: 'block',\n                fontSize: '0.875rem',\n                fontWeight: '500',\n                color: '#374151',\n                marginBottom: '0.5rem'\n              },\n              children: \"Email Address\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1124,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"email\",\n              value: editingStudent.email,\n              onChange: e => setEditingStudent(prev => ({\n                ...prev,\n                email: e.target.value\n              })),\n              style: {\n                width: '100%',\n                padding: '0.75rem',\n                border: '1px solid #d1d5db',\n                borderRadius: '0.375rem',\n                fontSize: '0.875rem'\n              },\n              placeholder: \"Enter email address\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1127,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1123,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1096,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: 'flex',\n            gap: '0.75rem',\n            marginTop: '1.5rem',\n            justifyContent: 'flex-end'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setShowStudentEditor(false),\n            style: {\n              padding: '0.75rem 1rem',\n              backgroundColor: '#6b7280',\n              color: 'white',\n              border: 'none',\n              borderRadius: '0.375rem',\n              cursor: 'pointer'\n            },\n            children: \"Cancel\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1138,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: handleStudentSave,\n            disabled: !editingStudent.name || !editingStudent.id,\n            style: {\n              padding: '0.75rem 1rem',\n              backgroundColor: !editingStudent.name || !editingStudent.id ? '#9ca3af' : '#3b82f6',\n              color: 'white',\n              border: 'none',\n              borderRadius: '0.375rem',\n              cursor: !editingStudent.name || !editingStudent.id ? 'not-allowed' : 'pointer'\n            },\n            children: \"Save Student\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1144,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1137,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1091,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1090,\n      columnNumber: 17\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 642,\n    columnNumber: 9\n  }, this);\n};\n_s(ClassListManager, \"1hT1SSOd9jfqS6Sg/xs+RnVLkZc=\", false, function () {\n  return [useAssessment];\n});\n_c = ClassListManager;\nexport default ClassListManager;\nvar _c;\n$RefreshReg$(_c, \"ClassListManager\");","map":{"version":3,"names":["React","useState","useCallback","useRef","useAssessment","Upload","Download","Users","FileSpreadsheet","AlertCircle","CheckCircle","Eye","EyeOff","Edit3","Trash2","Plus","Search","Filter","BarChart3","Clock","Settings","Target","TrendingUp","RefreshCw","Save","X","PlayCircle","PauseCircle","SkipForward","User","GraduationCap","AlertTriangle","Info","Zap","jsxDEV","_jsxDEV","ClassListManager","_s","_classList$students","_classList$students2","_classList$students3","_classList$students4","classList","setClassList","setActiveTab","gradingSession","initializeGradingSession","setCurrentStudent","hasDraft","loadDraft","getGradeStatus","saveDraft","loadFinalGrade","finalGrades","drafts","updateStudentInfo","clearGradingFormData","sharedRubric","currentLatePolicy","setCurrentLatePolicy","customLatePolicies","DEFAULT_LATE_POLICIES","loading","setLoading","selectedStudents","setSelectedStudents","searchTerm","setSearchTerm","sortConfig","setSortConfig","key","direction","showGradingProgress","setShowGradingProgress","editingStudent","setEditingStudent","showStudentEditor","setShowStudentEditor","filterStatus","setFilterStatus","showPolicySettings","setShowPolicySettings","selectedPolicyId","setSelectedPolicyId","id","fileInputRef","exportLinkRef","availablePolicies","reduce","acc","policy","handleFileUpload","event","file","target","files","console","log","name","size","type","_availablePolicies$se","_availablePolicies$se2","_availablePolicies$se3","XLSX","data","arrayBuffer","workbook","read","cellStyles","cellDates","sheets","SheetNames","firstSheetName","worksheet","Sheets","jsonData","utils","sheet_to_json","header","defval","raw","length","alert","slice","headers","map","String","trim","toLowerCase","findHeaderIndex","possibleNames","index","findIndex","h","includes","nameIndex","idIndex","emailIndex","students","dataRows","courseMetadata","courseCode","courseName","instructor","term","section","programType","latePolicyId","latePolicyName","forEach","row","rowStr","join","match","toUpperCase","student","email","lateSubmissions","penaltiesApplied","averagePenalty","push","newClassList","importedAt","Date","toISOString","fileName","totalStudents","latePolicySettings","defaultPolicyId","policyName","customPoliciesUsed","filter","p","gradingProgress","studentId","status","lastUpdated","hasLatePolicy","penaltyApplied","sampleStudents","error","message","current","value","exportToExcel","_availablePolicies$se4","_classList$courseMeta","_availablePolicies$se5","exportData","_availablePolicies$la","_availablePolicies$la2","_availablePolicies$la3","gradeStatus","finalGrade","draft","gradeData","latePolicyData","latePolicy","totalScore","percentage","letterGrade","policyId","level","levels","originalScore","adjustedScore","multiplier","wb","book_new","ws","json_to_sheet","book_append_sheet","policyData","policyExport","description","isCustom","Object","entries","Math","round","policyWs","aoa_to_sheet","timestamp","split","replace","filename","writeFile","studentCount","policyUsed","handleStudentEdit","handleStudentSave","prev","handleStudentDelete","window","confirm","addNewStudent","newStudent","now","handleSort","getSortedAndFilteredStudents","filteredStudents","matchesSearch","sort","a","b","aValue","bValue","selectStudent","existingDraft","startGradingSession","_sharedRubric$assignm","rubricTitle","assignmentInfo","title","latePolicyActive","success","_sharedRubric$assignm2","_classList$students$","courseInfo","policyInfo","institutional","professors","PolicySettingsPanel","style","backgroundColor","border","borderRadius","padding","marginBottom","children","display","justifyContent","alignItems","fontSize","fontWeight","color","margin","gap","_jsxFileName","lineNumber","columnNumber","onClick","cursor","onChange","e","width","isDefault","flexDirection","levelKey","marginTop","selectedPolicy","flex","getGradingStats","total","graded","notStarted","withPenalties","stats","_gradeData$latePolicy","sortedStudents","maxWidth","boxShadow","ref","accept","_fileInputRef$current","click","disabled","className","gridTemplateColumns","textAlign","textDecoration","marginLeft","flexWrap","minWidth","position","left","top","transform","placeholder","overflow","overflowX","borderCollapse","borderBottom","statusStyles","final","not_started","_fileInputRef$current2","right","bottom","zIndex","_c","$RefreshReg$"],"sources":["C:/local clones/rubric-creation-app/src/components/ClassListManager.js"],"sourcesContent":["// Complete ClassListManager.js - Fully Consolidated with ALL Original Features + Late Policy Enhancement\r\n// This version preserves EVERY function and feature from the original while adding late policy support\r\n\r\nimport React, { useState, useCallback, useRef } from 'react';\r\nimport { useAssessment } from './SharedContext';\r\nimport {\r\n    Upload, Download, Users, FileSpreadsheet, AlertCircle, CheckCircle,\r\n    Eye, EyeOff, Edit3, Trash2, Plus, Search, Filter, BarChart3,\r\n    Clock, Settings, Target, TrendingUp, RefreshCw, Save, X,\r\n    PlayCircle, PauseCircle, SkipForward, User, GraduationCap,\r\n    AlertTriangle, Info, Zap\r\n} from 'lucide-react';\r\n\r\nconst ClassListManager = () => {\r\n    const {\r\n        classList,\r\n        setClassList,\r\n        setActiveTab,\r\n        gradingSession,\r\n        initializeGradingSession,\r\n        setCurrentStudent,\r\n        hasDraft,\r\n        loadDraft,\r\n        getGradeStatus,\r\n        saveDraft,\r\n        loadFinalGrade,\r\n        finalGrades,\r\n        drafts,\r\n        updateStudentInfo,\r\n        clearGradingFormData,\r\n        sharedRubric,\r\n        // NEW: Late policy integration\r\n        currentLatePolicy,\r\n        setCurrentLatePolicy,\r\n        customLatePolicies,\r\n        DEFAULT_LATE_POLICIES\r\n    } = useAssessment();\r\n\r\n    // ORIGINAL: State management preserved\r\n    const [loading, setLoading] = useState(false);\r\n    const [selectedStudents, setSelectedStudents] = useState([]);\r\n    const [searchTerm, setSearchTerm] = useState('');\r\n    const [sortConfig, setSortConfig] = useState({ key: null, direction: 'asc' });\r\n    const [showGradingProgress, setShowGradingProgress] = useState(false);\r\n    const [editingStudent, setEditingStudent] = useState(null);\r\n    const [showStudentEditor, setShowStudentEditor] = useState(false);\r\n    const [filterStatus, setFilterStatus] = useState('all');\r\n\r\n    // NEW: Late policy specific state\r\n    const [showPolicySettings, setShowPolicySettings] = useState(false);\r\n    const [selectedPolicyId, setSelectedPolicyId] = useState(currentLatePolicy?.id || 'institutional');\r\n\r\n    const fileInputRef = useRef(null);\r\n    const exportLinkRef = useRef(null);\r\n\r\n    // Get available policies for selection\r\n    const availablePolicies = {\r\n        ...DEFAULT_LATE_POLICIES,\r\n        ...customLatePolicies.reduce((acc, policy) => {\r\n            acc[policy.id] = policy;\r\n            return acc;\r\n        }, {})\r\n    };\r\n\r\n    // ORIGINAL: Excel import function preserved and enhanced\r\n    const handleFileUpload = async (event) => {\r\n        const file = event.target.files[0];\r\n        if (!file) return;\r\n\r\n        setLoading(true);\r\n        console.log('üìÅ File selected for import:', {\r\n            name: file.name,\r\n            size: file.size,\r\n            type: file.type\r\n        });\r\n\r\n        try {\r\n            // Dynamically import the XLSX library\r\n            const XLSX = await import('xlsx');\r\n\r\n            const data = await file.arrayBuffer();\r\n            const workbook = XLSX.read(data, {\r\n                type: 'array',\r\n                cellStyles: true,\r\n                cellDates: true\r\n            });\r\n\r\n            console.log('üìä Workbook loaded:', {\r\n                sheets: workbook.SheetNames,\r\n                workbook: workbook\r\n            });\r\n\r\n            const firstSheetName = workbook.SheetNames[0];\r\n            const worksheet = workbook.Sheets[firstSheetName];\r\n\r\n            // Convert to JSON with header row\r\n            const jsonData = XLSX.utils.sheet_to_json(worksheet, {\r\n                header: 1,\r\n                defval: '',\r\n                raw: false\r\n            });\r\n\r\n            if (jsonData.length < 2) {\r\n                alert('The Excel file appears to be empty or only contains headers. Please check the file and try again.');\r\n                return;\r\n            }\r\n\r\n            console.log('üìã Raw data extracted:', jsonData.slice(0, 3));\r\n\r\n            // Process the data\r\n            const headers = jsonData[0].map(header =>\r\n                String(header || '').trim().toLowerCase()\r\n            );\r\n\r\n            console.log('üè∑Ô∏è Headers detected:', headers);\r\n\r\n            // Enhanced header mapping with more flexible matching\r\n            const findHeaderIndex = (possibleNames) => {\r\n                for (const name of possibleNames) {\r\n                    const index = headers.findIndex(h =>\r\n                        h.includes(name.toLowerCase()) ||\r\n                        name.toLowerCase().includes(h)\r\n                    );\r\n                    if (index !== -1) return index;\r\n                }\r\n                return -1;\r\n            };\r\n\r\n            const nameIndex = findHeaderIndex(['name', 'student name', 'full name', 'student', 'first name', 'last name']);\r\n            const idIndex = findHeaderIndex(['id', 'student id', 'student number', 'number', 'sid']);\r\n            const emailIndex = findHeaderIndex(['email', 'e-mail', 'student email', 'email address']);\r\n\r\n            console.log('üìç Column mapping:', { nameIndex, idIndex, emailIndex });\r\n\r\n            if (nameIndex === -1) {\r\n                alert('Could not find a name column in the Excel file. Please ensure there is a column with \"Name\", \"Student Name\", or similar header.');\r\n                return;\r\n            }\r\n\r\n            // Extract student data\r\n            const students = [];\r\n            const dataRows = jsonData.slice(1);\r\n\r\n            // Extract course metadata from the first few rows if available\r\n            let courseMetadata = {\r\n                courseCode: '',\r\n                courseName: '',\r\n                instructor: '',\r\n                term: '',\r\n                section: '',\r\n                programType: 'degree',\r\n                // NEW: Late policy metadata\r\n                latePolicyId: selectedPolicyId,\r\n                latePolicyName: availablePolicies[selectedPolicyId]?.name || 'Institutional Standard'\r\n            };\r\n\r\n            // Try to extract course info from common patterns\r\n            dataRows.forEach((row, index) => {\r\n                if (index >= 50) return; // Only check first 50 rows for metadata\r\n\r\n                const rowStr = row.join(' ').toLowerCase();\r\n                if (rowStr.includes('course:') || rowStr.includes('course code:')) {\r\n                    const match = rowStr.match(/course[:\\s]+([a-z0-9\\-\\s]+)/i);\r\n                    if (match) courseMetadata.courseCode = match[1].trim().toUpperCase();\r\n                }\r\n                if (rowStr.includes('instructor:') || rowStr.includes('professor:')) {\r\n                    const match = rowStr.match(/(?:instructor|professor)[:\\s]+([a-z\\s\\.]+)/i);\r\n                    if (match) courseMetadata.instructor = match[1].trim();\r\n                }\r\n                if (rowStr.includes('term:') || rowStr.includes('semester:')) {\r\n                    const match = rowStr.match(/(?:term|semester)[:\\s]+([a-z0-9\\s]+)/i);\r\n                    if (match) courseMetadata.term = match[1].trim();\r\n                }\r\n            });\r\n\r\n            // Process student rows\r\n            dataRows.forEach((row, index) => {\r\n                if (!row || row.length === 0) return;\r\n\r\n                const name = String(row[nameIndex] || '').trim();\r\n                if (!name || name.toLowerCase().includes('total') || name.toLowerCase().includes('average')) {\r\n                    return; // Skip empty rows or summary rows\r\n                }\r\n\r\n                const student = {\r\n                    id: idIndex !== -1 ? String(row[idIndex] || `student_${index + 1}`).trim() : `student_${index + 1}`,\r\n                    name: name,\r\n                    email: emailIndex !== -1 ? String(row[emailIndex] || '').trim() : '',\r\n                    // NEW: Late policy tracking\r\n                    lateSubmissions: 0,\r\n                    penaltiesApplied: 0,\r\n                    averagePenalty: 0\r\n                };\r\n\r\n                // Validate required fields\r\n                if (student.name && student.name.length > 0) {\r\n                    students.push(student);\r\n                }\r\n            });\r\n\r\n            if (students.length === 0) {\r\n                alert('No valid student records were found in the Excel file. Please check the file format and try again.');\r\n                return;\r\n            }\r\n\r\n            // Create class list with enhanced metadata\r\n            const newClassList = {\r\n                students: students,\r\n                importedAt: new Date().toISOString(),\r\n                fileName: file.name,\r\n                totalStudents: students.length,\r\n                courseMetadata: courseMetadata,\r\n                // NEW: Late policy integration\r\n                latePolicySettings: {\r\n                    defaultPolicyId: selectedPolicyId,\r\n                    policyName: availablePolicies[selectedPolicyId]?.name,\r\n                    customPoliciesUsed: customLatePolicies.filter(p => p.id === selectedPolicyId).length > 0\r\n                },\r\n                // ORIGINAL: Grading progress tracking preserved\r\n                gradingProgress: students.map(student => ({\r\n                    studentId: student.id,\r\n                    status: 'not_started',\r\n                    lastUpdated: null,\r\n                    hasLatePolicy: false,\r\n                    penaltyApplied: null\r\n                }))\r\n            };\r\n\r\n            setClassList(newClassList);\r\n\r\n            console.log('‚úÖ Class list created successfully:', {\r\n                totalStudents: students.length,\r\n                courseMetadata: courseMetadata,\r\n                sampleStudents: students.slice(0, 3),\r\n                latePolicySettings: newClassList.latePolicySettings\r\n            });\r\n\r\n            alert(`üéâ Successfully imported ${students.length} students!\\n\\n` +\r\n                `Course: ${courseMetadata.courseCode || 'Not specified'}\\n` +\r\n                `Instructor: ${courseMetadata.instructor || 'Not specified'}\\n` +\r\n                `Late Policy: ${availablePolicies[selectedPolicyId]?.name || 'Institutional Standard'}`);\r\n\r\n        } catch (error) {\r\n            console.error('‚ùå Error importing Excel file:', error);\r\n            alert('Error importing file. Please ensure it\\'s a valid Excel file (.xlsx or .xls) with student data.\\n\\n' +\r\n                'Expected format:\\n' +\r\n                '- First row: Headers (Name, ID, Email)\\n' +\r\n                '- Following rows: Student data\\n\\n' +\r\n                'Error details: ' + error.message);\r\n        } finally {\r\n            setLoading(false);\r\n            if (fileInputRef.current) {\r\n                fileInputRef.current.value = '';\r\n            }\r\n        }\r\n    };\r\n\r\n    // ORIGINAL: Excel export function preserved and enhanced\r\n    const exportToExcel = async () => {\r\n        if (!classList || !classList.students.length) {\r\n            alert('No class list to export');\r\n            return;\r\n        }\r\n\r\n        try {\r\n            const XLSX = await import('xlsx');\r\n\r\n            // Enhanced export data with late policy information\r\n            const exportData = classList.students.map(student => {\r\n                const gradeStatus = getGradeStatus(student.id);\r\n                const finalGrade = loadFinalGrade(student.id);\r\n                const draft = hasDraft(student.id);\r\n\r\n                const gradeData = finalGrade || draft;\r\n                const latePolicyData = gradeData?.latePolicy || {};\r\n\r\n                return {\r\n                    'Student Name': student.name,\r\n                    'Student ID': student.id,\r\n                    'Email': student.email,\r\n                    'Grade Status': gradeStatus === 'final' ? 'Final' : gradeStatus === 'draft' ? 'Draft' : 'Not Started',\r\n                    'Score': gradeData?.totalScore || '',\r\n                    'Percentage': gradeData?.percentage || '',\r\n                    'Letter Grade': gradeData?.letterGrade || '',\r\n                    // NEW: Late policy export fields\r\n                    'Late Policy': latePolicyData.policyId ? availablePolicies[latePolicyData.policyId]?.name : 'None',\r\n                    'Submission Status': latePolicyData.level ? availablePolicies[latePolicyData.policyId]?.levels[latePolicyData.level]?.name : 'On Time',\r\n                    'Penalty Applied': latePolicyData.penaltyApplied ? 'Yes' : 'No',\r\n                    'Original Score': latePolicyData.originalScore || '',\r\n                    'Adjusted Score': latePolicyData.adjustedScore || '',\r\n                    'Penalty Multiplier': latePolicyData.multiplier || '1.0'\r\n                };\r\n            });\r\n\r\n            // Create workbook with metadata\r\n            const wb = XLSX.utils.book_new();\r\n\r\n            // Main data sheet\r\n            const ws = XLSX.utils.json_to_sheet(exportData);\r\n            XLSX.utils.book_append_sheet(wb, ws, 'Class List');\r\n\r\n            // NEW: Add late policy summary sheet\r\n            if (currentLatePolicy || selectedPolicyId !== 'institutional') {\r\n                const policyData = availablePolicies[selectedPolicyId];\r\n                const policyExport = [\r\n                    ['Policy Information', ''],\r\n                    ['Policy Name', policyData?.name || 'Institutional Standard'],\r\n                    ['Description', policyData?.description || 'Standard institutional late policy'],\r\n                    ['Custom Policy', policyData?.isCustom ? 'Yes' : 'No'],\r\n                    ['', ''],\r\n                    ['Penalty Levels', ''],\r\n                    ...Object.entries(policyData?.levels || {}).map(([key, level]) => [\r\n                        level.name,\r\n                        `${Math.round((1 - level.multiplier) * 100)}% penalty`\r\n                    ])\r\n                ];\r\n\r\n                const policyWs = XLSX.utils.aoa_to_sheet(policyExport);\r\n                XLSX.utils.book_append_sheet(wb, policyWs, 'Late Policy');\r\n            }\r\n\r\n            // Generate filename with timestamp and policy info\r\n            const timestamp = new Date().toISOString().split('T')[0];\r\n            const policyName = availablePolicies[selectedPolicyId]?.name.replace(/\\s+/g, '_') || 'Standard';\r\n            const filename = `${classList.courseMetadata?.courseCode || 'Class'}_${timestamp}_${policyName}.xlsx`;\r\n\r\n            XLSX.writeFile(wb, filename);\r\n\r\n            console.log('üì§ Exported class list with late policy data:', {\r\n                filename,\r\n                studentCount: exportData.length,\r\n                policyUsed: availablePolicies[selectedPolicyId]?.name\r\n            });\r\n\r\n        } catch (error) {\r\n            console.error('Export error:', error);\r\n            alert('Error exporting class list: ' + error.message);\r\n        }\r\n    };\r\n\r\n    // ORIGINAL: Student management functions preserved\r\n    const handleStudentEdit = (student) => {\r\n        setEditingStudent({ ...student });\r\n        setShowStudentEditor(true);\r\n    };\r\n\r\n    const handleStudentSave = () => {\r\n        if (!editingStudent) return;\r\n\r\n        setClassList(prev => ({\r\n            ...prev,\r\n            students: prev.students.map(student =>\r\n                student.id === editingStudent.id ? editingStudent : student\r\n            )\r\n        }));\r\n\r\n        setShowStudentEditor(false);\r\n        setEditingStudent(null);\r\n    };\r\n\r\n    const handleStudentDelete = (studentId) => {\r\n        if (window.confirm('Are you sure you want to remove this student from the class list?')) {\r\n            setClassList(prev => ({\r\n                ...prev,\r\n                students: prev.students.filter(student => student.id !== studentId),\r\n                totalStudents: prev.students.length - 1\r\n            }));\r\n        }\r\n    };\r\n\r\n    const addNewStudent = () => {\r\n        const newStudent = {\r\n            id: `student_${Date.now()}`,\r\n            name: '',\r\n            email: '',\r\n            lateSubmissions: 0,\r\n            penaltiesApplied: 0,\r\n            averagePenalty: 0\r\n        };\r\n        setEditingStudent(newStudent);\r\n        setShowStudentEditor(true);\r\n    };\r\n\r\n    // ORIGINAL: Sorting and filtering preserved\r\n    const handleSort = (key) => {\r\n        let direction = 'asc';\r\n        if (sortConfig.key === key && sortConfig.direction === 'asc') {\r\n            direction = 'desc';\r\n        }\r\n        setSortConfig({ key, direction });\r\n    };\r\n\r\n    const getSortedAndFilteredStudents = () => {\r\n        if (!classList?.students) return [];\r\n\r\n        let filteredStudents = classList.students.filter(student => {\r\n            const matchesSearch = student.name.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n                student.id.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n                student.email.toLowerCase().includes(searchTerm.toLowerCase());\r\n\r\n            if (filterStatus === 'all') return matchesSearch;\r\n\r\n            const gradeStatus = getGradeStatus(student.id);\r\n            if (filterStatus === 'graded') return matchesSearch && gradeStatus === 'final';\r\n            if (filterStatus === 'draft') return matchesSearch && gradeStatus === 'draft';\r\n            if (filterStatus === 'not_started') return matchesSearch && gradeStatus === 'not_started';\r\n\r\n            return matchesSearch;\r\n        });\r\n\r\n        if (sortConfig.key) {\r\n            filteredStudents.sort((a, b) => {\r\n                let aValue = a[sortConfig.key];\r\n                let bValue = b[sortConfig.key];\r\n\r\n                if (sortConfig.key === 'gradeStatus') {\r\n                    aValue = getGradeStatus(a.id);\r\n                    bValue = getGradeStatus(b.id);\r\n                }\r\n\r\n                if (aValue < bValue) return sortConfig.direction === 'asc' ? -1 : 1;\r\n                if (aValue > bValue) return sortConfig.direction === 'asc' ? 1 : -1;\r\n                return 0;\r\n            });\r\n        }\r\n\r\n        return filteredStudents;\r\n    };\r\n\r\n    // Navigate to specific student - ENHANCED with late policy context\r\n    const selectStudent = (student, index) => {\r\n        setCurrentStudent(student);\r\n\r\n        // Load any existing draft for this student\r\n        const existingDraft = hasDraft(student.id);\r\n        if (existingDraft) {\r\n            loadDraft(student.id);\r\n        } else {\r\n            // Initialize with student info and reset late policy\r\n            clearGradingFormData();\r\n            updateStudentInfo('name', student.name || '');\r\n            updateStudentInfo('id', student.id || '');\r\n            updateStudentInfo('email', student.email || '');\r\n        }\r\n\r\n        // Navigate to grading template\r\n        setActiveTab('grading-tool');\r\n    };\r\n\r\n    // ORIGINAL: Start batch grading session - ENHANCED with late policy awareness\r\n    const startGradingSession = () => {\r\n        if (!classList || !classList.students.length) {\r\n            alert('Please import a class list first');\r\n            return;\r\n        }\r\n\r\n        if (!sharedRubric) {\r\n            alert('Please load a rubric before starting batch grading.');\r\n            return;\r\n        }\r\n\r\n        console.log('üöÄ Starting grading session with class data:', {\r\n            studentCount: classList.students.length,\r\n            courseMetadata: classList.courseMetadata,\r\n            rubricTitle: sharedRubric.assignmentInfo?.title,\r\n            latePolicyActive: currentLatePolicy?.name || 'Institutional Standard'\r\n        });\r\n\r\n        // Initialize the grading session with enhanced data\r\n        const success = initializeGradingSession(classList);\r\n\r\n        if (success) {\r\n            setActiveTab('grading-tool');\r\n\r\n            // Show enhanced success message with course info confirmation\r\n            const courseInfo = classList.courseMetadata;\r\n            const policyInfo = currentLatePolicy || DEFAULT_LATE_POLICIES.institutional;\r\n\r\n            alert(\r\n                `üéØ Batch Grading Started!\\n\\n` +\r\n                `Rubric: ${sharedRubric.assignmentInfo?.title || 'Untitled'}\\n` +\r\n                `Students: ${classList.students.length}\\n` +\r\n                `Course: ${courseInfo?.courseCode || 'N/A'} - ${courseInfo?.courseName || 'N/A'}\\n` +\r\n                `Instructor: ${courseInfo?.instructor || courseInfo?.professors || 'N/A'}\\n` +\r\n                `Term: ${courseInfo?.term || 'N/A'}\\n` +\r\n                `Late Policy: ${policyInfo.name}\\n\\n` +\r\n                `Starting with: ${classList.students[0]?.name || 'First Student'}`\r\n            );\r\n        } else {\r\n            alert('Failed to initialize grading session. Please check the console for details.');\r\n        }\r\n    };\r\n\r\n    // NEW: Late Policy Settings Panel Component\r\n    const PolicySettingsPanel = () => (\r\n        <div style={{\r\n            backgroundColor: 'white',\r\n            border: '1px solid #e5e7eb',\r\n            borderRadius: '0.5rem',\r\n            padding: '1rem',\r\n            marginBottom: '1rem'\r\n        }}>\r\n            <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', marginBottom: '1rem' }}>\r\n                <h3 style={{ fontSize: '1rem', fontWeight: '600', color: '#1f2937', margin: 0, display: 'flex', alignItems: 'center', gap: '0.5rem' }}>\r\n                    <Clock size={16} />\r\n                    Late Policy Settings\r\n                </h3>\r\n                <button\r\n                    onClick={() => setShowPolicySettings(false)}\r\n                    style={{ padding: '0.25rem', backgroundColor: 'transparent', border: 'none', cursor: 'pointer' }}\r\n                >\r\n                    <X size={16} color=\"#6b7280\" />\r\n                </button>\r\n            </div>\r\n\r\n            <div style={{ marginBottom: '1rem' }}>\r\n                <label style={{ display: 'block', fontSize: '0.875rem', fontWeight: '500', color: '#374151', marginBottom: '0.5rem' }}>\r\n                    Select Late Policy for This Class\r\n                </label>\r\n                <select\r\n                    value={selectedPolicyId}\r\n                    onChange={(e) => setSelectedPolicyId(e.target.value)}\r\n                    style={{\r\n                        width: '100%',\r\n                        padding: '0.75rem',\r\n                        border: '1px solid #d1d5db',\r\n                        borderRadius: '0.375rem',\r\n                        fontSize: '0.875rem',\r\n                        backgroundColor: 'white'\r\n                    }}\r\n                >\r\n                    {Object.entries(availablePolicies).map(([policyId, policy]) => (\r\n                        <option key={policyId} value={policyId}>\r\n                            {policy.name} {policy.isDefault && '(Default)'} {policy.isCustom && '(Custom)'}\r\n                        </option>\r\n                    ))}\r\n                </select>\r\n            </div>\r\n\r\n            {/* Policy Preview */}\r\n            {availablePolicies[selectedPolicyId] && (\r\n                <div style={{ padding: '0.75rem', backgroundColor: '#f9fafb', borderRadius: '0.375rem', border: '1px solid #e5e7eb' }}>\r\n                    <h4 style={{ fontSize: '0.875rem', fontWeight: '600', color: '#1f2937', margin: '0 0 0.5rem 0' }}>\r\n                        {availablePolicies[selectedPolicyId].name}\r\n                    </h4>\r\n                    <p style={{ fontSize: '0.75rem', color: '#6b7280', margin: '0 0 0.75rem 0' }}>\r\n                        {availablePolicies[selectedPolicyId].description}\r\n                    </p>\r\n                    <div style={{ display: 'flex', flexDirection: 'column', gap: '0.25rem' }}>\r\n                        {Object.entries(availablePolicies[selectedPolicyId].levels).slice(0, 3).map(([levelKey, level]) => (\r\n                            <div key={levelKey} style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', fontSize: '0.75rem' }}>\r\n                                <span>{level.name}</span>\r\n                                <span style={{ color: level.multiplier < 1 ? '#dc2626' : '#16a34a', fontWeight: '500' }}>\r\n                                    {level.multiplier < 1 ? `-${Math.round((1 - level.multiplier) * 100)}%` : 'No penalty'}\r\n                                </span>\r\n                            </div>\r\n                        ))}\r\n                    </div>\r\n                </div>\r\n            )}\r\n\r\n            <div style={{ display: 'flex', gap: '0.5rem', marginTop: '1rem' }}>\r\n                <button\r\n                    onClick={() => {\r\n                        const selectedPolicy = availablePolicies[selectedPolicyId];\r\n                        setCurrentLatePolicy(selectedPolicy.isDefault ? null : selectedPolicy);\r\n\r\n                        // Update class list metadata\r\n                        if (classList) {\r\n                            setClassList(prev => ({\r\n                                ...prev,\r\n                                latePolicySettings: {\r\n                                    defaultPolicyId: selectedPolicyId,\r\n                                    policyName: selectedPolicy.name,\r\n                                    customPoliciesUsed: selectedPolicy.isCustom\r\n                                }\r\n                            }));\r\n                        }\r\n\r\n                        setShowPolicySettings(false);\r\n                        alert(`Late policy \"${selectedPolicy.name}\" has been applied to this class.`);\r\n                    }}\r\n                    style={{\r\n                        flex: 1,\r\n                        padding: '0.75rem',\r\n                        backgroundColor: '#3b82f6',\r\n                        color: 'white',\r\n                        border: 'none',\r\n                        borderRadius: '0.375rem',\r\n                        fontSize: '0.875rem',\r\n                        cursor: 'pointer'\r\n                    }}\r\n                >\r\n                    Apply Policy\r\n                </button>\r\n                <button\r\n                    onClick={() => setActiveTab('policy-manager')}\r\n                    style={{\r\n                        padding: '0.75rem 1rem',\r\n                        backgroundColor: '#f3f4f6',\r\n                        color: '#374151',\r\n                        border: '1px solid #d1d5db',\r\n                        borderRadius: '0.375rem',\r\n                        fontSize: '0.875rem',\r\n                        cursor: 'pointer'\r\n                    }}\r\n                >\r\n                    Manage Policies\r\n                </button>\r\n            </div>\r\n        </div>\r\n    );\r\n\r\n    // Calculate grading statistics with late policy awareness\r\n    const getGradingStats = () => {\r\n        if (!classList?.students) return { total: 0, graded: 0, draft: 0, notStarted: 0, withPenalties: 0 };\r\n\r\n        const stats = classList.students.reduce((acc, student) => {\r\n            const status = getGradeStatus(student.id);\r\n            const gradeData = loadFinalGrade(student.id) || hasDraft(student.id);\r\n\r\n            acc.total++;\r\n            if (status === 'final') acc.graded++;\r\n            else if (status === 'draft') acc.draft++;\r\n            else acc.notStarted++;\r\n\r\n            // NEW: Count students with late penalties\r\n            if (gradeData?.latePolicy?.penaltyApplied) {\r\n                acc.withPenalties++;\r\n            }\r\n\r\n            return acc;\r\n        }, { total: 0, graded: 0, draft: 0, notStarted: 0, withPenalties: 0 });\r\n\r\n        return stats;\r\n    };\r\n\r\n    const stats = getGradingStats();\r\n    const sortedStudents = getSortedAndFilteredStudents();\r\n\r\n    return (\r\n        <div style={{ maxWidth: '1200px', margin: '0 auto', padding: '1rem' }}>\r\n            {/* Header */}\r\n            <div style={{ backgroundColor: 'white', borderRadius: '0.5rem', padding: '1.5rem', marginBottom: '1.5rem', boxShadow: '0 1px 3px rgba(0,0,0,0.1)' }}>\r\n                <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', marginBottom: '1rem' }}>\r\n                    <div>\r\n                        <h1 style={{ fontSize: '1.75rem', fontWeight: 'bold', color: '#1f2937', margin: '0 0 0.5rem 0' }}>\r\n                            Class List Manager\r\n                        </h1>\r\n                        <p style={{ color: '#6b7280', margin: 0 }}>\r\n                            Import and manage your student class lists with late policy integration\r\n                        </p>\r\n                    </div>\r\n\r\n                    <div style={{ display: 'flex', gap: '0.75rem' }}>\r\n                        <input\r\n                            type=\"file\"\r\n                            ref={fileInputRef}\r\n                            onChange={handleFileUpload}\r\n                            accept=\".xlsx,.xls\"\r\n                            style={{ display: 'none' }}\r\n                        />\r\n                        <button\r\n                            onClick={() => fileInputRef.current?.click()}\r\n                            disabled={loading}\r\n                            style={{\r\n                                display: 'flex',\r\n                                alignItems: 'center',\r\n                                gap: '0.5rem',\r\n                                padding: '0.75rem 1rem',\r\n                                backgroundColor: loading ? '#9ca3af' : '#3b82f6',\r\n                                color: 'white',\r\n                                border: 'none',\r\n                                borderRadius: '0.375rem',\r\n                                fontSize: '0.875rem',\r\n                                cursor: loading ? 'not-allowed' : 'pointer'\r\n                            }}\r\n                        >\r\n                            {loading ? <RefreshCw size={16} className=\"animate-spin\" /> : <Upload size={16} />}\r\n                            {loading ? 'Importing...' : 'Import Excel'}\r\n                        </button>\r\n\r\n                        <button\r\n                            onClick={exportToExcel}\r\n                            disabled={!classList?.students?.length}\r\n                            style={{\r\n                                display: 'flex',\r\n                                alignItems: 'center',\r\n                                gap: '0.5rem',\r\n                                padding: '0.75rem 1rem',\r\n                                backgroundColor: !classList?.students?.length ? '#f3f4f6' : '#10b981',\r\n                                color: !classList?.students?.length ? '#9ca3af' : 'white',\r\n                                border: 'none',\r\n                                borderRadius: '0.375rem',\r\n                                fontSize: '0.875rem',\r\n                                cursor: !classList?.students?.length ? 'not-allowed' : 'pointer'\r\n                            }}\r\n                        >\r\n                            <Download size={16} />\r\n                            Export Excel\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n\r\n                {/* Stats Dashboard */}\r\n                {classList && (\r\n                    <div style={{ display: 'grid', gridTemplateColumns: 'repeat(auto-fit, minmax(150px, 1fr))', gap: '1rem' }}>\r\n                        <div style={{ padding: '1rem', backgroundColor: '#f9fafb', borderRadius: '0.375rem', textAlign: 'center' }}>\r\n                            <div style={{ display: 'flex', alignItems: 'center', justifyContent: 'center', gap: '0.5rem', marginBottom: '0.5rem' }}>\r\n                                <Users size={16} color=\"#6b7280\" />\r\n                                <span style={{ fontSize: '0.875rem', color: '#6b7280' }}>Total Students</span>\r\n                            </div>\r\n                            <div style={{ fontSize: '1.5rem', fontWeight: '600', color: '#1f2937' }}>\r\n                                {stats.total}\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div style={{ padding: '1rem', backgroundColor: '#f0fdf4', borderRadius: '0.375rem', textAlign: 'center' }}>\r\n                            <div style={{ display: 'flex', alignItems: 'center', justifyContent: 'center', gap: '0.5rem', marginBottom: '0.5rem' }}>\r\n                                <CheckCircle size={16} color=\"#16a34a\" />\r\n                                <span style={{ fontSize: '0.875rem', color: '#16a34a' }}>Graded</span>\r\n                            </div>\r\n                            <div style={{ fontSize: '1.5rem', fontWeight: '600', color: '#16a34a' }}>\r\n                                {stats.graded}\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div style={{ padding: '1rem', backgroundColor: '#fffbeb', borderRadius: '0.375rem', textAlign: 'center' }}>\r\n                            <div style={{ display: 'flex', alignItems: 'center', justifyContent: 'center', gap: '0.5rem', marginBottom: '0.5rem' }}>\r\n                                <Edit3 size={16} color=\"#f59e0b\" />\r\n                                <span style={{ fontSize: '0.875rem', color: '#f59e0b' }}>Drafts</span>\r\n                            </div>\r\n                            <div style={{ fontSize: '1.5rem', fontWeight: '600', color: '#f59e0b' }}>\r\n                                {stats.draft}\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div style={{ padding: '1rem', backgroundColor: '#fef2f2', borderRadius: '0.375rem', textAlign: 'center' }}>\r\n                            <div style={{ display: 'flex', alignItems: 'center', justifyContent: 'center', gap: '0.5rem', marginBottom: '0.5rem' }}>\r\n                                <AlertTriangle size={16} color=\"#dc2626\" />\r\n                                <span style={{ fontSize: '0.875rem', color: '#dc2626' }}>Late Penalties</span>\r\n                            </div>\r\n                            <div style={{ fontSize: '1.5rem', fontWeight: '600', color: '#dc2626' }}>\r\n                                {stats.withPenalties}\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div style={{ padding: '1rem', backgroundColor: '#f0f9ff', borderRadius: '0.375rem', textAlign: 'center' }}>\r\n                            <div style={{ display: 'flex', alignItems: 'center', justifyContent: 'center', gap: '0.5rem', marginBottom: '0.5rem' }}>\r\n                                <Clock size={16} color=\"#0284c7\" />\r\n                                <span style={{ fontSize: '0.875rem', color: '#0284c7' }}>Active Policy</span>\r\n                            </div>\r\n                            <div style={{ fontSize: '0.875rem', fontWeight: '600', color: '#0369a1' }}>\r\n                                {(currentLatePolicy || DEFAULT_LATE_POLICIES.institutional).name}\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                )}\r\n            </div>\r\n\r\n            {/* NEW: Late Policy Settings Panel */}\r\n            {showPolicySettings && <PolicySettingsPanel />}\r\n\r\n            {/* Controls and Actions */}\r\n            {classList && (\r\n                <div style={{ backgroundColor: 'white', borderRadius: '0.5rem', padding: '1.5rem', marginBottom: '1.5rem', boxShadow: '0 1px 3px rgba(0,0,0,0.1)' }}>\r\n                    <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', marginBottom: '1rem' }}>\r\n                        <h2 style={{ fontSize: '1.25rem', fontWeight: '600', color: '#1f2937', margin: 0 }}>\r\n                            Class Actions\r\n                        </h2>\r\n\r\n                        <div style={{ display: 'flex', gap: '0.75rem' }}>\r\n                            <button\r\n                                onClick={() => setShowPolicySettings(true)}\r\n                                style={{\r\n                                    display: 'flex',\r\n                                    alignItems: 'center',\r\n                                    gap: '0.5rem',\r\n                                    padding: '0.75rem 1rem',\r\n                                    backgroundColor: '#f0f9ff',\r\n                                    color: '#0369a1',\r\n                                    border: '1px solid #bae6fd',\r\n                                    borderRadius: '0.375rem',\r\n                                    fontSize: '0.875rem',\r\n                                    cursor: 'pointer'\r\n                                }}\r\n                            >\r\n                                <Settings size={16} />\r\n                                Policy Settings\r\n                            </button>\r\n\r\n                            <button\r\n                                onClick={addNewStudent}\r\n                                style={{\r\n                                    display: 'flex',\r\n                                    alignItems: 'center',\r\n                                    gap: '0.5rem',\r\n                                    padding: '0.75rem 1rem',\r\n                                    backgroundColor: '#f3f4f6',\r\n                                    color: '#374151',\r\n                                    border: '1px solid #d1d5db',\r\n                                    borderRadius: '0.375rem',\r\n                                    fontSize: '0.875rem',\r\n                                    cursor: 'pointer'\r\n                                }}\r\n                            >\r\n                                <Plus size={16} />\r\n                                Add Student\r\n                            </button>\r\n\r\n                            <button\r\n                                onClick={startGradingSession}\r\n                                disabled={!sharedRubric}\r\n                                style={{\r\n                                    display: 'flex',\r\n                                    alignItems: 'center',\r\n                                    gap: '0.5rem',\r\n                                    padding: '0.75rem 1rem',\r\n                                    backgroundColor: !sharedRubric ? '#f3f4f6' : '#16a34a',\r\n                                    color: !sharedRubric ? '#9ca3af' : 'white',\r\n                                    border: 'none',\r\n                                    borderRadius: '0.375rem',\r\n                                    fontSize: '0.875rem',\r\n                                    cursor: !sharedRubric ? 'not-allowed' : 'pointer'\r\n                                }}\r\n                            >\r\n                                <PlayCircle size={16} />\r\n                                Start Grading Session\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n\r\n                    {!sharedRubric && (\r\n                        <div style={{ padding: '0.75rem', backgroundColor: '#fffbeb', border: '1px solid #fed7aa', borderRadius: '0.375rem', marginBottom: '1rem' }}>\r\n                            <div style={{ display: 'flex', alignItems: 'center', gap: '0.5rem' }}>\r\n                                <AlertCircle size={16} color=\"#d97706\" />\r\n                                <span style={{ fontSize: '0.875rem', color: '#92400e' }}>\r\n                                    Please create or load a rubric before starting a grading session.\r\n                                </span>\r\n                                <button\r\n                                    onClick={() => setActiveTab('rubric-creator')}\r\n                                    style={{\r\n                                        fontSize: '0.875rem',\r\n                                        color: '#d97706',\r\n                                        backgroundColor: 'transparent',\r\n                                        border: 'none',\r\n                                        textDecoration: 'underline',\r\n                                        cursor: 'pointer',\r\n                                        marginLeft: '0.5rem'\r\n                                    }}\r\n                                >\r\n                                    Create Rubric ‚Üí\r\n                                </button>\r\n                            </div>\r\n                        </div>\r\n                    )}\r\n\r\n                    {/* Search and Filter Controls */}\r\n                    <div style={{ display: 'flex', gap: '1rem', alignItems: 'center', flexWrap: 'wrap' }}>\r\n                        <div style={{ flex: 1, minWidth: '200px' }}>\r\n                            <div style={{ position: 'relative' }}>\r\n                                <Search size={16} style={{ position: 'absolute', left: '0.75rem', top: '50%', transform: 'translateY(-50%)', color: '#6b7280' }} />\r\n                                <input\r\n                                    type=\"text\"\r\n                                    placeholder=\"Search students...\"\r\n                                    value={searchTerm}\r\n                                    onChange={(e) => setSearchTerm(e.target.value)}\r\n                                    style={{\r\n                                        width: '100%',\r\n                                        padding: '0.75rem 0.75rem 0.75rem 2.5rem',\r\n                                        border: '1px solid #d1d5db',\r\n                                        borderRadius: '0.375rem',\r\n                                        fontSize: '0.875rem'\r\n                                    }}\r\n                                />\r\n                            </div>\r\n                        </div>\r\n\r\n                        <select\r\n                            value={filterStatus}\r\n                            onChange={(e) => setFilterStatus(e.target.value)}\r\n                            style={{ padding: '0.75rem', border: '1px solid #d1d5db', borderRadius: '0.375rem', fontSize: '0.875rem', backgroundColor: 'white' }}\r\n                        >\r\n                            <option value=\"all\">All Students</option>\r\n                            <option value=\"graded\">Graded</option>\r\n                            <option value=\"draft\">Draft</option>\r\n                            <option value=\"not_started\">Not Started</option>\r\n                        </select>\r\n                    </div>\r\n                </div>\r\n            )}\r\n\r\n            {/* Student List Table */}\r\n            {classList && sortedStudents.length > 0 && (\r\n                <div style={{ backgroundColor: 'white', borderRadius: '0.5rem', overflow: 'hidden', boxShadow: '0 1px 3px rgba(0,0,0,0.1)' }}>\r\n                    <div style={{ overflowX: 'auto' }}>\r\n                        <table style={{ width: '100%', borderCollapse: 'collapse' }}>\r\n                            <thead>\r\n                                <tr style={{ backgroundColor: '#f9fafb', borderBottom: '1px solid #e5e7eb' }}>\r\n                                    <th style={{ padding: '0.75rem', textAlign: 'left', fontSize: '0.875rem', fontWeight: '600', color: '#374151' }}>\r\n                                        <button\r\n                                            onClick={() => handleSort('name')}\r\n                                            style={{ display: 'flex', alignItems: 'center', gap: '0.25rem', backgroundColor: 'transparent', border: 'none', cursor: 'pointer', fontSize: '0.875rem', fontWeight: '600', color: '#374151' }}\r\n                                        >\r\n                                            Student Name\r\n                                            {sortConfig.key === 'name' && <span>{sortConfig.direction === 'asc' ? '‚Üë' : '‚Üì'}</span>}\r\n                                        </button>\r\n                                    </th>\r\n                                    <th style={{ padding: '0.75rem', textAlign: 'left', fontSize: '0.875rem', fontWeight: '600', color: '#374151' }}>\r\n                                        <button\r\n                                            onClick={() => handleSort('id')}\r\n                                            style={{ display: 'flex', alignItems: 'center', gap: '0.25rem', backgroundColor: 'transparent', border: 'none', cursor: 'pointer', fontSize: '0.875rem', fontWeight: '600', color: '#374151' }}\r\n                                        >\r\n                                            Student ID\r\n                                            {sortConfig.key === 'id' && <span>{sortConfig.direction === 'asc' ? '‚Üë' : '‚Üì'}</span>}\r\n                                        </button>\r\n                                    </th>\r\n                                    <th style={{ padding: '0.75rem', textAlign: 'left', fontSize: '0.875rem', fontWeight: '600', color: '#374151' }}>Email</th>\r\n                                    <th style={{ padding: '0.75rem', textAlign: 'center', fontSize: '0.875rem', fontWeight: '600', color: '#374151' }}>\r\n                                        Grade Status\r\n                                    </th>\r\n                                    <th style={{ padding: '0.75rem', textAlign: 'center', fontSize: '0.875rem', fontWeight: '600', color: '#374151' }}>\r\n                                        Late Policy\r\n                                    </th>\r\n                                    <th style={{ padding: '0.75rem', textAlign: 'center', fontSize: '0.875rem', fontWeight: '600', color: '#374151' }}>Actions</th>\r\n                                </tr>\r\n                            </thead>\r\n                            <tbody>\r\n                                {sortedStudents.map((student, index) => {\r\n                                    const gradeStatus = getGradeStatus(student.id);\r\n                                    const gradeData = loadFinalGrade(student.id) || hasDraft(student.id);\r\n                                    const latePolicyData = gradeData?.latePolicy || {};\r\n\r\n                                    const statusStyles = {\r\n                                        final: { backgroundColor: '#dcfce7', color: '#166534', border: '1px solid #bbf7d0' },\r\n                                        draft: { backgroundColor: '#fef3c7', color: '#92400e', border: '1px solid #fed7aa' },\r\n                                        not_started: { backgroundColor: '#f3f4f6', color: '#374151', border: '1px solid #d1d5db' }\r\n                                    };\r\n\r\n                                    return (\r\n                                        <tr key={student.id} style={{ borderBottom: '1px solid #f3f4f6' }}>\r\n                                            <td style={{ padding: '0.75rem' }}>\r\n                                                <div style={{ display: 'flex', alignItems: 'center', gap: '0.5rem' }}>\r\n                                                    <User size={16} color=\"#6b7280\" />\r\n                                                    <span style={{ fontSize: '0.875rem', fontWeight: '500', color: '#1f2937' }}>\r\n                                                        {student.name}\r\n                                                    </span>\r\n                                                </div>\r\n                                            </td>\r\n                                            <td style={{ padding: '0.75rem', fontSize: '0.875rem', color: '#6b7280' }}>\r\n                                                {student.id}\r\n                                            </td>\r\n                                            <td style={{ padding: '0.75rem', fontSize: '0.875rem', color: '#6b7280' }}>\r\n                                                {student.email}\r\n                                            </td>\r\n                                            <td style={{ padding: '0.75rem', textAlign: 'center' }}>\r\n                                                <span style={{\r\n                                                    ...statusStyles[gradeStatus],\r\n                                                    padding: '0.25rem 0.75rem',\r\n                                                    borderRadius: '9999px',\r\n                                                    fontSize: '0.75rem',\r\n                                                    fontWeight: '500'\r\n                                                }}>\r\n                                                    {gradeStatus === 'final' ? 'Final' : gradeStatus === 'draft' ? 'Draft' : 'Not Started'}\r\n                                                </span>\r\n                                            </td>\r\n                                            <td style={{ padding: '0.75rem', textAlign: 'center' }}>\r\n                                                {latePolicyData.penaltyApplied ? (\r\n                                                    <div style={{ display: 'flex', flexDirection: 'column', alignItems: 'center', gap: '0.25rem' }}>\r\n                                                        <span style={{\r\n                                                            padding: '0.25rem 0.5rem',\r\n                                                            backgroundColor: '#fef2f2',\r\n                                                            color: '#dc2626',\r\n                                                            border: '1px solid #fecaca',\r\n                                                            borderRadius: '0.25rem',\r\n                                                            fontSize: '0.75rem',\r\n                                                            fontWeight: '500'\r\n                                                        }}>\r\n                                                            Penalty Applied\r\n                                                        </span>\r\n                                                        <span style={{ fontSize: '0.625rem', color: '#6b7280' }}>\r\n                                                            -{Math.round((1 - latePolicyData.multiplier) * 100)}%\r\n                                                        </span>\r\n                                                    </div>\r\n                                                ) : (\r\n                                                    <span style={{\r\n                                                        padding: '0.25rem 0.5rem',\r\n                                                        backgroundColor: '#f0fdf4',\r\n                                                        color: '#166534',\r\n                                                        border: '1px solid #bbf7d0',\r\n                                                        borderRadius: '0.25rem',\r\n                                                        fontSize: '0.75rem',\r\n                                                        fontWeight: '500'\r\n                                                    }}>\r\n                                                        On Time\r\n                                                    </span>\r\n                                                )}\r\n                                            </td>\r\n                                            <td style={{ padding: '0.75rem' }}>\r\n                                                <div style={{ display: 'flex', justifyContent: 'center', gap: '0.5rem' }}>\r\n                                                    <button\r\n                                                        onClick={() => selectStudent(student, index)}\r\n                                                        style={{\r\n                                                            padding: '0.375rem',\r\n                                                            backgroundColor: '#3b82f6',\r\n                                                            color: 'white',\r\n                                                            border: 'none',\r\n                                                            borderRadius: '0.25rem',\r\n                                                            cursor: 'pointer'\r\n                                                        }}\r\n                                                        title=\"Grade Student\"\r\n                                                    >\r\n                                                        <GraduationCap size={14} />\r\n                                                    </button>\r\n\r\n                                                    <button\r\n                                                        onClick={() => handleStudentEdit(student)}\r\n                                                        style={{\r\n                                                            padding: '0.375rem',\r\n                                                            backgroundColor: '#f59e0b',\r\n                                                            color: 'white',\r\n                                                            border: 'none',\r\n                                                            borderRadius: '0.25rem',\r\n                                                            cursor: 'pointer'\r\n                                                        }}\r\n                                                        title=\"Edit Student\"\r\n                                                    >\r\n                                                        <Edit3 size={14} />\r\n                                                    </button>\r\n\r\n                                                    <button\r\n                                                        onClick={() => handleStudentDelete(student.id)}\r\n                                                        style={{\r\n                                                            padding: '0.375rem',\r\n                                                            backgroundColor: '#ef4444',\r\n                                                            color: 'white',\r\n                                                            border: 'none',\r\n                                                            borderRadius: '0.25rem',\r\n                                                            cursor: 'pointer'\r\n                                                        }}\r\n                                                        title=\"Remove Student\"\r\n                                                    >\r\n                                                        <Trash2 size={14} />\r\n                                                    </button>\r\n                                                </div>\r\n                                            </td>\r\n                                        </tr>\r\n                                    );\r\n                                })}\r\n                            </tbody>\r\n                        </table>\r\n                    </div>\r\n                </div>\r\n            )}\r\n\r\n            {/* Empty State */}\r\n            {!classList && (\r\n                <div style={{ backgroundColor: 'white', borderRadius: '0.5rem', padding: '3rem', textAlign: 'center', boxShadow: '0 1px 3px rgba(0,0,0,0.1)' }}>\r\n                    <Users size={48} color=\"#d1d5db\" style={{ margin: '0 auto 1rem' }} />\r\n                    <h3 style={{ fontSize: '1.125rem', fontWeight: '600', color: '#1f2937', margin: '0 0 0.5rem 0' }}>\r\n                        No Class List Imported\r\n                    </h3>\r\n                    <p style={{ color: '#6b7280', marginBottom: '1.5rem' }}>\r\n                        Import an Excel file with your student list to get started with grading and late policy management.\r\n                    </p>\r\n                    <button\r\n                        onClick={() => fileInputRef.current?.click()}\r\n                        disabled={loading}\r\n                        style={{\r\n                            display: 'inline-flex',\r\n                            alignItems: 'center',\r\n                            gap: '0.5rem',\r\n                            padding: '0.75rem 1.5rem',\r\n                            backgroundColor: '#3b82f6',\r\n                            color: 'white',\r\n                            border: 'none',\r\n                            borderRadius: '0.375rem',\r\n                            fontSize: '0.875rem',\r\n                            cursor: 'pointer'\r\n                        }}\r\n                    >\r\n                        <Upload size={16} />\r\n                        Import Excel File\r\n                    </button>\r\n                </div>\r\n            )}\r\n\r\n            {/* Student Editor Modal */}\r\n            {showStudentEditor && editingStudent && (\r\n                <div style={{ position: 'fixed', top: 0, left: 0, right: 0, bottom: 0, backgroundColor: 'rgba(0,0,0,0.5)', zIndex: 1000, display: 'flex', alignItems: 'center', justifyContent: 'center', padding: '1rem' }}>\r\n                    <div style={{ backgroundColor: 'white', borderRadius: '0.5rem', padding: '1.5rem', maxWidth: '500px', width: '100%', boxShadow: '0 20px 25px -5px rgba(0, 0, 0, 0.1)' }}>\r\n                        <h3 style={{ fontSize: '1.125rem', fontWeight: '600', color: '#1f2937', margin: '0 0 1rem 0' }}>\r\n                            {editingStudent.name ? 'Edit Student' : 'Add New Student'}\r\n                        </h3>\r\n\r\n                        <div style={{ display: 'flex', flexDirection: 'column', gap: '1rem' }}>\r\n                            <div>\r\n                                <label style={{ display: 'block', fontSize: '0.875rem', fontWeight: '500', color: '#374151', marginBottom: '0.5rem' }}>\r\n                                    Student Name\r\n                                </label>\r\n                                <input\r\n                                    type=\"text\"\r\n                                    value={editingStudent.name}\r\n                                    onChange={(e) => setEditingStudent(prev => ({ ...prev, name: e.target.value }))}\r\n                                    style={{ width: '100%', padding: '0.75rem', border: '1px solid #d1d5db', borderRadius: '0.375rem', fontSize: '0.875rem' }}\r\n                                    placeholder=\"Enter student name\"\r\n                                />\r\n                            </div>\r\n\r\n                            <div>\r\n                                <label style={{ display: 'block', fontSize: '0.875rem', fontWeight: '500', color: '#374151', marginBottom: '0.5rem' }}>\r\n                                    Student ID\r\n                                </label>\r\n                                <input\r\n                                    type=\"text\"\r\n                                    value={editingStudent.id}\r\n                                    onChange={(e) => setEditingStudent(prev => ({ ...prev, id: e.target.value }))}\r\n                                    style={{ width: '100%', padding: '0.75rem', border: '1px solid #d1d5db', borderRadius: '0.375rem', fontSize: '0.875rem' }}\r\n                                    placeholder=\"Enter student ID\"\r\n                                />\r\n                            </div>\r\n\r\n                            <div>\r\n                                <label style={{ display: 'block', fontSize: '0.875rem', fontWeight: '500', color: '#374151', marginBottom: '0.5rem' }}>\r\n                                    Email Address\r\n                                </label>\r\n                                <input\r\n                                    type=\"email\"\r\n                                    value={editingStudent.email}\r\n                                    onChange={(e) => setEditingStudent(prev => ({ ...prev, email: e.target.value }))}\r\n                                    style={{ width: '100%', padding: '0.75rem', border: '1px solid #d1d5db', borderRadius: '0.375rem', fontSize: '0.875rem' }}\r\n                                    placeholder=\"Enter email address\"\r\n                                />\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div style={{ display: 'flex', gap: '0.75rem', marginTop: '1.5rem', justifyContent: 'flex-end' }}>\r\n                            <button\r\n                                onClick={() => setShowStudentEditor(false)}\r\n                                style={{ padding: '0.75rem 1rem', backgroundColor: '#6b7280', color: 'white', border: 'none', borderRadius: '0.375rem', cursor: 'pointer' }}\r\n                            >\r\n                                Cancel\r\n                            </button>\r\n                            <button\r\n                                onClick={handleStudentSave}\r\n                                disabled={!editingStudent.name || !editingStudent.id}\r\n                                style={{\r\n                                    padding: '0.75rem 1rem',\r\n                                    backgroundColor: !editingStudent.name || !editingStudent.id ? '#9ca3af' : '#3b82f6',\r\n                                    color: 'white',\r\n                                    border: 'none',\r\n                                    borderRadius: '0.375rem',\r\n                                    cursor: !editingStudent.name || !editingStudent.id ? 'not-allowed' : 'pointer'\r\n                                }}\r\n                            >\r\n                                Save Student\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            )}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default ClassListManager;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}