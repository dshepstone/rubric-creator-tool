{"ast":null,"code":"var _s = $RefreshSig$(),\n  _s2 = $RefreshSig$(),\n  _s3 = $RefreshSig$(),\n  _s4 = $RefreshSig$(),\n  _s5 = $RefreshSig$(),\n  _s6 = $RefreshSig$(),\n  _s7 = $RefreshSig$(),\n  _s8 = $RefreshSig$();\n// TanStack Query v5 hooks for Grading Policy Manager\n// File: src/hooks/useGradingPolicies.js\n\nimport { useQuery, useMutation, useQueryClient } from '@tanstack/react-query';\nimport gradingPolicyService from '../services/gradingPolicyService';\n\n// Query keys\nexport const gradingPolicyKeys = {\n  all: ['gradingPolicies'],\n  lists: () => [...gradingPolicyKeys.all, 'list'],\n  list: filters => [...gradingPolicyKeys.lists(), {\n    filters\n  }],\n  details: () => [...gradingPolicyKeys.all, 'detail'],\n  detail: id => [...gradingPolicyKeys.details(), id],\n  byProgram: programType => [...gradingPolicyKeys.all, 'byProgram', programType]\n};\n\n// Hook to get all policies\nexport const useGradingPolicies = (params = {}) => {\n  _s();\n  return useQuery({\n    queryKey: gradingPolicyKeys.list(params),\n    queryFn: () => gradingPolicyService.getPolicies(params),\n    select: data => data.success ? data.data : []\n  });\n};\n\n// Hook to get policy for specific program type\n_s(useGradingPolicies, \"4ZpngI1uv+Uo3WQHEZmTQ5FNM+k=\", false, function () {\n  return [useQuery];\n});\nexport const useGradingPolicyForProgram = programType => {\n  _s2();\n  return useQuery({\n    queryKey: gradingPolicyKeys.byProgram(programType),\n    queryFn: () => gradingPolicyService.getPolicyForProgram(programType),\n    enabled: !!programType,\n    select: data => data.success ? data.data : null\n  });\n};\n\n// Hook for grade calculation\n_s2(useGradingPolicyForProgram, \"4ZpngI1uv+Uo3WQHEZmTQ5FNM+k=\", false, function () {\n  return [useQuery];\n});\nexport const useGradeCalculation = () => {\n  _s3();\n  return useMutation({\n    mutationFn: ({\n      percentage,\n      policyId,\n      programType,\n      customProgramId\n    }) => gradingPolicyService.calculateGrade(percentage, policyId, programType, customProgramId)\n  });\n};\n\n// Hook for policy validation\n_s3(useGradeCalculation, \"wwwtpB20p0aLiHIvSy5P98MwIUg=\", false, function () {\n  return [useMutation];\n});\nexport const usePolicyValidation = () => {\n  _s4();\n  return useMutation({\n    mutationFn: policyData => gradingPolicyService.validatePolicy(policyData)\n  });\n};\n\n// Hook to create a new policy\n_s4(usePolicyValidation, \"wwwtpB20p0aLiHIvSy5P98MwIUg=\", false, function () {\n  return [useMutation];\n});\nexport const useCreatePolicy = () => {\n  _s5();\n  const queryClient = useQueryClient();\n  return useMutation({\n    mutationFn: policyData => gradingPolicyService.createPolicy(policyData),\n    onSuccess: () => {\n      // When a new policy is created, refetch the list of all policies\n      queryClient.invalidateQueries({\n        queryKey: gradingPolicyKeys.lists()\n      });\n    }\n  });\n};\n\n// Hook to update a policy\n_s5(useCreatePolicy, \"YK0wzM21ECnncaq5SECwU+/SVdQ=\", false, function () {\n  return [useQueryClient, useMutation];\n});\nexport const useUpdatePolicy = () => {\n  _s6();\n  const queryClient = useQueryClient();\n  return useMutation({\n    mutationFn: ({\n      policyId,\n      policyData\n    }) => gradingPolicyService.updatePolicy(policyId, policyData),\n    onSuccess: () => {\n      // When a policy is updated, refetch the list of all policies\n      queryClient.invalidateQueries({\n        queryKey: gradingPolicyKeys.lists()\n      });\n    }\n  });\n};\n\n// Hook to delete a policy\n_s6(useUpdatePolicy, \"YK0wzM21ECnncaq5SECwU+/SVdQ=\", false, function () {\n  return [useQueryClient, useMutation];\n});\nexport const useDeletePolicy = () => {\n  _s7();\n  const queryClient = useQueryClient();\n  return useMutation({\n    mutationFn: policyId => gradingPolicyService.deletePolicy(policyId),\n    onSuccess: () => {\n      // When a policy is deleted, refetch the list of all policies\n      queryClient.invalidateQueries({\n        queryKey: gradingPolicyKeys.lists()\n      });\n    }\n  });\n};\n\n// Custom hook for managing policy state in components\n_s7(useDeletePolicy, \"YK0wzM21ECnncaq5SECwU+/SVdQ=\", false, function () {\n  return [useQueryClient, useMutation];\n});\nexport const useGradingPolicyManager = () => {\n  _s8();\n  const queryClient = useQueryClient();\n  const invalidatePolicies = () => {\n    queryClient.invalidateQueries({\n      queryKey: gradingPolicyKeys.all\n    });\n  };\n  const prefetchPolicyForProgram = programType => {\n    queryClient.prefetchQuery({\n      queryKey: gradingPolicyKeys.byProgram(programType),\n      queryFn: () => gradingPolicyService.getPolicyForProgram(programType),\n      staleTime: 1000 * 60 * 10 // 10 minutes\n    });\n  };\n  return {\n    invalidatePolicies,\n    prefetchPolicyForProgram\n  };\n};\n_s8(useGradingPolicyManager, \"4R+oYVB2Uc11P7bp1KcuhpkfaTw=\", false, function () {\n  return [useQueryClient];\n});","map":{"version":3,"names":["useQuery","useMutation","useQueryClient","gradingPolicyService","gradingPolicyKeys","all","lists","list","filters","details","detail","id","byProgram","programType","useGradingPolicies","params","_s","queryKey","queryFn","getPolicies","select","data","success","useGradingPolicyForProgram","_s2","getPolicyForProgram","enabled","useGradeCalculation","_s3","mutationFn","percentage","policyId","customProgramId","calculateGrade","usePolicyValidation","_s4","policyData","validatePolicy","useCreatePolicy","_s5","queryClient","createPolicy","onSuccess","invalidateQueries","useUpdatePolicy","_s6","updatePolicy","useDeletePolicy","_s7","deletePolicy","useGradingPolicyManager","_s8","invalidatePolicies","prefetchPolicyForProgram","prefetchQuery","staleTime"],"sources":["C:/local clones/rubric-creation-app/src/hooks/useGradingPolicies.js"],"sourcesContent":["// TanStack Query v5 hooks for Grading Policy Manager\r\n// File: src/hooks/useGradingPolicies.js\r\n\r\nimport { useQuery, useMutation, useQueryClient } from '@tanstack/react-query';\r\nimport gradingPolicyService from '../services/gradingPolicyService';\r\n\r\n// Query keys\r\nexport const gradingPolicyKeys = {\r\n    all: ['gradingPolicies'],\r\n    lists: () => [...gradingPolicyKeys.all, 'list'],\r\n    list: (filters) => [...gradingPolicyKeys.lists(), { filters }],\r\n    details: () => [...gradingPolicyKeys.all, 'detail'],\r\n    detail: (id) => [...gradingPolicyKeys.details(), id],\r\n    byProgram: (programType) => [...gradingPolicyKeys.all, 'byProgram', programType],\r\n};\r\n\r\n// Hook to get all policies\r\nexport const useGradingPolicies = (params = {}) => {\r\n    return useQuery({\r\n        queryKey: gradingPolicyKeys.list(params),\r\n        queryFn: () => gradingPolicyService.getPolicies(params),\r\n        select: (data) => data.success ? data.data : [],\r\n    });\r\n};\r\n\r\n// Hook to get policy for specific program type\r\nexport const useGradingPolicyForProgram = (programType) => {\r\n    return useQuery({\r\n        queryKey: gradingPolicyKeys.byProgram(programType),\r\n        queryFn: () => gradingPolicyService.getPolicyForProgram(programType),\r\n        enabled: !!programType,\r\n        select: (data) => data.success ? data.data : null,\r\n    });\r\n};\r\n\r\n// Hook for grade calculation\r\nexport const useGradeCalculation = () => {\r\n    return useMutation({\r\n        mutationFn: ({ percentage, policyId, programType, customProgramId }) =>\r\n            gradingPolicyService.calculateGrade(percentage, policyId, programType, customProgramId),\r\n    });\r\n};\r\n\r\n// Hook for policy validation\r\nexport const usePolicyValidation = () => {\r\n    return useMutation({\r\n        mutationFn: (policyData) => gradingPolicyService.validatePolicy(policyData),\r\n    });\r\n};\r\n\r\n// Hook to create a new policy\r\nexport const useCreatePolicy = () => {\r\n    const queryClient = useQueryClient();\r\n    return useMutation({\r\n        mutationFn: (policyData) => gradingPolicyService.createPolicy(policyData),\r\n        onSuccess: () => {\r\n            // When a new policy is created, refetch the list of all policies\r\n            queryClient.invalidateQueries({ queryKey: gradingPolicyKeys.lists() });\r\n        },\r\n    });\r\n};\r\n\r\n// Hook to update a policy\r\nexport const useUpdatePolicy = () => {\r\n    const queryClient = useQueryClient();\r\n    return useMutation({\r\n        mutationFn: ({ policyId, policyData }) => gradingPolicyService.updatePolicy(policyId, policyData),\r\n        onSuccess: () => {\r\n            // When a policy is updated, refetch the list of all policies\r\n            queryClient.invalidateQueries({ queryKey: gradingPolicyKeys.lists() });\r\n        },\r\n    });\r\n};\r\n\r\n// Hook to delete a policy\r\nexport const useDeletePolicy = () => {\r\n    const queryClient = useQueryClient();\r\n    return useMutation({\r\n        mutationFn: (policyId) => gradingPolicyService.deletePolicy(policyId),\r\n        onSuccess: () => {\r\n            // When a policy is deleted, refetch the list of all policies\r\n            queryClient.invalidateQueries({ queryKey: gradingPolicyKeys.lists() });\r\n        },\r\n    });\r\n};\r\n\r\n// Custom hook for managing policy state in components\r\nexport const useGradingPolicyManager = () => {\r\n    const queryClient = useQueryClient();\r\n\r\n    const invalidatePolicies = () => {\r\n        queryClient.invalidateQueries({ queryKey: gradingPolicyKeys.all });\r\n    };\r\n\r\n    const prefetchPolicyForProgram = (programType) => {\r\n        queryClient.prefetchQuery({\r\n            queryKey: gradingPolicyKeys.byProgram(programType),\r\n            queryFn: () => gradingPolicyService.getPolicyForProgram(programType),\r\n            staleTime: 1000 * 60 * 10, // 10 minutes\r\n        });\r\n    };\r\n\r\n    return {\r\n        invalidatePolicies,\r\n        prefetchPolicyForProgram,\r\n    };\r\n};"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}